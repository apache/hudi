<!doctype html>
<html lang="cn" dir="ltr" class="docs-wrapper plugin-docs plugin-id-releases docs-version-current docs-doc-page docs-doc-id-release-0.12.0" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Release 0.12.0 | Apache Hudi</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hudi.apache.org/cn/releases/release-0.12.0"><meta data-rh="true" property="og:locale" content="cn"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="cn"><meta data-rh="true" name="docsearch:language" content="cn"><meta data-rh="true" name="keywords" content="apache hudi, data lake, lakehouse, big data, apache spark, apache flink, presto, trino, analytics, data engineering"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-releases-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-releases-current"><meta data-rh="true" property="og:title" content="Release 0.12.0 | Apache Hudi"><meta data-rh="true" name="description" content="Release 0.12.0 (docs)"><meta data-rh="true" property="og:description" content="Release 0.12.0 (docs)"><link data-rh="true" rel="icon" href="/cn/assets/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://hudi.apache.org/cn/releases/release-0.12.0"><link data-rh="true" rel="alternate" href="https://hudi.apache.org/releases/release-0.12.0" hreflang="en"><link data-rh="true" rel="alternate" href="https://hudi.apache.org/cn/releases/release-0.12.0" hreflang="cn"><link data-rh="true" rel="alternate" href="https://hudi.apache.org/releases/release-0.12.0" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Release 0.12.0","item":"https://hudi.apache.org/cn/releases/release-0.12.0"}]}</script><link rel="alternate" type="application/rss+xml" href="/cn/blog/rss.xml" title="Apache Hudi: User-Facing Analytics RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cn/blog/atom.xml" title="Apache Hudi: User-Facing Analytics Atom Feed">
<link rel="alternate" type="application/json" href="/cn/blog/feed.json" title="Apache Hudi: User-Facing Analytics JSON Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Apache Hudi" href="/cn/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/cn/videos/rss.xml" title="Apache Hudi RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cn/videos/atom.xml" title="Apache Hudi Atom Feed">





<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comfortaa|Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">
<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="9e4444ba-93cc-45ea-b143-783ae0fbeb6f" data-project-name="Apache Hudi" data-project-color="#FFFFFF" data-project-logo="https://hudi.apache.org/assets/images/logo-big.png" data-modal-disclaimer="This AI assistant answers Apache Hudi questions using your [documentation](https://hudi.apache.org/docs/quick-start-guide/), [dev setup](https://hudi.apache.org/contribute/developer-setup/), the [tech specs](https://hudi.apache.org/tech-specs-1point0/) and open GitHub Issues from the last year." data-modal-title="Apache Hudi AI Assistant" data-modal-example-questions-title="Try asking me..." data-modal-example-questions="How can I convert an existing COW table to MOR?,How do I set up incremental queries with Hudi tables?" data-modal-image="https://hudi.apache.org/assets/images/logo-big-2.png" data-modal-image-ask-ai="https://hudi.apache.org/assets/images/logo-big-2.png" data-modal-header-min-height="64px" data-modal-image-height="40" data-modal-image-width="40" data-modal-header-bg-color="#f8f9fa" data-modal-title-color="#0db1f9" data-button-text-color="#29557a" data-button-text="Ask AI" data-consent-required="true" data-consent-screen-title="Help us improve our AI assistant" data-consent-screen-disclaimer="By clicking &amp;quot;Allow tracking&amp;quot;, you consent to the use of the AI assistant in accordance with kapa.ai&#39;s [Privacy Policy](https://www.kapa.ai/content/privacy-policy). This service uses reCAPTCHA, which requires your consent to Google&#39;s [Privacy Policy](https://policies.google.com/privacy) and [Terms of Service](https://policies.google.com/terms). By proceeding, you explicitly agree to both kapa.ai&#39;s and Google&#39;s privacy policies." data-consent-screen-accept-button-text="Allow tracking" data-modal-disclaimer-font-size="0.80rem" data-query-input-placeholder-text-color="#29557a" data-submit-query-button-bg-color="#0db1f9" data-query-input-text-color="#29557a" data-user-analytics-cookie-enabled="false" data-query-input-border-color="#211b0e" data-question-text-color="#0db1f9" data-answer-text-color="#000" data-thread-clear-button-bg-color="#000000" data-thread-clear-button-text-color="#FFFFFF" data-answer-feedback-button-bg-color="#000000" data-answer-feedback-button-text-color="#FFFFFF" data-answer-feedback-button-active-bg-color="#000000" data-answer-feedback-button-active-text-color="#FFFFFF" data-answer-copy-button-bg-color="#000000" data-answer-copy-button-text-color="#FFFFFF" data-example-question-button-text-color="#29557a" data-modal-disclaimer-bg-color="#f8f9fa" data-modal-disclaimer-text-color="#0db1f9" data-deep-thinking-button-bg-color="#0db1f9" data-deep-thinking-button-text-color="#FFFFFF" data-deep-thinking-button-active-bg-color="#0db1f9" data-deep-thinking-button-hover-bg-color="#FFFFFF" data-deep-thinking-button-active-hover-bg-color="#29557a" data-deep-thinking-button-active-text-color="#FFFFFF" async></script><link rel="stylesheet" href="/cn/assets/css/styles.b75e1722.css">
<script src="/cn/assets/js/runtime~main.dc9fd04b.js" defer="defer"></script>
<script src="/cn/assets/js/main.cfcc6907.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" role="banner"><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like <b>Apache Hudi</b>, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/apache/hudi"><b>GitHub!<svg xmlns="http://www.w3.org/2000/svg\" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 -2 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></b></a> ⭐</div></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarWrapper_j_uY"><div class="navbar__inner navbarInnerStyle_KoMw"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cn/"><div class="navbar__logo navbarLogo_aghy"><img src="/cn/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/cn/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/cn/docs/overview">Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Learn</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cn/learn/tutorial-series">Tutorial Series</a></li><li><a class="dropdown__link" href="/cn/talks">Talks</a></li><li><a class="dropdown__link" href="/cn/blog">Blog</a></li><li><a class="dropdown__link" href="/cn/videos">Video Guides</a></li><li><a class="dropdown__link" href="/cn/faq">FAQ</a></li><li><a class="dropdown__link" href="/cn/tech-specs">Tech Specs</a></li><li><a class="dropdown__link" href="/cn/tech-specs-1point0">Tech Specs 1.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Contribute</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cn/contribute/developer-sync-call">Developer Sync Call</a></li><li><a class="dropdown__link" href="/cn/contribute/how-to-contribute">How to Contribute</a></li><li><a class="dropdown__link" href="/cn/contribute/developer-setup">Developer Setup</a></li><li><a class="dropdown__link" href="/cn/contribute/rfc-process">RFC Process</a></li><li><a class="dropdown__link" href="/cn/contribute/report-security-issues">Report Issues</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cn/community/get-involved">Get Involved</a></li><li><a class="dropdown__link" href="/cn/community/syncs">Community Syncs</a></li><li><a class="dropdown__link" href="/cn/community/office_hours">Office Hours</a></li><li><a class="dropdown__link" href="/cn/community/team">Team</a></li><li><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="dropdown__link">Join Our Slack Space<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><a class="navbar__item navbar__link" href="/cn/ecosystem">Ecosystem</a><a class="navbar__item navbar__link" href="/cn/powered-by">Who&#x27;s Using</a><a class="navbar__item navbar__link" href="/cn/roadmap">Roadmap</a><a class="navbar__item navbar__link" href="/cn/releases/download">Download</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/cn/docs/overview">1.0.2</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cn/docs/next/overview">Next</a></li><li><a class="dropdown__link" href="/cn/docs/overview">1.0.2</a></li><li><a class="dropdown__link" href="/cn/docs/1.0.1/overview">1.0.1</a></li><li><a class="dropdown__link" href="/cn/docs/1.0.0/overview">1.0.0</a></li><li><a class="dropdown__link" href="/cn/docs/0.15.0/overview">0.15.0</a></li><li><a class="dropdown__link" href="/cn/docs/0.14.1/overview">0.14.1</a></li><li><a class="dropdown__link" href="/cn/docs/0.14.0/overview">0.14.0</a></li><li><a class="dropdown__link" href="/cn/docs/0.13.1/overview">0.13.1</a></li><li><a class="dropdown__link" href="/cn/docs/0.13.0/overview">0.13.0</a></li><li><a class="dropdown__link" href="/cn/docs/0.12.3/overview">0.12.3</a></li><li><a class="dropdown__link" href="/cn/docs/0.12.2/overview">0.12.2</a></li><li><a class="dropdown__link" href="/cn/docs/0.12.1/overview">0.12.1</a></li><li><a class="dropdown__link" href="/cn/docs/0.12.0/overview">0.12.0</a></li><li><a class="dropdown__link" href="/cn/docs/0.11.1/overview">0.11.1</a></li><li><a class="dropdown__link" href="/cn/docs/0.11.0/overview">0.11.0</a></li><li><a class="dropdown__link" href="/cn/docs/0.10.1/overview">0.10.1</a></li><li><a class="dropdown__link" href="/cn/docs/0.10.0/overview">0.10.0</a></li><li><a class="dropdown__link" href="/cn/docs/0.9.0/overview">0.9.0</a></li><li><a class="dropdown__link" href="/cn/docs/0.8.0/overview">0.8.0</a></li><li><a class="dropdown__link" href="/cn/docs/0.7.0/overview">0.7.0</a></li><li><a class="dropdown__link" href="/cn/docs/0.6.0/quick-start-guide">0.6.0</a></li><li><a class="dropdown__link" href="/cn/docs/0.5.3/quick-start-guide">0.5.3</a></li><li><a class="dropdown__link" href="/cn/docs/0.5.2/quick-start-guide">0.5.2</a></li><li><a class="dropdown__link" href="/cn/docs/0.5.1/quick-start-guide">0.5.1</a></li><li><a class="dropdown__link" href="/cn/docs/0.5.0/quick-start-guide">0.5.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link locale-dropdown-wrapper"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Chinese<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 14 14" class="globeIcon_RxQM"><g clip-path="url(#a)"><path fill="#1C1E21" d="M14 6.457a6.84 6.84 0 0 0-7-6.02 6.843 6.843 0 0 0-7 6.02v1.085a6.843 6.843 0 0 0 7 6.02 6.843 6.843 0 0 0 7-6.02zm-1.094 0h-2.625a10 10 0 0 0-.376-2.222 6.7 6.7 0 0 0 1.531-.875 5.25 5.25 0 0 1 1.444 3.097zm-8.032 0a8.5 8.5 0 0 1 .324-1.872 7.4 7.4 0 0 0 3.63 0c.175.61.284 1.239.325 1.872zm4.305 1.085a8.4 8.4 0 0 1-.324 1.873 7.46 7.46 0 0 0-3.658 0 8.5 8.5 0 0 1-.323-1.873zm.35-4.375A10.3 10.3 0 0 0 8.75 1.75c.627.194 1.218.49 1.75.875a5.8 5.8 0 0 1-.998.577zM7.254 1.54A8.8 8.8 0 0 1 8.46 3.552c-.48.11-.97.165-1.461.167-.492-.001-.982-.057-1.461-.167.308-.722.715-1.4 1.207-2.012zM4.498 3.202a5.8 5.8 0 0 1-.998-.577 6 6 0 0 1 1.75-.875c-.294.46-.546.947-.753 1.452m-1.873.15c.47.358.984.652 1.531.874A9.6 9.6 0 0 0 3.78 6.45H1.155a5.25 5.25 0 0 1 1.47-3.098M1.12 7.541h2.625c.038.753.164 1.5.376 2.223a6.7 6.7 0 0 0-1.531.875 5.25 5.25 0 0 1-1.47-3.098m3.377 3.255q.311.76.753 1.453a6 6 0 0 1-1.75-.875q.47-.34.997-.578m2.25 1.663a8.6 8.6 0 0 1-1.208-2.013 6.5 6.5 0 0 1 2.922 0 8.5 8.5 0 0 1-1.207 2.013zm2.755-1.663q.552.235 1.042.578a6.3 6.3 0 0 1-1.75.875q.413-.697.708-1.453m1.873-.148a6.7 6.7 0 0 0-1.531-.875 9.5 9.5 0 0 0 .376-2.223h2.625a5.25 5.25 0 0 1-1.47 3.098"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h14v14H0z"></path></clipPath></defs></svg></a><ul class="dropdown__menu"><li><a href="/releases/release-0.12.0" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/cn/releases/release-0.12.0" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="cn">Chinese</a></li></ul></div><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://x.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-twitter-link" aria-label="Hudi Twitter Handle"></a><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-slack-link" aria-label="Hudi Slack Channel"></a><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-youtube-link" aria-label="Hudi YouTube Channel"></a><a href="https://www.linkedin.com/company/apache-hudi/?viewAsMember=true" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-linkedin-link" aria-label="Hudi Linkedin Page"></a><div class="navbarSearchContainer_Bca1"><div><div role="button" class="searchButton_o6KI" aria-label="Search"><span class="searchText_sHOJ">Search</span><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 14 14"><circle cx="6.864" cy="6.864" r="5.243" stroke="#1C1E21" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></circle><path stroke="#1C1E21" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m10.51 10.783 2.056 2.05"></path></svg></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar navbarSideMenu_TODO"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/cn/"><div class="navbar__logo navbarLogo_aghy"><img src="/cn/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/cn/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><button type="button" aria-label="Close navigation bar" class="clean-btn navbar-sidebar__close"><svg viewBox="0 0 15 15" width="21" height="21"><g stroke="var(--ifm-color-emphasis-600)" stroke-width="1.2"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><div class="navbar-sidebar__items"><div class="navbar-sidebar__item menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/cn/docs/overview">Docs</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Learn</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Contribute</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Community</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/cn/ecosystem">Ecosystem</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/cn/powered-by">Who&#x27;s Using</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/cn/roadmap">Roadmap</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/cn/releases/download">Download</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Versions</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret locale-dropdown-wrapper"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Languages<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 14 14" class="globeIcon_RxQM"><g clip-path="url(#a)"><path fill="#1C1E21" d="M14 6.457a6.84 6.84 0 0 0-7-6.02 6.843 6.843 0 0 0-7 6.02v1.085a6.843 6.843 0 0 0 7 6.02 6.843 6.843 0 0 0 7-6.02zm-1.094 0h-2.625a10 10 0 0 0-.376-2.222 6.7 6.7 0 0 0 1.531-.875 5.25 5.25 0 0 1 1.444 3.097zm-8.032 0a8.5 8.5 0 0 1 .324-1.872 7.4 7.4 0 0 0 3.63 0c.175.61.284 1.239.325 1.872zm4.305 1.085a8.4 8.4 0 0 1-.324 1.873 7.46 7.46 0 0 0-3.658 0 8.5 8.5 0 0 1-.323-1.873zm.35-4.375A10.3 10.3 0 0 0 8.75 1.75c.627.194 1.218.49 1.75.875a5.8 5.8 0 0 1-.998.577zM7.254 1.54A8.8 8.8 0 0 1 8.46 3.552c-.48.11-.97.165-1.461.167-.492-.001-.982-.057-1.461-.167.308-.722.715-1.4 1.207-2.012zM4.498 3.202a5.8 5.8 0 0 1-.998-.577 6 6 0 0 1 1.75-.875c-.294.46-.546.947-.753 1.452m-1.873.15c.47.358.984.652 1.531.874A9.6 9.6 0 0 0 3.78 6.45H1.155a5.25 5.25 0 0 1 1.47-3.098M1.12 7.541h2.625c.038.753.164 1.5.376 2.223a6.7 6.7 0 0 0-1.531.875 5.25 5.25 0 0 1-1.47-3.098m3.377 3.255q.311.76.753 1.453a6 6 0 0 1-1.75-.875q.47-.34.997-.578m2.25 1.663a8.6 8.6 0 0 1-1.208-2.013 6.5 6.5 0 0 1 2.922 0 8.5 8.5 0 0 1-1.207 2.013zm2.755-1.663q.552.235 1.042.578a6.3 6.3 0 0 1-1.75.875q.413-.697.708-1.453m1.873-.148a6.7 6.7 0 0 0-1.531-.875 9.5 9.5 0 0 0 .376-2.223h2.625a5.25 5.25 0 0 1-1.47 3.098"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h14v14H0z"></path></clipPath></defs></svg></a></li><li class="menu__list-item"><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li><li class="menu__list-item"><a href="https://x.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="menu__link header-twitter-link" aria-label="Hudi Twitter Handle"></a></li><li class="menu__list-item"><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="menu__link header-slack-link" aria-label="Hudi Slack Channel"></a></li><li class="menu__list-item"><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="menu__link header-youtube-link" aria-label="Hudi YouTube Channel"></a></li><li class="menu__list-item"><a href="https://www.linkedin.com/company/apache-hudi/?viewAsMember=true" target="_blank" rel="noopener noreferrer" class="menu__link header-linkedin-link" aria-label="Hudi Linkedin Page"></a></li></ul></div><div class="navbar-sidebar__item menu"><button type="button" class="clean-btn navbar-sidebar__back">← Back to main menu</button></div></div></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_bSxm"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_cWv0"><aside class="theme-doc-sidebar-container docSidebarContainer_RSuS"><div class="sidebarViewport_pYEE"><div class="sidebar_njMd"><nav aria-label="Sidebar navigation" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/download">Download</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-1.0.2">Release 1.0.2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-1.0.1">Release 1.0.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-1.0.0">Release 1.0.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.15.0">Release 0.15.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.14.1">Release 0.14.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-1.0.0-beta2">Release 1.0.0-beta2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-1.0.0-beta1">Release 1.0.0-beta1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.14.0">Release 0.14.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.13.1">Release 0.13.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.12.3">Release 0.12.3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.13.0">Release 0.13.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.12.2">Release 0.12.2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.12.1">Release 0.12.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/cn/releases/release-0.12.0">Release 0.12.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.11.1">Release 0.11.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.11.0">Release 0.11.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.10.1">Release 0.10.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.10.0">Release 0.10.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.9.0">Release 0.9.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.8.0">Release 0.8.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.7.0">Release 0.7.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.6.0">Release 0.6.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/older-releases">Older Releases</a></li></ul></nav></div></div></aside><main class="docMainContainer_hjYf"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cn/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Release 0.12.0</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Release 0.12.0</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="release-0120-docs"><a href="https://github.com/apache/hudi/releases/tag/release-0.12.0" target="_blank" rel="noopener noreferrer">Release 0.12.0</a> (<a href="/cn/docs/0.12.0/quick-start-guide">docs</a>)<a href="#release-0120-docs" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="long-term-support">Long Term Support<a href="#long-term-support" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>We aim to maintain 0.12 for a longer period of time and provide a stable release through the latest 0.12.x release for
users to migrate to.  The latest 0.12 release is <a href="/cn/releases/release-0.12.3">0.12.3</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="migration-guide">Migration Guide<a href="#migration-guide" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>In this release, there have been a few API and configuration updates listed below that warranted a new table version.
Hence, the latest <a href="https://github.com/apache/hudi/blob/bf86efef719b7760ea379bfa08c537431eeee09a/hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableVersion.java#L41" target="_blank" rel="noopener noreferrer">table version</a>
is <code>5</code>. For existing Hudi tables on older version, a one-time upgrade step will be executed automatically. Please take
note of the following updates before upgrading to Hudi 0.12.0.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-updates">Configuration Updates<a href="#configuration-updates" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>In this release, the default value for a few configurations have been changed. They are as follows:</p>
<ul>
<li>
<p><code>hoodie.bulkinsert.sort.mode</code>: This config is used to determine mode for sorting records for bulk insert. Its default value has been changed from <code>GLOBAL_SORT</code> to <code>NONE</code>, which means no sorting is done and it matches <code>spark.write.parquet()</code> in terms of overhead.</p>
</li>
<li>
<p><code>hoodie.datasource.hive_sync.partition_extractor_class</code>: This config is used to extract and transform partition value during Hive sync. Its default value has been changed from <code>SlashEncodedDayPartitionValueExtractor</code> to <code>MultiPartKeysValueExtractor</code>. If you relied on the previous default value (i.e., have not set it explicitly), you are required to set the config to <code>org.apache.hudi.hive.SlashEncodedDayPartitionValueExtractor</code>. From this release, if this config is not set and Hive sync is enabled, then partition value extractor class will be <strong>automatically inferred</strong> on the basis of number of partition fields and whether or not hive style partitioning is enabled.</p>
</li>
<li>
<p>The following configs will be inferred, if not set manually, from other configs&#x27; values:</p>
<ul>
<li>
<p><code>META_SYNC_BASE_FILE_FORMAT</code>: infer from <code>org.apache.hudi.common.table.HoodieTableConfig.BASE_FILE_FORMAT</code></p>
</li>
<li>
<p><code>META_SYNC_ASSUME_DATE_PARTITION</code>: infer from <code>org.apache.hudi.common.config.HoodieMetadataConfig.ASSUME_DATE_PARTITIONING</code></p>
</li>
<li>
<p><code>META_SYNC_DECODE_PARTITION</code>: infer from <code>org.apache.hudi.common.table.HoodieTableConfig.URL_ENCODE_PARTITIONING</code></p>
</li>
<li>
<p><code>META_SYNC_USE_FILE_LISTING_FROM_METADATA</code>: infer from <code>org.apache.hudi.common.config.HoodieMetadataConfig.ENABLE</code></p>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-updates">API Updates<a href="#api-updates" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>In <code>SparkKeyGeneratorInterface</code>, return type of the <code>getRecordKey</code> API has been changed from String to UTF8String.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Before</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">String getRecordKey(InternalRow row, StructType schema); </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// After</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">UTF8String getRecordKey(InternalRow row, StructType schema); </span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fallback-partition">Fallback Partition<a href="#fallback-partition" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>If partition field value was null, Hudi has a fallback mechanism instead of failing the write. Until 0.9.0,
<code>__HIVE_DEFAULT_PARTITION__</code>  was used as the fallback partition. After 0.9.0, due to some refactoring, fallback
partition changed to <code>default</code>. This default partition does not sit well with some of the query engines. So, we are
switching the fallback partition to <code>__HIVE_DEFAULT_PARTITION__</code>  from 0.12.0. We have added an upgrade step where in,
we fail the upgrade if the existing Hudi table has a partition named <code>default</code>. Users are expected to rewrite the data
in this partition to a partition named <a href="https://github.com/apache/hudi/blob/0d0a4152cfd362185066519ae926ac4513c7a152/hudi-common/src/main/java/org/apache/hudi/common/util/PartitionPathEncodeUtils.java#L29" target="_blank" rel="noopener noreferrer">__HIVE_DEFAULT_PARTITION__</a>.
However, if you had intentionally named your partition as <code>default</code>, you can bypass this using the config <code>hoodie.skip.default.partition.validation</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bundle-updates">Bundle Updates<a href="#bundle-updates" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<ul>
<li><code>hudi-aws-bundle</code> extracts away aws-related dependencies from hudi-utilities-bundle or hudi-spark-bundle. In order to use features such as Glue sync, Cloudwatch metrics reporter or DynamoDB lock provider, users need to provide hudi-aws-bundle jar along with hudi-utilities-bundle or hudi-spark-bundle jars.</li>
<li>Spark 3.3 support is added; users who are on Spark 3.3 can use <code>hudi-spark3.3-bundle</code> or <code>hudi-spark3-bundle</code> (legacy bundle name).</li>
<li>Spark 3.2 will continue to be supported via <code>hudi-spark3.2-bundle</code>.</li>
<li>Spark 3.1 will continue to be supported via <code>hudi-spark3.1-bundle</code>.</li>
<li>Spark 2.4 will continue to be supported via <code>hudi-spark2.4-bundle</code> or <code>hudi-spark-bundle</code> (legacy bundle name).</li>
<li>Flink 1.15 support is added; users who are on Flink 1.15 can use <code>hudi-flink1.15-bundle</code>.</li>
<li>Flink 1.14 will continue to be supported via <code>hudi-flink1.14-bundle</code>.</li>
<li>Flink 1.13 will continue to be supported via <code>hudi-flink1.13-bundle</code>.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="release-highlights">Release Highlights<a href="#release-highlights" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="presto-hudi-connector">Presto-Hudi Connector<a href="#presto-hudi-connector" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>Since version 0.275 of PrestoDB, users can now leverage native Hudi connector to query Hudi table.
It is on par with Hudi support in the Hive connector. To learn more about the usage of the connector,
please checkout <a href="https://prestodb.io/docs/current/connector/hudi.html" target="_blank" rel="noopener noreferrer">prestodb documentation</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="archival-beyond-savepoint">Archival Beyond Savepoint<a href="#archival-beyond-savepoint" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>Hudi supports savepoint and restore feature that is useful for backup and disaster recovery scenarios. More info can be
found <a href="https://hudi.apache.org/docs/disaster_recovery" target="_blank" rel="noopener noreferrer">here</a>. Until 0.12.0, archival for a given table will not make
progress beyond the first savepointed commit. But there has been ask from the community to relax this constraint so that
some coarse grained commits can be retained in the active timeline and execute point in time queries. So, with 0.12.0,
users can now let archival proceed beyond savepoint commits by enabling <code>hoodie.archive.beyond.savepoint</code> write
configuration. This unlocks new opportunities for Hudi users. For example, one can retain commits for years, by adding
one savepoint per day for older commits (lets say &gt; 30 days). And query hudi table using &quot;as.of.instant&quot; with any older
savepointed commit. By this, Hudi does not need to retain every commit in the active timeline for older commits.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>However, if this feature is enabled, restore cannot be supported. This limitation would be relaxed in a future release
and the development of this feature can be tracked in <a href="https://issues.apache.org/jira/browse/HUDI-4500" target="_blank" rel="noopener noreferrer">HUDI-4500</a>.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="file-system-based-lock-provider">File system based Lock Provider<a href="#file-system-based-lock-provider" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>For multiple writers using optimistic concurrency control, Hudi already supports lock providers based on
Zookeeper, Hive Metastore or Amazon DynamoDB. In this release, there is a new file system based lock provider. Unlike the
need for external systems in other lock providers, this implementation acquires/releases a lock based on atomic
create/delete operations of the underlying file system. To use this lock provider, users need to set the following
minimal configurations (please check the <a href="/cn/docs/configurations#Locks-Configurations">lock configuration</a> for a few
other optional configs that can be used):</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.write.concurrency.mode=optimistic_concurrency_control</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.write.lock.provider=org.apache.hudi.client.transaction.lock.FileSystemBasedLockProvider</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deltastreamer-termination-strategy">Deltastreamer Termination Strategy<a href="#deltastreamer-termination-strategy" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>Users can now configure a post-write termination strategy with deltastreamer <code>continuous</code> mode if need be. For instance,
users can configure graceful shutdown if there is no new data from source for 5 consecutive times. Here is the interface
for the termination strategy.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * Post write termination strategy for deltastreamer in continuous mode.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public interface PostWriteTerminationStrategy {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   * Returns whether deltastreamer needs to be shutdown.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   * @param scheduledCompactionInstantAndWriteStatuses optional pair of scheduled compaction instant and write statuses.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   * @return true if deltastreamer has to be shutdown. false otherwise.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  boolean shouldShutdown(Option&lt;Pair&lt;Option&lt;String&gt;, JavaRDD&lt;WriteStatus&gt;&gt;&gt; scheduledCompactionInstantAndWriteStatuses);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Also, this might help in bootstrapping a new table. Instead of doing one bulk load or bulk_insert leveraging a large
cluster for a large input of data, one could start deltastreamer on continuous mode and add a shutdown strategy to
terminate, once all data has been bootstrapped. This way, each batch could be smaller and may not need a large cluster
to bootstrap data. We have one concrete implementation out of the box, <a href="https://github.com/apache/hudi/blob/0d0a4152cfd362185066519ae926ac4513c7a152/hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/NoNewDataTerminationStrategy.java" target="_blank" rel="noopener noreferrer">NoNewDataTerminationStrategy</a>.
Users can feel free to implement their own strategy as they see fit.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="spark-33-support">Spark 3.3 Support<a href="#spark-33-support" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>Spark 3.3 support is added; users who are on Spark 3.3 can use <code>hudi-spark3.3-bundle</code> or <code>hudi-spark3-bundle</code>. Spark 3.2,
Spark 3.1 and Spark 2.4 will continue to be supported. Please check the migration guide for <a href="#bundle-updates">bundle updates</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="spark-sql-support-improvements">Spark SQL Support Improvements<a href="#spark-sql-support-improvements" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<ul>
<li>Support for upgrade, downgrade, bootstrap, clean, rollback and repair through <code>Call Procedure</code> command.</li>
<li>Support for <code>analyze table</code>.</li>
<li>Support for <code>Create/Drop/Show/Refresh Index</code> syntax through Spark SQL.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="flink-115-support">Flink 1.15 Support<a href="#flink-115-support" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>Flink 1.15.x is integrated with Hudi, use profile param <code>-Pflink1.15</code> when compiling the codes to adapt the version.
Alternatively, use <code>hudi-flink1.15-bundle</code>. Flink 1.14 and Flink 1.13 will continue to be supported. Please check the
migration guide for <a href="#bundle-updates">bundle updates</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="flink-integration-improvements">Flink Integration Improvements<a href="#flink-integration-improvements" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<ul>
<li><strong>Data skipping</strong> is supported for batch mode read, set up SQL option <code>metadata.enabled</code>, <code>hoodie.metadata.index.column.stats.enable</code>  and <code>read.data.skipping.enabled</code> as true to enable it.</li>
<li>A <strong>HMS-based Flink catalog</strong> is added with catalog identifier as <code>hudi</code>. You can instantiate the catalog through API directly or use the <code>CREATE CATALOG</code>  syntax to create it. Specifies catalog option <code>&#x27;mode&#x27; = &#x27;hms&#x27;</code>  to switch to the HMS catalog. By default, the catalog is in <code>dfs</code> mode.</li>
<li><strong>Async clustering</strong> is supported for Flink <code>INSERT</code> operation, set up SQL option <code>clustering.schedule.enabled</code> and <code>clustering.async.enabled</code> as true to enable it. When enabling this feature, a clustering sub-pipeline is scheduled asynchronously continuously to merge the small files continuously into larger ones.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-improvements">Performance Improvements<a href="#performance-improvements" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>This version brings more improvements to make Hudi the most performant lake storage format. Some notable improvements are:</p>
<ul>
<li>Closed the performance gap in writing through Spark datasource vs sql. Previously, datasource writes were faster.</li>
<li>All built-in key generators implement more performant Spark-specific APIs.</li>
<li>Replaced UDF in bulk insert operation with RDD transformation to cut down serde cost.</li>
<li>Optimized column stats index performance in data skipping.</li>
</ul>
<p>We recently benchmarked Hudi against TPC-DS workload.
Please check out <a href="/cn/blog/2022/06/29/Apache-Hudi-vs-Delta-Lake-transparent-tpc-ds-lakehouse-performance-benchmarks">our blog</a> for more details.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="known-regressions">Known Regressions:<a href="#known-regressions" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>We discovered a regression in Hudi 0.12 release related to Bloom
Index metadata persisted w/in Parquet footers <a href="https://issues.apache.org/jira/browse/HUDI-4992" target="_blank" rel="noopener noreferrer">HUDI-4992</a>.</p>
<p>Crux of the problem was that min/max statistics for the record keys were
computed incorrectly during (Spark-specific) <a href="https://hudi.apache.org/docs/next/configurations#hoodiedatasourcewriterowwriterenable" target="_blank" rel="noopener noreferrer">row-writing</a>
Bulk Insert operation affecting <a href="https://hudi.apache.org/docs/next/basic_configurations/#hoodiebloomindexprunebyranges" target="_blank" rel="noopener noreferrer">Key Range Pruning flow</a>
w/in <a href="https://hudi.apache.org/docs/next/faq/#how-do-i-configure-bloom-filter-when-bloomglobal_bloom-index-is-used" target="_blank" rel="noopener noreferrer">Hoodie Bloom Index</a>
tagging sequence, resulting into updated records being incorrectly tagged
as &quot;inserts&quot; and not as &quot;updates&quot;, leading to duplicated records in the
table.</p>
<p><a href="https://github.com/apache/hudi/pull/6883" target="_blank" rel="noopener noreferrer">PR#6883</a> addressing the problem is incorporated into
Hudi 0.12.1 release.*</p>
<p>If all of the following is applicable to you:</p>
<ol>
<li>Using Spark as an execution engine</li>
<li>Using Bulk Insert (using <a href="https://hudi.apache.org/docs/next/configurations#hoodiedatasourcewriterowwriterenable" target="_blank" rel="noopener noreferrer">row-writing</a>,
enabled <em>by default</em>)</li>
<li>Using Bloom Index (with <a href="https://hudi.apache.org/docs/next/basic_configurations/#hoodiebloomindexprunebyranges" target="_blank" rel="noopener noreferrer">range-pruning</a>
enabled, enabled <em>by default</em>) for &quot;UPSERT&quot; operations</li>
</ol>
<ul>
<li>Note: Default index type is SIMPLE. So, unless you have over-ridden the index type, you may not hit this issue.</li>
</ul>
<p>Please consider one of the following potential remediations to avoid
getting duplicate records in your pipeline:</p>
<ul>
<li><a href="https://hudi.apache.org/docs/next/basic_configurations/#hoodiebloomindexprunebyranges" target="_blank" rel="noopener noreferrer">Disabling Bloom Index range-pruning</a>
flow (might
affect performance of upsert operations)</li>
<li>Upgrading to 0.12.1.</li>
<li>Making sure that the <a href="https://github.com/apache/hudi/pull/6883" target="_blank" rel="noopener noreferrer">fix</a> is
included in your custom artifacts (if you&#x27;re building and using ones)</li>
</ul>
<p>We also found another regression related to metadata table and timeline server interplay with streaming ingestion pipelines.</p>
<p>The FileSystemView that Hudi maintains internally could go out of sync due to a occasional race conditions when table services are involved
(compaction, clustering) and could result in updates and deletes routed to older file versions and hence resulting in missed updates and deletes.</p>
<p>Here are the user-flows that could potentially be impacted with this.</p>
<ul>
<li>This impacts pipelines using Deltastreamer in <strong>continuous mode</strong> (sync once is not impacted), Spark streaming, or if you have been directly
using write client across batches/commits instead of the standard ways to write to Hudi. In other words, batch writes should not be impacted.</li>
<li>Among these write models, this could have an impact only when table services are enabled.<!-- -->
<ul>
<li>COW: clustering enabled (inline or async)</li>
<li>MOR: compaction enabled (by default, inline or async)</li>
</ul>
</li>
<li>Also, the impact is applicable only when metadata table is enabled, and timeline server is enabled (which are defaults as of 0.12.0)</li>
</ul>
<p>Based on some production data, we expect this issue might impact roughly &lt; 1% of updates to be missed, since its a race condition
and table services are generally scheduled once every N commits. The percentage of update misses could be even less if the
frequency of table services is less.</p>
<p><a href="https://issues.apache.org/jira/browse/HUDI-5863" target="_blank" rel="noopener noreferrer">Here</a> is the jira for the issue of interest and the fix has already been landed in master.
0.12.3 should have the <a href="https://github.com/apache/hudi/pull/8079" target="_blank" rel="noopener noreferrer">fix</a>. Until we have a 0.12.3 release, we recommend you to disable metadata table
(<code>hoodie.metadata.enable=false</code>) to mitigate the issue.</p>
<p>We also discovered a regression for Flink streaming writer with the hive meta sync which is introduced by HUDI-3730, the refactoring to <code>HiveSyncConfig</code>
causes the Hive <code>Resources</code> config objects leaking, which finally leads to an OOM exception for the JobManager if the streaming job runs continuously for weeks.
0.12.3 should have the <a href="https://github.com/apache/hudi/pull/8050" target="_blank" rel="noopener noreferrer">fix</a>. Until we have a 0.12.3 release, we recommend you to cherry-pick the fix to local
if hive meta sync is required.</p>
<p>Sorry about the inconvenience caused.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="raw-release-notes">Raw Release Notes<a href="#raw-release-notes" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>The raw release notes are available <a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12322822&amp;version=12351209" target="_blank" rel="noopener noreferrer">here</a>.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/cn/releases/release-0.12.1"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Release 0.12.1</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cn/releases/release-0.11.1"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Release 0.11.1</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#release-0120-docs" class="table-of-contents__link toc-highlight">Release 0.12.0 (docs)</a></li><li><a href="#long-term-support" class="table-of-contents__link toc-highlight">Long Term Support</a></li><li><a href="#migration-guide" class="table-of-contents__link toc-highlight">Migration Guide</a><ul><li><a href="#configuration-updates" class="table-of-contents__link toc-highlight">Configuration Updates</a></li><li><a href="#api-updates" class="table-of-contents__link toc-highlight">API Updates</a></li><li><a href="#fallback-partition" class="table-of-contents__link toc-highlight">Fallback Partition</a></li><li><a href="#bundle-updates" class="table-of-contents__link toc-highlight">Bundle Updates</a></li></ul></li><li><a href="#release-highlights" class="table-of-contents__link toc-highlight">Release Highlights</a><ul><li><a href="#presto-hudi-connector" class="table-of-contents__link toc-highlight">Presto-Hudi Connector</a></li><li><a href="#archival-beyond-savepoint" class="table-of-contents__link toc-highlight">Archival Beyond Savepoint</a></li><li><a href="#file-system-based-lock-provider" class="table-of-contents__link toc-highlight">File system based Lock Provider</a></li><li><a href="#deltastreamer-termination-strategy" class="table-of-contents__link toc-highlight">Deltastreamer Termination Strategy</a></li><li><a href="#spark-33-support" class="table-of-contents__link toc-highlight">Spark 3.3 Support</a></li><li><a href="#spark-sql-support-improvements" class="table-of-contents__link toc-highlight">Spark SQL Support Improvements</a></li><li><a href="#flink-115-support" class="table-of-contents__link toc-highlight">Flink 1.15 Support</a></li><li><a href="#flink-integration-improvements" class="table-of-contents__link toc-highlight">Flink Integration Improvements</a></li><li><a href="#performance-improvements" class="table-of-contents__link toc-highlight">Performance Improvements</a></li></ul></li><li><a href="#known-regressions" class="table-of-contents__link toc-highlight">Known Regressions:</a></li><li><a href="#raw-release-notes" class="table-of-contents__link toc-highlight">Raw Release Notes</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">About</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cn/blog/2021/07/21/streaming-data-lake-platform">Our Vision</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/concepts">Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/community/team">Team</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/releases/release-1.0.2">Releases</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/releases/download">Download</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/powered-by">Who&#x27;s Using</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cn/docs/quick-start-guide">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/learn/tutorial-series">Tutorial Series</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/talks">Talks</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/videos">Video Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/faq">FAQ</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Hudi On Cloud</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cn/docs/s3_hoodie">AWS</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/gcs_hoodie">Google Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/oss_hoodie">Alibaba Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/azure_hoodie">Microsoft Azure</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/cos_hoodie">Tencent Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/ibm_cos_hoodie">IBM Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/oci_hoodie">Oracle Cloud</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cn/community/get-involved">Get Involved</a></li><li class="footer__item"><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/apache-hudi/?viewAsMember=true" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="mailto:dev-subscribe@hudi.apache.org?Subject=SubscribeToHudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mailing List</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Apache</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks</a></li><li class="footer__item"><a href="https://www.apache.org/licenses" target="_blank" rel="noopener noreferrer" class="footer__link-item">License</a></li><li class="footer__item"><a href="https://www.apache.org/security" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/asf/privacy">Privacy</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/asf/telemetry">Telemetry</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship</a></li><li class="footer__item"><a href="https://www.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foundation</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://hudi.apache.org/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/cn/assets/images/logo-big.png" alt="Apache Hudi™" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/cn/assets/images/logo-big.png" alt="Apache Hudi™" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Copyright © 2021 <a href="https://apache.org">The Apache Software Foundation</a>, Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0"> Apache License, Version 2.0</a>.
      Hudi, Apache and the Apache feather logo are trademarks of The Apache Software Foundation. <a href="/docs/privacy">Privacy Policy</a></div></div></div></footer></div>
</body>
</html>