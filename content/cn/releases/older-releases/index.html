<!doctype html>
<html class="docs-version-current" lang="cn" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/cn/blog/rss.xml" title="Apache Hudi: User-Facing Analytics RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cn/blog/atom.xml" title="Apache Hudi: User-Facing Analytics Atom Feed">
<link rel="alternate" type="application/json" href="/cn/blog/feed.json" title="Apache Hudi: User-Facing Analytics JSON Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Apache Hudi" href="/cn/opensearch.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comfortaa|Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css"><title data-react-helmet="true">Older Releases | Apache Hudi</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://hudi.apache.org/cn/releases/older-releases"><meta data-react-helmet="true" name="docsearch:language" content="cn"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-releases-current"><meta data-react-helmet="true" name="keywords" content="apache hudi, data lake, lakehouse, big data, apache spark, apache flink, presto, trino, analytics, data engineering"><meta data-react-helmet="true" property="og:title" content="Older Releases | Apache Hudi"><meta data-react-helmet="true" name="description" content="This page contains older release information, for bookkeeping purposes. It&#x27;s recommended that you upgrade to one of the"><meta data-react-helmet="true" property="og:description" content="This page contains older release information, for bookkeeping purposes. It&#x27;s recommended that you upgrade to one of the"><link data-react-helmet="true" rel="icon" href="/cn/assets/images/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://hudi.apache.org/cn/releases/older-releases"><link data-react-helmet="true" rel="alternate" href="https://hudi.apache.org/releases/older-releases" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://hudi.apache.org/cn/releases/older-releases" hreflang="cn"><link data-react-helmet="true" rel="alternate" href="https://hudi.apache.org/releases/older-releases" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/cn/assets/css/styles.3e1442cd.css">
<link rel="preload" href="/cn/assets/js/runtime~main.ff39f15a.js" as="script">
<link rel="preload" href="/cn/assets/js/main.ca8796bd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><div class="announcementBar_axC9" role="banner"><div class="announcementBarPlaceholder_xYHE"></div><div class="announcementBarContent_6uhP">⭐️ If you like Apache Hudi, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/apache/hudi">GitHub</a>! ⭐</div><button type="button" class="clean-btn close announcementBarClose_A3A1" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarWrapper_UIa0"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cn/"><div class="navbar__logo navbarLogo_Bz6n"><img src="/cn/assets/images/hudi.png" alt="Apache Hudi" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/cn/assets/images/hudi.png" alt="Apache Hudi" class="themedImage_TMUO themedImage--dark_uzRr"></div></a><a class="navbar__item navbar__link" href="/cn/docs/overview"><div class="labelWrapperDropdown_Mqbj">Docs</div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link downloadLinkDropdownHide_aDP3"><div class="labelWrapperDropdown_Mqbj">Learn<svg width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 1.25 5 4.75l-3.5-3.5" stroke="#1C1E21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cn/talks"><div class="labelWrapperDropdown_Mqbj">Talks</div></a></li><li><a class="dropdown__link" href="/cn/videos"><div class="labelWrapperDropdown_Mqbj">Video Guides</div></a></li><li><a class="dropdown__link" href="/cn/docs/faq"><div class="labelWrapperDropdown_Mqbj">FAQ</div></a></li><li><a class="dropdown__link" href="/cn/tech-specs"><div class="labelWrapperDropdown_Mqbj">Tech Specs</div></a></li><li><a href="https://cwiki.apache.org/confluence/display/HUDI" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span class="externalLink_AE3f">Technical Wiki<svg width="20" height="20" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.965 8.745 9.01 16.7M10.561 8.758l6.403-.013-.013 6.403" stroke="#0DB1F9" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><rect x="4.5" y="4.5" width="17" height="17" rx="2.5" stroke="#0DB1F9"></rect></svg></span></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link downloadLinkDropdownHide_aDP3"><div class="labelWrapperDropdown_Mqbj">Contribute<svg width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 1.25 5 4.75l-3.5-3.5" stroke="#1C1E21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cn/contribute/how-to-contribute"><div class="labelWrapperDropdown_Mqbj">How to Contribute</div></a></li><li><a class="dropdown__link" href="/cn/contribute/developer-setup"><div class="labelWrapperDropdown_Mqbj">Developer Setup</div></a></li><li><a class="dropdown__link" href="/cn/contribute/rfc-process"><div class="labelWrapperDropdown_Mqbj">RFC Process</div></a></li><li><a class="dropdown__link" href="/cn/contribute/report-security-issues"><div class="labelWrapperDropdown_Mqbj">Report Security Issues</div></a></li><li><a href="https://issues.apache.org/jira/projects/HUDI/summary" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span class="externalLink_AE3f">Report Issues<svg width="20" height="20" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.965 8.745 9.01 16.7M10.561 8.758l6.403-.013-.013 6.403" stroke="#0DB1F9" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><rect x="4.5" y="4.5" width="17" height="17" rx="2.5" stroke="#0DB1F9"></rect></svg></span></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link downloadLinkDropdownHide_aDP3"><div class="labelWrapperDropdown_Mqbj">Community<svg width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 1.25 5 4.75l-3.5-3.5" stroke="#1C1E21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cn/community/get-involved"><div class="labelWrapperDropdown_Mqbj">Get Involved</div></a></li><li><a class="dropdown__link" href="/cn/community/syncs"><div class="labelWrapperDropdown_Mqbj">Community Syncs</div></a></li><li><a class="dropdown__link" href="/cn/community/office_hours"><div class="labelWrapperDropdown_Mqbj">Office Hours</div></a></li><li><a class="dropdown__link" href="/cn/community/team"><div class="labelWrapperDropdown_Mqbj">Team</div></a></li></ul></div><a class="navbar__item navbar__link" href="/cn/blog"><div class="labelWrapperDropdown_Mqbj">Blog</div></a><a class="navbar__item navbar__link" href="/cn/powered-by"><div class="labelWrapperDropdown_Mqbj">Who&#x27;s Using</div></a><a class="navbar__item navbar__link" href="/cn/roadmap"><div class="labelWrapperDropdown_Mqbj">Roadmap</div></a><a class="navbar__item navbar__link" href="/cn/releases/download"><div class="labelWrapperDropdown_Mqbj">Download</div></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link downloadLinkDropdownHide_aDP3" href="/cn/docs/overview"><div class="labelWrapperDropdown_Mqbj">0.13.0<svg width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 1.25 5 4.75l-3.5-3.5" stroke="#1C1E21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cn/docs/next/overview"><div class="labelWrapperDropdown_Mqbj">Next</div></a></li><li><a class="dropdown__link" href="/cn/docs/overview"><div class="labelWrapperDropdown_Mqbj">0.13.0</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.12.2/overview"><div class="labelWrapperDropdown_Mqbj">0.12.2</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.12.1/overview"><div class="labelWrapperDropdown_Mqbj">0.12.1</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.12.0/overview"><div class="labelWrapperDropdown_Mqbj">0.12.0</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.11.1/overview"><div class="labelWrapperDropdown_Mqbj">0.11.1</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.11.0/overview"><div class="labelWrapperDropdown_Mqbj">0.11.0</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.10.1/overview"><div class="labelWrapperDropdown_Mqbj">0.10.1</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.10.0/overview"><div class="labelWrapperDropdown_Mqbj">0.10.0</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.9.0/overview"><div class="labelWrapperDropdown_Mqbj">0.9.0</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.8.0/overview"><div class="labelWrapperDropdown_Mqbj">0.8.0</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.7.0/overview"><div class="labelWrapperDropdown_Mqbj">0.7.0</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.6.0/quick-start-guide"><div class="labelWrapperDropdown_Mqbj">0.6.0</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.5.3/quick-start-guide"><div class="labelWrapperDropdown_Mqbj">0.5.3</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.5.2/quick-start-guide"><div class="labelWrapperDropdown_Mqbj">0.5.2</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.5.1/quick-start-guide"><div class="labelWrapperDropdown_Mqbj">0.5.1</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.5.0/quick-start-guide"><div class="labelWrapperDropdown_Mqbj">0.5.0</div></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link downloadLinkDropdownHide_aDP3"><div class="labelWrapperDropdown_Mqbj"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_zID8"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Chinese</span></span><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M14 6.457a6.842 6.842 0 0 0-7-6.02 6.843 6.843 0 0 0-7 6.02v1.085a6.843 6.843 0 0 0 7 6.02 6.843 6.843 0 0 0 7-6.02V6.457Zm-1.094 0h-2.625a9.92 9.92 0 0 0-.376-2.222 6.65 6.65 0 0 0 1.531-.875 5.25 5.25 0 0 1 1.444 3.097h.026Zm-8.032 0a8.479 8.479 0 0 1 .324-1.872 7.376 7.376 0 0 0 3.63 0c.175.61.284 1.239.325 1.872h-4.28Zm4.305 1.085a8.391 8.391 0 0 1-.324 1.873 7.464 7.464 0 0 0-3.658 0 8.479 8.479 0 0 1-.323-1.873h4.305Zm.35-4.375A10.342 10.342 0 0 0 8.75 1.75c.627.194 1.218.49 1.75.875a5.748 5.748 0 0 1-.998.577l.027-.035ZM7.254 1.54A8.75 8.75 0 0 1 8.46 3.552c-.48.11-.97.165-1.461.167-.492-.001-.982-.057-1.461-.167.308-.722.715-1.4 1.207-2.012h.508ZM4.498 3.202a5.748 5.748 0 0 1-.998-.577 6.029 6.029 0 0 1 1.75-.875c-.294.46-.546.947-.753 1.452Zm-1.873.15c.47.358.984.652 1.531.874A9.625 9.625 0 0 0 3.78 6.45H1.155a5.25 5.25 0 0 1 1.47-3.098ZM1.12 7.541h2.625c.038.753.164 1.5.376 2.223a6.649 6.649 0 0 0-1.531.875 5.25 5.25 0 0 1-1.47-3.098Zm3.377 3.255c.207.506.459.992.753 1.453a6.03 6.03 0 0 1-1.75-.875c.312-.226.646-.419.997-.578Zm2.25 1.663a8.594 8.594 0 0 1-1.208-2.013 6.501 6.501 0 0 1 2.922 0 8.54 8.54 0 0 1-1.207 2.013h-.508Zm2.755-1.663c.367.156.716.35 1.042.578a6.338 6.338 0 0 1-1.75.875c.275-.464.512-.95.708-1.453Zm1.873-.148a6.647 6.647 0 0 0-1.531-.875 9.45 9.45 0 0 0 .376-2.223h2.625a5.25 5.25 0 0 1-1.47 3.098Z" fill="#1C1E21"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h14v14H0z"></path></clipPath></defs></svg></div></a><ul class="dropdown__menu"><li><a href="/releases/older-releases" target="_self" rel="noopener noreferrer" class="dropdown__link"><div class="labelWrapperDropdown_Mqbj">English</div></a></li><li><a href="/cn/releases/older-releases" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active"><div class="labelWrapperDropdown_Mqbj">Chinese</div></a></li></ul></div><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"><div class="labelWrapperDropdown_Mqbj"></div></a><a href="https://twitter.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-twitter-link" aria-label="Hudi Twitter Handle"><div class="labelWrapperDropdown_Mqbj"></div></a><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-1e94d3xro-JvlNO1kSeIHJBTVfLPlI5w" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-slack-link" aria-label="Hudi Slack Channel"><div class="labelWrapperDropdown_Mqbj"></div></a><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-youtube-link" aria-label="Hudi YouTube Channel"><div class="labelWrapperDropdown_Mqbj"></div></a><div class="searchBox_fBfG"><div role="button" class="searchButton_g9-U" aria-label="Search"><span class="searchText_RI6l">Search</span><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="6.864" cy="6.864" r="5.243" stroke="#1C1E21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></circle><path d="m10.51 10.783 2.056 2.05" stroke="#1C1E21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/cn/"><div class="navbar__logo"><img src="/cn/assets/images/hudi.png" alt="Apache Hudi" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/cn/assets/images/hudi.png" alt="Apache Hudi" class="themedImage_TMUO themedImage--dark_uzRr"></div></a><button type="button" class="clean-btn navbar-sidebar__close"><svg viewBox="0 0 15 15" width="21" height="21"><g stroke="var(--ifm-color-emphasis-600)" stroke-width="1.2"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><div class="navbar-sidebar__items"><div class="navbar-sidebar__item menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/cn/docs/overview"><div class="labelWrapperDropdown_Mqbj">Docs</div></a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist"><div class="labelWrapperDropdown_Mqbj">Learn</div></a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist"><div class="labelWrapperDropdown_Mqbj">Contribute</div></a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist"><div class="labelWrapperDropdown_Mqbj">Community</div></a></li><li class="menu__list-item"><a class="menu__link" href="/cn/blog"><div class="labelWrapperDropdown_Mqbj">Blog</div></a></li><li class="menu__list-item"><a class="menu__link" href="/cn/powered-by"><div class="labelWrapperDropdown_Mqbj">Who&#x27;s Using</div></a></li><li class="menu__list-item"><a class="menu__link" href="/cn/roadmap"><div class="labelWrapperDropdown_Mqbj">Roadmap</div></a></li><li class="menu__list-item"><a class="menu__link" href="/cn/releases/download"><div class="labelWrapperDropdown_Mqbj">Download</div></a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist"><div class="labelWrapperDropdown_Mqbj">Versions</div></a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist"><div class="labelWrapperDropdown_Mqbj"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_zID8"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Languages</span></span></div></a></li><li class="menu__list-item"><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"><div class="labelWrapperDropdown_Mqbj"></div></a></li><li class="menu__list-item"><a href="https://twitter.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="menu__link header-twitter-link" aria-label="Hudi Twitter Handle"><div class="labelWrapperDropdown_Mqbj"></div></a></li><li class="menu__list-item"><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-1e94d3xro-JvlNO1kSeIHJBTVfLPlI5w" target="_blank" rel="noopener noreferrer" class="menu__link header-slack-link" aria-label="Hudi Slack Channel"><div class="labelWrapperDropdown_Mqbj"></div></a></li><li class="menu__list-item"><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="menu__link header-youtube-link" aria-label="Hudi YouTube Channel"><div class="labelWrapperDropdown_Mqbj"></div></a></li></ul></div><div class="navbar-sidebar__item menu"><button type="button" class="clean-btn navbar-sidebar__back">← Back to main menu</button></div></div></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/download">Download</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.13.0">Release 0.13.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.12.2">Release 0.12.2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.11.1">Release 0.11.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/releases/release-0.10.1">Release 0.10.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/cn/releases/older-releases">Older Releases</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Older Releases</h1></header><p>This page contains older release information, for bookkeeping purposes. It&#x27;s recommended that you upgrade to one of the
more recent releases listed <a href="/cn/releases/download">here</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-0121-docs"><a href="https://github.com/apache/hudi/releases/tag/release-0.12.1" target="_blank" rel="noopener noreferrer">Release 0.12.1</a> (<a href="/cn/docs/0.12.1/quick-start-guide">docs</a>)<a class="hash-link" href="#release-0121-docs" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_y2LR" id="long-term-support">Long Term Support<a class="hash-link" href="#long-term-support" title="Direct link to heading">​</a></h2><p>We aim to maintain 0.12 for a longer period of time and provide a stable release through the latest 0.12.x release for
users to migrate to.  The latest 0.12 release is <a href="/cn/releases/release-0.12.2">0.12.2</a>.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="migration-guide">Migration Guide<a class="hash-link" href="#migration-guide" title="Direct link to heading">​</a></h2><ul><li>This release (0.12.1) does not introduce any new table version, thus no migration is needed if you are on 0.12.0.</li><li>If migrating from an older release, please check the migration guide from the previous release notes, specifically
the upgrade instructions in <a href="/cn/releases/older-releases#release-060-docs">0.6.0</a>,
<a href="/cn/releases/older-releases#release-090-docs">0.9.0</a>, <a href="/cn/releases/older-releases#release-0100-docs">0.10.0</a>,
<a href="/cn/releases/older-releases#release-0110-docs">0.11.0</a>, and <a href="/cn/releases/older-releases#release-0120-docs">0.12.0</a>.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-highlights">Release Highlights<a class="hash-link" href="#release-highlights" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="improve-hudi-cli">Improve Hudi Cli<a class="hash-link" href="#improve-hudi-cli" title="Direct link to heading">​</a></h3><p>Add command to repair deprecated partition, rename partition and trace file group through a range of commits.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="fix-invalid-record-key-stats-in-parquet-metadata">Fix invalid record key stats in Parquet metadata<a class="hash-link" href="#fix-invalid-record-key-stats-in-parquet-metadata" title="Direct link to heading">​</a></h3><p>Crux of the problem was that min/max statistics for the record keys were computed incorrectly during (Spark-specific) row-writing
Bulk Insert operation affecting Key Range Pruning flow w/in Hoodie Bloom Index tagging sequence, resulting into updated records being incorrectly tagged
as &quot;inserts&quot; and not as &quot;updates&quot;, leading to duplicated records in the table.</p><p>If all of the following is applicable to you:</p><ol><li>Using Spark as an execution engine</li><li>Using Bulk Insert (using row-writing
<a href="https://hudi.apache.org/docs/next/configurations#hoodiedatasourcewriterowwriterenable" target="_blank" rel="noopener noreferrer">https://hudi.apache.org/docs/next/configurations#hoodiedatasourcewriterowwriterenable</a>,
enabled <em>by default</em>)</li><li>Using Bloom Index (with range-pruning
<a href="https://hudi.apache.org/docs/next/basic_configurations/#hoodiebloomindexprunebyranges" target="_blank" rel="noopener noreferrer">https://hudi.apache.org/docs/next/basic_configurations/#hoodiebloomindexprunebyranges</a>
enabled, enabled <em>by default</em>) for &quot;UPSERT&quot; operations</li></ol><p>Recommended to upgrading to 0.12.1 to avoid getting duplicate records in your pipeline.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="bug-fixes">Bug fixes<a class="hash-link" href="#bug-fixes" title="Direct link to heading">​</a></h3><p>0.12.1 release is mainly intended for bug fixes and stability. The fixes span across many components, including</p><ul><li>DeltaStreamer</li><li>Table config</li><li>Table services</li><li>Metadata table</li><li>Spark SQL support</li><li>Presto support</li><li>Hive Sync</li><li>Flink engine</li><li>Unit, functional, integration tests and CI</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="known-regressions">Known Regressions<a class="hash-link" href="#known-regressions" title="Direct link to heading">​</a></h2><p>We discovered a regression in Hudi 0.12.1 release related to metadata table and timeline server interplay with streaming ingestion pipelines.</p><p>The FileSystemView that Hudi maintains internally could go out of sync due to a occasional race conditions when table services are involved
(compaction, clustering) and could result in updates and deletes routed to older file versions and hence resulting in missed updates and deletes.</p><p>Here are the user-flows that could potentially be impacted with this.</p><ul><li>This impacts pipelines using Deltastreamer in <strong>continuous mode</strong> (sync once is not impacted), Spark streaming, or if you have been directly
using write client across batches/commits instead of the standard ways to write to Hudi. In other words, batch writes should not be impacted.</li><li>Among these write models, this could have an impact only when table services are enabled.<ul><li>COW: clustering enabled (inline or async)</li><li>MOR: compaction enabled (by default, inline or async)</li></ul></li><li>Also, the impact is applicable only when metadata table is enabled, and timeline server is enabled (which are defaults as of 0.12.1)</li></ul><p>Based on some production data, we expect this issue might impact roughly &lt; 1% of updates to be missed, since its a race condition
and table services are generally scheduled once every N commits. The percentage of update misses could be even less if the
frequency of table services is less.</p><p><a href="https://issues.apache.org/jira/browse/HUDI-5863" target="_blank" rel="noopener noreferrer">Here</a> is the jira for the issue of interest and the fix has already been landed in master.
0.12.3 should have the <a href="https://github.com/apache/hudi/pull/8079" target="_blank" rel="noopener noreferrer">fix</a>. Until we have a 0.12.3 release, we recommend you to disable metadata table
(<code>hoodie.metadata.enable=false</code>) to mitigate the issue.</p><p>We also discovered a regression for Flink streaming writer with the hive meta sync which is introduced by HUDI-3730, the refactoring to <code>HiveSyncConfig</code>
causes the Hive <code>Resources</code> config objects leaking, which finally leads to an OOM exception for the JobManager if the streaming job runs continuously for weeks.
0.12.3 should have the <a href="https://github.com/apache/hudi/pull/8050" target="_blank" rel="noopener noreferrer">fix</a>. Until we have a 0.12.3 release, we recommend you to cherry-pick the fix to local
if hive meta sync is required.</p><p>Sorry about the inconvenience caused.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="raw-release-notes">Raw Release Notes<a class="hash-link" href="#raw-release-notes" title="Direct link to heading">​</a></h2><p>The raw release notes are available <a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12322822&amp;version=12352182" target="_blank" rel="noopener noreferrer">here</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-0120-docs"><a href="https://github.com/apache/hudi/releases/tag/release-0.12.0" target="_blank" rel="noopener noreferrer">Release 0.12.0</a> (<a href="/cn/docs/0.12.0/quick-start-guide">docs</a>)<a class="hash-link" href="#release-0120-docs" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_y2LR" id="long-term-support-1">Long Term Support<a class="hash-link" href="#long-term-support-1" title="Direct link to heading">​</a></h2><p>We aim to maintain 0.12 for a longer period of time and provide a stable release through the latest 0.12.x release for
users to migrate to.  The latest 0.12 release is <a href="/cn/releases/release-0.12.2">0.12.2</a>.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="migration-guide-1">Migration Guide<a class="hash-link" href="#migration-guide-1" title="Direct link to heading">​</a></h2><p>In this release, there have been a few API and configuration updates listed below that warranted a new table version.
Hence, the latest <a href="https://github.com/apache/hudi/blob/bf86efef719b7760ea379bfa08c537431eeee09a/hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableVersion.java#L41" target="_blank" rel="noopener noreferrer">table version</a>
is <code>5</code>. For existing Hudi tables on older version, a one-time upgrade step will be executed automatically. Please take
note of the following updates before upgrading to Hudi 0.12.0.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="configuration-updates">Configuration Updates<a class="hash-link" href="#configuration-updates" title="Direct link to heading">​</a></h3><p>In this release, the default value for a few configurations have been changed. They are as follows:</p><ul><li><p><code>hoodie.bulkinsert.sort.mode</code>: This config is used to determine mode for sorting records for bulk insert. Its default value has been changed from <code>GLOBAL_SORT</code> to <code>NONE</code>, which means no sorting is done and it matches <code>spark.write.parquet()</code> in terms of overhead.</p></li><li><p><code>hoodie.datasource.hive_sync.partition_value_extractor</code>: This config is used to extract and transform partition value during Hive sync. Its default value has been changed from <code>SlashEncodedDayPartitionValueExtractor</code> to <code>MultiPartKeysValueExtractor</code>. If you relied on the previous default value (i.e., have not set it explicitly), you are required to set the config to <code>org.apache.hudi.hive.SlashEncodedDayPartitionValueExtractor</code>. From this release, if this config is not set and Hive sync is enabled, then partition value extractor class will be <strong>automatically inferred</strong> on the basis of number of partition fields and whether or not hive style partitioning is enabled.</p></li><li><p>The following configs will be inferred, if not set manually, from other configs&#x27; values:</p><ul><li><p><code>META_SYNC_BASE_FILE_FORMAT</code>: infer from <code>org.apache.hudi.common.table.HoodieTableConfig.BASE_FILE_FORMAT</code></p></li><li><p><code>META_SYNC_ASSUME_DATE_PARTITION</code>: infer from <code>org.apache.hudi.common.config.HoodieMetadataConfig.ASSUME_DATE_PARTITIONING</code></p></li><li><p><code>META_SYNC_DECODE_PARTITION</code>: infer from <code>org.apache.hudi.common.table.HoodieTableConfig.URL_ENCODE_PARTITIONING</code></p></li><li><p><code>META_SYNC_USE_FILE_LISTING_FROM_METADATA</code>: infer from <code>org.apache.hudi.common.config.HoodieMetadataConfig.ENABLE</code></p></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="api-updates">API Updates<a class="hash-link" href="#api-updates" title="Direct link to heading">​</a></h3><p>In <code>SparkKeyGeneratorInterface</code>, return type of the <code>getRecordKey</code> API has been changed from String to UTF8String.</p><div class="codeBlockContainer_J+bg language-java theme-code-block"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Before</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">String getRecordKey(InternalRow row, StructType schema); </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// After</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">UTF8String getRecordKey(InternalRow row, StructType schema); </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="fallback-partition">Fallback Partition<a class="hash-link" href="#fallback-partition" title="Direct link to heading">​</a></h3><p>If partition field value was null, Hudi has a fallback mechanism instead of failing the write. Until 0.9.0,
<code>__HIVE_DEFAULT_PARTITION__</code>  was used as the fallback partition. After 0.9.0, due to some refactoring, fallback
partition changed to <code>default</code>. This default partition does not sit well with some of the query engines. So, we are
switching the fallback partition to <code>__HIVE_DEFAULT_PARTITION__</code>  from 0.12.0. We have added an upgrade step where in,
we fail the upgrade if the existing Hudi table has a partition named <code>default</code>. Users are expected to rewrite the data
in this partition to a partition named <a href="https://github.com/apache/hudi/blob/0d0a4152cfd362185066519ae926ac4513c7a152/hudi-common/src/main/java/org/apache/hudi/common/util/PartitionPathEncodeUtils.java#L29" target="_blank" rel="noopener noreferrer">_<!-- -->_<!-- -->HIVE_DEFAULT_PARTITION<!-- -->_<!-- -->_</a>.
However, if you had intentionally named your partition as <code>default</code>, you can bypass this using the config <code>hoodie.skip.default.partition.validation</code>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="bundle-updates">Bundle Updates<a class="hash-link" href="#bundle-updates" title="Direct link to heading">​</a></h3><ul><li><code>hudi-aws-bundle</code> extracts away aws-related dependencies from hudi-utilities-bundle or hudi-spark-bundle. In order to use features such as Glue sync, Cloudwatch metrics reporter or DynamoDB lock provider, users need to provide hudi-aws-bundle jar along with hudi-utilities-bundle or hudi-spark-bundle jars.</li><li>Spark 3.3 support is added; users who are on Spark 3.3 can use <code>hudi-spark3.3-bundle</code> or <code>hudi-spark3-bundle</code> (legacy bundle name).</li><li>Spark 3.2 will continue to be supported via <code>hudi-spark3.2-bundle</code>.</li><li>Spark 3.1 will continue to be supported via <code>hudi-spark3.1-bundle</code>.</li><li>Spark 2.4 will continue to be supported via <code>hudi-spark2.4-bundle</code> or <code>hudi-spark-bundle</code> (legacy bundle name).</li><li>Flink 1.15 support is added; users who are on Flink 1.15 can use <code>hudi-flink1.15-bundle</code>.</li><li>Flink 1.14 will continue to be supported via <code>hudi-flink1.14-bundle</code>.</li><li>Flink 1.13 will continue to be supported via <code>hudi-flink1.13-bundle</code>.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-highlights-1">Release Highlights<a class="hash-link" href="#release-highlights-1" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="presto-hudi-connector">Presto-Hudi Connector<a class="hash-link" href="#presto-hudi-connector" title="Direct link to heading">​</a></h3><p>Since version 0.275 of PrestoDB, users can now leverage native Hudi connector to query Hudi table.
It is on par with Hudi support in the Hive connector. To learn more about the usage of the connector,
please checkout <a href="https://prestodb.io/docs/current/connector/hudi.html" target="_blank" rel="noopener noreferrer">prestodb documentation</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="archival-beyond-savepoint">Archival Beyond Savepoint<a class="hash-link" href="#archival-beyond-savepoint" title="Direct link to heading">​</a></h3><p>Hudi supports savepoint and restore feature that is useful for backup and disaster recovery scenarios. More info can be
found <a href="https://hudi.apache.org/docs/disaster_recovery" target="_blank" rel="noopener noreferrer">here</a>. Until 0.12.0, archival for a given table will not make
progress beyond the first savepointed commit. But there has been ask from the community to relax this constraint so that
some coarse grained commits can be retained in the active timeline and execute point in time queries. So, with 0.12.0,
users can now let archival proceed beyond savepoint commits by enabling <code>hoodie.archive.beyond.savepoint</code> write
configuration. This unlocks new opportunities for Hudi users. For example, one can retain commits for years, by adding
one savepoint per day for older commits (lets say &gt; 30 days). And query hudi table using &quot;as.of.instant&quot; with any older
savepointed commit. By this, Hudi does not need to retain every commit in the active timeline for older commits.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>However, if this feature is enabled, restore cannot be supported. This limitation would be relaxed in a future release
and the development of this feature can be tracked in <a href="https://issues.apache.org/jira/browse/HUDI-4500" target="_blank" rel="noopener noreferrer">HUDI-4500</a>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="file-system-based-lock-provider">File system based Lock Provider<a class="hash-link" href="#file-system-based-lock-provider" title="Direct link to heading">​</a></h3><p>For multiple writers using optimistic concurrency control, Hudi already supports lock providers based on
Zookeeper, Hive Metastore or Amazon DynamoDB. In this release, there is a new file system based lock provider. Unlike the
need for external systems in other lock providers, this implementation acquires/releases a lock based on atomic
create/delete operations of the underlying file system. To use this lock provider, users need to set the following
minimal configurations (please check the <a href="/cn/docs/configurations#Locks-Configurations">lock configuration</a> for a few
other optional configs that can be used):</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.write.concurrency.mode=optimistic_concurrency_control</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.write.lock.provider=org.apache.hudi.client.transaction.lock.FileSystemBasedLockProvider</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="deltastreamer-termination-strategy">Deltastreamer Termination Strategy<a class="hash-link" href="#deltastreamer-termination-strategy" title="Direct link to heading">​</a></h3><p>Users can now configure a post-write termination strategy with deltastreamer <code>continuous</code> mode if need be. For instance,
users can configure graceful shutdown if there is no new data from source for 5 consecutive times. Here is the interface
for the termination strategy.</p><div class="codeBlockContainer_J+bg language-java theme-code-block"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * Post write termination strategy for deltastreamer in continuous mode.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public interface PostWriteTerminationStrategy {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   * Returns whether deltastreamer needs to be shutdown.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   * @param scheduledCompactionInstantAndWriteStatuses optional pair of scheduled compaction instant and write statuses.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   * @return true if deltastreamer has to be shutdown. false otherwise.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  boolean shouldShutdown(Option&lt;Pair&lt;Option&lt;String&gt;, JavaRDD&lt;WriteStatus&gt;&gt;&gt; scheduledCompactionInstantAndWriteStatuses);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Also, this might help in bootstrapping a new table. Instead of doing one bulk load or bulk_insert leveraging a large
cluster for a large input of data, one could start deltastreamer on continuous mode and add a shutdown strategy to
terminate, once all data has been bootstrapped. This way, each batch could be smaller and may not need a large cluster
to bootstrap data. We have one concrete implementation out of the box, <a href="https://github.com/apache/hudi/blob/0d0a4152cfd362185066519ae926ac4513c7a152/hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/NoNewDataTerminationStrategy.java" target="_blank" rel="noopener noreferrer">NoNewDataTerminationStrategy</a>.
Users can feel free to implement their own strategy as they see fit.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="spark-33-support">Spark 3.3 Support<a class="hash-link" href="#spark-33-support" title="Direct link to heading">​</a></h3><p>Spark 3.3 support is added; users who are on Spark 3.3 can use <code>hudi-spark3.3-bundle</code> or <code>hudi-spark3-bundle</code>. Spark 3.2,
Spark 3.1 and Spark 2.4 will continue to be supported. Please check the migration guide for <a href="#bundle-updates">bundle updates</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="spark-sql-support-improvements">Spark SQL Support Improvements<a class="hash-link" href="#spark-sql-support-improvements" title="Direct link to heading">​</a></h3><ul><li>Support for upgrade, downgrade, bootstrap, clean, rollback and repair through <code>Call Procedure</code> command.</li><li>Support for <code>analyze table</code>.</li><li>Support for <code>Create/Drop/Show/Refresh Index</code> syntax through Spark SQL.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="flink-115-support">Flink 1.15 Support<a class="hash-link" href="#flink-115-support" title="Direct link to heading">​</a></h3><p>Flink 1.15.x is integrated with Hudi, use profile param <code>-Pflink1.15</code> when compiling the codes to adapt the version.
Alternatively, use <code>hudi-flink1.15-bundle</code>. Flink 1.14 and Flink 1.13 will continue to be supported. Please check the
migration guide for <a href="#bundle-updates">bundle updates</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="flink-integration-improvements">Flink Integration Improvements<a class="hash-link" href="#flink-integration-improvements" title="Direct link to heading">​</a></h3><ul><li><strong>Data skipping</strong> is supported for batch mode read, set up SQL option <code>metadata.enabled</code>, <code>hoodie.metadata.index.column.stats.enable</code>  and <code>read.data.skipping.enabled</code> as true to enable it.</li><li>A <strong>HMS-based Flink catalog</strong> is added with catalog identifier as <code>hudi</code>. You can instantiate the catalog through API directly or use the <code>CREATE CATALOG</code>  syntax to create it. Specifies catalog option <code>&#x27;mode&#x27; = &#x27;hms&#x27;</code>  to switch to the HMS catalog. By default, the catalog is in <code>dfs</code> mode.</li><li><strong>Async clustering</strong> is supported for Flink <code>INSERT</code> operation, set up SQL option <code>clustering.schedule.enabled</code> and <code>clustering.async.enabled</code> as true to enable it. When enabling this feature, a clustering sub-pipeline is scheduled asynchronously continuously to merge the small files continuously into larger ones.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="performance-improvements">Performance Improvements<a class="hash-link" href="#performance-improvements" title="Direct link to heading">​</a></h3><p>This version brings more improvements to make Hudi the most performant lake storage format. Some notable improvements are:</p><ul><li>Closed the performance gap in writing through Spark datasource vs sql. Previously, datasource writes were faster.</li><li>All built-in key generators implement more performant Spark-specific APIs.</li><li>Replaced UDF in bulk insert operation with RDD transformation to cut down serde cost.</li><li>Optimized column stats index performance in data skipping.</li></ul><p>We recently benchmarked Hudi against TPC-DS workload.
Please check out <a href="/cn/blog/2022/06/29/Apache-Hudi-vs-Delta-Lake-transparent-tpc-ds-lakehouse-performance-benchmarks">our blog</a> for more details.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="known-regressions-1">Known Regressions:<a class="hash-link" href="#known-regressions-1" title="Direct link to heading">​</a></h2><p>We discovered a regression in Hudi 0.12 release related to Bloom
Index metadata persisted w/in Parquet footers <a href="https://issues.apache.org/jira/browse/HUDI-4992" target="_blank" rel="noopener noreferrer">HUDI-4992</a>.</p><p>Crux of the problem was that min/max statistics for the record keys were
computed incorrectly during (Spark-specific) <a href="https://hudi.apache.org/docs/next/configurations#hoodiedatasourcewriterowwriterenable" target="_blank" rel="noopener noreferrer">row-writing</a>
Bulk Insert operation affecting <a href="https://hudi.apache.org/docs/next/basic_configurations/#hoodiebloomindexprunebyranges" target="_blank" rel="noopener noreferrer">Key Range Pruning flow</a>
w/in <a href="https://hudi.apache.org/docs/next/faq/#how-do-i-configure-bloom-filter-when-bloomglobal_bloom-index-is-used" target="_blank" rel="noopener noreferrer">Hoodie Bloom Index</a>
tagging sequence, resulting into updated records being incorrectly tagged
as &quot;inserts&quot; and not as &quot;updates&quot;, leading to duplicated records in the
table.</p><p><a href="https://github.com/apache/hudi/pull/6883" target="_blank" rel="noopener noreferrer">PR#6883</a> addressing the problem is incorporated into
Hudi 0.12.1 release.*</p><p>If all of the following is applicable to you:</p><ol><li>Using Spark as an execution engine</li><li>Using Bulk Insert (using <a href="https://hudi.apache.org/docs/next/configurations#hoodiedatasourcewriterowwriterenable" target="_blank" rel="noopener noreferrer">row-writing</a>,
enabled <em>by default</em>)</li><li>Using Bloom Index (with <a href="https://hudi.apache.org/docs/next/basic_configurations/#hoodiebloomindexprunebyranges" target="_blank" rel="noopener noreferrer">range-pruning</a>
enabled, enabled <em>by default</em>) for &quot;UPSERT&quot; operations</li></ol><ul><li>Note: Default index type is SIMPLE. So, unless you have over-ridden the index type, you may not hit this issue.</li></ul><p>Please consider one of the following potential remediations to avoid
getting duplicate records in your pipeline:</p><ul><li><a href="https://hudi.apache.org/docs/next/basic_configurations/#hoodiebloomindexprunebyranges" target="_blank" rel="noopener noreferrer">Disabling Bloom Index range-pruning</a>
flow (might
affect performance of upsert operations)</li><li>Upgrading to 0.12.1.</li><li>Making sure that the <a href="https://github.com/apache/hudi/pull/6883" target="_blank" rel="noopener noreferrer">fix</a> is
included in your custom artifacts (if you&#x27;re building and using ones)</li></ul><p>We also found another regression related to metadata table and timeline server interplay with streaming ingestion pipelines.</p><p>The FileSystemView that Hudi maintains internally could go out of sync due to a occasional race conditions when table services are involved
(compaction, clustering) and could result in updates and deletes routed to older file versions and hence resulting in missed updates and deletes.</p><p>Here are the user-flows that could potentially be impacted with this.</p><ul><li>This impacts pipelines using Deltastreamer in <strong>continuous mode</strong> (sync once is not impacted), Spark streaming, or if you have been directly
using write client across batches/commits instead of the standard ways to write to Hudi. In other words, batch writes should not be impacted.</li><li>Among these write models, this could have an impact only when table services are enabled.<ul><li>COW: clustering enabled (inline or async)</li><li>MOR: compaction enabled (by default, inline or async)</li></ul></li><li>Also, the impact is applicable only when metadata table is enabled, and timeline server is enabled (which are defaults as of 0.12.0)</li></ul><p>Based on some production data, we expect this issue might impact roughly &lt; 1% of updates to be missed, since its a race condition
and table services are generally scheduled once every N commits. The percentage of update misses could be even less if the
frequency of table services is less.</p><p><a href="https://issues.apache.org/jira/browse/HUDI-5863" target="_blank" rel="noopener noreferrer">Here</a> is the jira for the issue of interest and the fix has already been landed in master.
0.12.3 should have the <a href="https://github.com/apache/hudi/pull/8079" target="_blank" rel="noopener noreferrer">fix</a>. Until we have a 0.12.3 release, we recommend you to disable metadata table
(<code>hoodie.metadata.enable=false</code>) to mitigate the issue.</p><p>We also discovered a regression for Flink streaming writer with the hive meta sync which is introduced by HUDI-3730, the refactoring to <code>HiveSyncConfig</code>
causes the Hive <code>Resources</code> config objects leaking, which finally leads to an OOM exception for the JobManager if the streaming job runs continuously for weeks.
0.12.3 should have the <a href="https://github.com/apache/hudi/pull/8050" target="_blank" rel="noopener noreferrer">fix</a>. Until we have a 0.12.3 release, we recommend you to cherry-pick the fix to local
if hive meta sync is required.</p><p>Sorry about the inconvenience caused.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="raw-release-notes-1">Raw Release Notes<a class="hash-link" href="#raw-release-notes-1" title="Direct link to heading">​</a></h2><p>The raw release notes are available <a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12322822&amp;version=12351209" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-0110-docs"><a href="https://github.com/apache/hudi/releases/tag/release-0.11.0" target="_blank" rel="noopener noreferrer">Release 0.11.0</a> (<a href="/cn/docs/0.11.0/quick-start-guide">docs</a>)<a class="hash-link" href="#release-0110-docs" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_y2LR" id="migration-guide-2">Migration Guide<a class="hash-link" href="#migration-guide-2" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="bundle-usage-updates">Bundle usage updates<a class="hash-link" href="#bundle-usage-updates" title="Direct link to heading">​</a></h3><ul><li>Spark bundle for 3.0.x is no longer officially supported. Users are encouraged to upgrade to Spark 3.2 or 3.1.</li><li>Users are encouraged to use bundles with specific Spark version in the name (<code>hudi-sparkX.Y-bundle</code>) and move away
from the legacy bundles (<code>hudi-spark-bundle</code> and <code>hudi-spark3-bundle</code>).</li><li>Spark or Utilities bundle no longer requires additional <code>spark-avro</code> package at runtime; the
option <code>--package org.apache.spark:spark-avro_2.1*:*</code> can be dropped.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="configuration-updates-1">Configuration updates<a class="hash-link" href="#configuration-updates-1" title="Direct link to heading">​</a></h3><ul><li>For MOR tables, <code>hoodie.datasource.write.precombine.field</code> is required for both write and read.</li><li>Only set <code>hoodie.datasource.write.drop.partition.columns=true</code> when work
with <a href="/cn/docs/gcp_bigquery">BigQuery integration</a>.</li><li>For Spark readers that rely on extracting physical partition path,
set <code>hoodie.datasource.read.extract.partition.values.from.path=true</code> to stay compatible with existing behaviors.</li><li>Default index type for Spark was changed from <code>BLOOM</code>
to <code>SIMPLE</code> (<a href="https://issues.apache.org/jira/browse/HUDI-3091" target="_blank" rel="noopener noreferrer">HUDI-3091</a>). If you currently rely on the default <code>BLOOM</code>
index type, please update your configuration accordingly.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-highlights-2">Release Highlights<a class="hash-link" href="#release-highlights-2" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="multi-modal-index">Multi-Modal Index<a class="hash-link" href="#multi-modal-index" title="Direct link to heading">​</a></h3><p>In 0.11.0, we enable the <a href="/cn/docs/metadata">metadata table</a> with synchronous updates and metadata-table-based file listing
by default for Spark writers, to improve the performance of partition and file listing on large Hudi tables. On the
reader side, users need to set it to <code>true</code> benefit from it. The metadata table and related file listing functionality
can still be turned off by setting <code>hoodie.metadata.enable=false</code>. Due to this, users deploying Hudi with async table
services need to configure a locking service. If this feature is not relevant for you, you can set
<code>hoodie.metadata.enable=false</code> additionally and use Hudi as before.</p><p>We introduce a multi-modal index in metadata table to drastically improve the lookup performance in file index and query
latency with data skipping. Two new indices are added to the metadata table</p><ol><li>bloom filter index containing the file-level bloom filter to facilitate key lookup and file pruning as a part of
bloom index during upserts by the writers</li><li>column stats index containing the statistics of all/interested columns to improve file pruning based on key and
column value range in both the writer and the reader, in query planning in Spark for example.</li></ol><p>They are disabled by default. You can enable them by setting <code>hoodie.metadata.index.bloom.filter.enable</code>
and <code>hoodie.metadata.index.column.stats.enable</code> to <code>true</code>, respectively.</p><p><em>Refer to the <a href="/cn/docs/metadata#deployment-considerations">metadata table guide</a> for detailed instructions on upgrade and
deployment.</em></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="data-skipping-with-metadata-table">Data Skipping with Metadata Table<a class="hash-link" href="#data-skipping-with-metadata-table" title="Direct link to heading">​</a></h3><p>With the added support for Column Statistics in metadata table, Data Skipping is now relying on the metadata table&#x27;s
Column Stats Index (CSI) instead of its own bespoke index implementation (comparing to Spatial Curves added in 0.10.0),
allowing to leverage Data Skipping for all datasets regardless of whether they execute layout optimization procedures (
like clustering) or not. To benefit from Data Skipping, make sure to set <code>hoodie.enable.data.skipping=true</code> on both
writer and reader, as well as enable metadata table and Column Stats Index in the metadata table.</p><p>Data Skipping supports standard functions (as well as some common expressions) allowing you to apply common standard
transformations onto the raw data in your columns within your query&#x27;s filters. For example, if you have column &quot;ts&quot; that
stores timestamp as string, you can now query it using human-readable dates in your predicate like
following: <code>date_format(ts, &quot;MM/dd/yyyy&quot; ) &lt; &quot;04/01/2022&quot;</code>.</p><p><em>Note: Currently Data Skipping is only supported in COW tables and MOR tables in read-optimized mode. The work of full
support for MOR tables is tracked in <a href="https://issues.apache.org/jira/browse/HUDI-3866" target="_blank" rel="noopener noreferrer">HUDI-3866</a></em></p><p><em>Refer to the <a href="/cn/docs/performance#read-path">performance</a> guide for more info.</em></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="async-indexer">Async Indexer<a class="hash-link" href="#async-indexer" title="Direct link to heading">​</a></h3><p>In 0.11.0, we added a new asynchronous service for indexing to our rich set of table services. It allows users to create
different kinds of indices (e.g., files, bloom filters, and column stats) in the metadata table without blocking
ingestion. The indexer adds a new action <code>indexing</code> on the timeline. While the indexing process itself is asynchronous
and non-blocking to writers, a lock provider needs to be configured to safely co-ordinate the process with the inflight
writers.</p><p><em>See the <a href="/cn/docs/metadata_indexing">indexing guide</a> for more details.</em></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="spark-datasource-improvements">Spark DataSource Improvements<a class="hash-link" href="#spark-datasource-improvements" title="Direct link to heading">​</a></h3><p>Hudi&#x27;s Spark low-level integration got considerable overhaul consolidating common flows to share the infrastructure and
bring both compute and data throughput efficiencies when querying the data.</p><ul><li>MOR queries with no log files (except for incremental queries) tables are now leveraging Vectorized Parquet reader while reading
the data, meaning that Parquet reader is now able to leverage modern processors vectorized instructions to further
speed up decoding of the data. Enabled by default.</li><li>When standard Record Payload implementation is used (e.g., <code>OverwriteWithLatestAvroPayload</code>), MOR table will only
fetch <em>strictly necessary</em> columns (primary key, pre-combine key) on top of those referenced by the query,
substantially reducing wasted data throughput as well as compute spent on decompressing and decoding the data. This is
significantly beneficial to &quot;wide&quot; MOR tables with 1000s of columns, for example.</li></ul><p><em>See the <a href="#migration-guide">migration guide</a> for the relevant configuration updates.</em></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="schema-on-read-for-spark">Schema-on-read for Spark<a class="hash-link" href="#schema-on-read-for-spark" title="Direct link to heading">​</a></h3><p>In 0.11.0, users can now easily change the current schema of a Hudi table to adapt to the evolving data schema over
time. Spark SQL DDL support (experimental) was added for Spark 3.1.x and Spark 3.2.1 via <code>ALTER TABLE</code> syntax.</p><p><em>Please refer to the <a href="/cn/docs/schema_evolution">schema evolution guide</a> for more details.</em></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="spark-sql-improvements">Spark SQL Improvements<a class="hash-link" href="#spark-sql-improvements" title="Direct link to heading">​</a></h3><ul><li>Users can update or delete records in Hudi tables using non-primary-key fields.</li><li>Time travel query is now supported via <code>timestamp as of</code> syntax. (Spark 3.2+ only)</li><li><code>CALL</code> command is added to support invoking more actions on Hudi tables.</li></ul><p><em>Please refer to the <a href="/cn/docs/quick-start-guide">Quick Start - Spark Guide</a> for more details and examples.</em></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="spark-versions-and-bundles">Spark Versions and Bundles<a class="hash-link" href="#spark-versions-and-bundles" title="Direct link to heading">​</a></h3><ul><li>Spark 3.2 support is added; users who are on Spark 3.2 can use <code>hudi-spark3.2-bundle</code> or <code>hudi-spark3-bundle</code> (legacy bundle name).</li><li>Spark 3.1 will continue to be supported via <code>hudi-spark3.1-bundle</code>.</li><li>Spark 2.4 will continue to be supported via <code>hudi-spark2.4-bundle</code> or <code>hudi-spark-bundle</code> (legacy bundle name).</li></ul><p><em>See the <a href="#migration-guide">migration guide</a> for usage updates.</em></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="slim-utilities-bundle">Slim Utilities Bundle<a class="hash-link" href="#slim-utilities-bundle" title="Direct link to heading">​</a></h3><p>In 0.11.0, a new <code>hudi-utilities-slim-bundle</code> is added to exclude dependencies that could cause conflicts and
compatibility issues with other frameworks such as Spark. <code>hudi-utilities-slim-bundle</code> is to work with a chosen Spark
bundle:</p><ul><li><code>hudi-utilities-slim-bundle</code> works with Spark 3.1 and 2.4.</li><li><code>hudi-utilities-bundle</code> continues to work with Spark 3.1 as it does in Hudi 0.10.x.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="flink-integration-improvements-1">Flink Integration Improvements<a class="hash-link" href="#flink-integration-improvements-1" title="Direct link to heading">​</a></h3><ul><li>In 0.11.0, both Flink 1.13.x and 1.14.x are supported.</li><li>Complex data types such as <code>Map</code> and <code>Array</code> are supported. Complex data types can be nested in another component data
type.</li><li>A DFS-based Flink catalog is added with catalog identifier as <code>hudi</code>. You can instantiate the catalog through API
directly or use the <code>CREATE CATALOG</code> syntax to create it.</li><li>Flink supports <a href="#bucket-index">Bucket Index</a> in normal <code>UPSERT</code> and <code>BULK_INSERT</code> operations. Different from the
default Flink state-based index, bucket index is in constant number of buckets. Specify SQL option <code>index.type</code>
as <code>BUCKET</code> to enable it.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="google-bigquery-integration">Google BigQuery Integration<a class="hash-link" href="#google-bigquery-integration" title="Direct link to heading">​</a></h3><p>In 0.11.0, Hudi tables can be queried from BigQuery as external tables. Users can
set <code>org.apache.hudi.gcp.bigquery.BigQuerySyncTool</code> as the sync tool implementation for <code>HoodieDeltaStreamer</code> and make
the target Hudi table discoverable in BigQuery. Please refer to the <a href="/cn/docs/gcp_bigquery">BigQuery integration</a> guide
page for more details.</p><p><em>Note: this is an experimental feature and only works with hive-style partitioned Copy-On-Write tables.</em></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="aws-glue-meta-sync">AWS Glue Meta Sync<a class="hash-link" href="#aws-glue-meta-sync" title="Direct link to heading">​</a></h3><p>In 0.11.0, Hudi tables can be sync&#x27;ed to AWS Glue Data Catalog via AWS SDK directly. Users can
set <code>org.apache.hudi.aws.sync.AwsGlueCatalogSyncTool</code> as the sync tool implementation for <code>HoodieDeltaStreamer</code> and make
the target Hudi table discoverable in Glue catalog. Please refer
to <a href="/cn/docs/syncing_aws_glue_data_catalog">Sync to AWS Glue Data Catalog</a> guide page for more details.</p><p><em>Note: this is an experimental feature.</em></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="datahub-meta-sync">DataHub Meta Sync<a class="hash-link" href="#datahub-meta-sync" title="Direct link to heading">​</a></h3><p>In 0.11.0, Hudi table&#x27;s metadata (specifically, schema and last sync commit time) can be sync&#x27;ed
to <a href="https://datahubproject.io/" target="_blank" rel="noopener noreferrer">DataHub</a>. Users can set <code>org.apache.hudi.sync.datahub.DataHubSyncTool</code> as the sync tool
implementation for <code>HoodieDeltaStreamer</code> and sync the target table as a Dataset in DataHub. Please refer
to <a href="/cn/docs/syncing_datahub">Sync to DataHub</a> guide page for more details.</p><p><em>Note: this is an experimental feature.</em></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="encryption">Encryption<a class="hash-link" href="#encryption" title="Direct link to heading">​</a></h3><p>In 0.11.0, Spark 3.2 support has been added and accompanying that, Parquet 1.12 has been included, which brings
encryption feature to Hudi (Copy-on-Write tables). Please refer to <a href="/cn/docs/encryption">Encryption</a> guide page for more
details.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="bucket-index">Bucket Index<a class="hash-link" href="#bucket-index" title="Direct link to heading">​</a></h3><p>Bucket index, an efficient and light-weight index type, is added in 0.11.0. It distributes records to buckets using a
hash function based on the record keys, where each bucket corresponds to a single file group. To use this index, set the
index type to <code>BUCKET</code> and set <code>hoodie.storage.layout.partitioner.class</code> to <code>org.apache.hudi.table.action.commit.SparkBucketIndexPartitioner</code>.
For Flink, set <code>index.type=BUCKET</code>.</p><p><em>For more details, please refer to hoodie.bucket.index.<!-- -->*<!-- --> in the <a href="/cn/docs/configurations">configurations page</a>.</em></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="savepoint--restore">Savepoint &amp; Restore<a class="hash-link" href="#savepoint--restore" title="Direct link to heading">​</a></h3><p>Disaster recovery is a mission critical feature in any production deployment. Especially when it comes to systems that
store data. Hudi had savepoint and restore functionality right from the beginning for COW tables. In 0.11.0, we have
added support for MOR tables.</p><p><em>More info about this feature can be found in <a href="/cn/docs/disaster_recovery">Disaster Recovery</a>.</em></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="pulsar-write-commit-callback">Pulsar Write Commit Callback<a class="hash-link" href="#pulsar-write-commit-callback" title="Direct link to heading">​</a></h3><p>Hudi users can use <code>org.apache.hudi.callback.HoodieWriteCommitCallback</code> to invoke callback function upon successful
commits. In 0.11.0, we add <code>HoodieWriteCommitPulsarCallback</code> in addition to the existing HTTP callback and Kafka
callback. Please refer to the <a href="/cn/docs/configurations#Write-commit-pulsar-callback-configs">configurations page</a> for
detailed settings.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="hiveschemaprovider">HiveSchemaProvider<a class="hash-link" href="#hiveschemaprovider" title="Direct link to heading">​</a></h3><p>In 0.11.0, <code>org.apache.hudi.utilities.schema.HiveSchemaProvider</code> is added for getting schema from user-defined hive
tables. This is useful when tailing Hive tables in <code>HoodieDeltaStreamer</code> instead of having to provide avro schema files.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="known-regression">Known Regression<a class="hash-link" href="#known-regression" title="Direct link to heading">​</a></h2><p>In 0.11.0 release, with the newly added support for Spark SQL features, the following performance regressions were
inadvertently introduced:</p><ul><li>Partition pruning for some of the COW tables is not applied properly</li><li>Spark SQL query caching (which caches parsed and resolved queries) was not working correctly resulting in additional</li><li>overhead to re-analyze the query every time when it&#x27;s executed (listing the table contents, etc.)</li></ul><p>All of these issues have been addressed in 0.11.1 and are validated to be resolved by benchmarking the set of changes
on TPC-DS against 0.10.1.</p><p>In HUDI-2761, HUDI-3576 and HUDI-4279, we did several attempts to optimize the efficiency of embedded timeline server,
but in some cases, these changes would cause silent data loss, the affected table types include both COW and MOR table,
this bug has been addressed in release 0.12.0.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="raw-release-notes-2">Raw Release Notes<a class="hash-link" href="#raw-release-notes-2" title="Direct link to heading">​</a></h2><p>The raw release notes are available <a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12322822&amp;version=12350673" target="_blank" rel="noopener noreferrer">here</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-0100-docs"><a href="https://github.com/apache/hudi/releases/tag/release-0.10.0" target="_blank" rel="noopener noreferrer">Release 0.10.0</a> (<a href="/cn/docs/0.10.0/quick-start-guide">docs</a>)<a class="hash-link" href="#release-0100-docs" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_y2LR" id="migration-guide-3">Migration Guide<a class="hash-link" href="#migration-guide-3" title="Direct link to heading">​</a></h2><ul><li>If migrating from an older release, please also check the upgrade instructions for each subsequent release below.</li><li>With 0.10.0, we have made some foundational fix to metadata table and so as part of upgrade, any existing metadata table is cleaned up.
Whenever Hudi is launched with newer table version i.e 3 (or moving from an earlier release to 0.10.0), an upgrade step will be executed automatically.
This automatic upgrade step will happen just once per Hudi table as the hoodie.table.version will be updated in property file after upgrade is completed.</li><li>Similarly, a command line tool for Downgrading (command - downgrade) is added if in case some users want to downgrade Hudi
from table version 3 to 2 or move from Hudi 0.10.0 to pre 0.10.0. This needs to be executed from a 0.10.0 hudi-cli binary/script.</li><li>We have made some major fixes to 0.10.0 release around metadata table and would recommend users to try out metadata
for better performance from optimized file listings. As part of the upgrade, please follow the below steps to enable metadata table.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="prerequisites-for-enabling-metadata-table">Prerequisites for enabling metadata table<a class="hash-link" href="#prerequisites-for-enabling-metadata-table" title="Direct link to heading">​</a></h3><p>Hudi writes and reads have to perform “list files” operation on the file system to get the current view of the system.
This could be very costly in cloud stores which could throttle your requests depending on the scale/size of your dataset.
So, we introduced a metadata table in 0.7.0 to cache the file listing for the table. With 0.10.0, we have made a foundational fix
to the metadata table with synchronous updates instead of async updates to simplify the overall design and to assist in
building future enhancements like multi-modal indexing. This can be turned on using the config hoodie.metadata.enable.
By default, metadata table based file listing feature is disabled.</p><p><strong>Deployment Model</strong> 1 : If your current deployment model is single writer and all table services (cleaning, clustering, compaction) are configured to be <strong>inline</strong>,
then you can turn on the metadata table without needing any additional configuration.</p><p><strong>Deployment Model</strong> 2 : If your current deployment model is <a href="https://hudi.apache.org/docs/concurrency_control" target="_blank" rel="noopener noreferrer">multi writer</a>
along with <a href="https://hudi.apache.org/docs/concurrency_control#enabling-multi-writing" target="_blank" rel="noopener noreferrer">lock providers</a> configured,
then you can turn on the metadata table without needing any additional configuration.</p><p><strong>Deployment Model 3</strong> : If your current deployment model is single writer along with async table services (such as cleaning, clustering, compaction) configured,
then it is a must to have the lock providers configured before turning on the metadata table.
Even if you have already had a metadata table turned on, and your deployment model employs async table services,
then it is  a must to have lock providers configured before upgrading to this release.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="upgrade-steps">Upgrade steps<a class="hash-link" href="#upgrade-steps" title="Direct link to heading">​</a></h3><p>For deployment mode 1, restarting the Single Writer with 0.10.0 is sufficient to upgrade the table.</p><p>For deployment model 2 with multi-writers, you can bring up the writers with 0.10.0 sequentially.
If you intend to use the metadata table, it is a must to have the <a href="https://hudi.apache.org/docs/configurations/#hoodiemetadataenable" target="_blank" rel="noopener noreferrer">metadata config</a> enabled across all the writers.
Otherwise, it will lead to loss of data from the inconsistent writer.</p><p>For deployment model 3 with single writer and async table services, restarting the single writer along with async services is sufficient to upgrade the table.
If async services are configured to run separately from the writer, then it is a must to have a consistent metadata config across all writers and async jobs.
Remember to configure the lock providers as detailed above if enabling the metadata table.</p><p>To leverage the metadata table based file listings, readers must have metadata config turned on explicitly while querying.
If not, readers will not leverage the file listings from the metadata table.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="spark-sql-primary-key-requirements">Spark-SQL primary key requirements<a class="hash-link" href="#spark-sql-primary-key-requirements" title="Direct link to heading">​</a></h3><p>Spark SQL in Hudi requires <code>primaryKey</code> to be specified by tblproperites or options in sql statement.
For update and delete operations, <code>preCombineField</code> is required as well. These requirements align with
Hudi datasource writer’s and the alignment resolves many behavioural discrepancies reported in previous versions.</p><p>To specify <code>primaryKey</code>, <code>preCombineField</code> or other hudi configs, <code>tblproperties</code> is a preferred way than <code>options</code>.
Spark SQL syntax is detailed <a href="https://spark.apache.org/docs/latest/sql-ref-syntax-ddl-create-table-datasource.html" target="_blank" rel="noopener noreferrer">DDL CREATE TABLE</a>.
In summary, any Hudi table created pre 0.10.0 without a <code>primaryKey</code> need to be recreated with a <code>primaryKey</code> field with 0.10.0.
We plan to remove the need for primary keys in future versions more holistically.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-highlights-3">Release Highlights<a class="hash-link" href="#release-highlights-3" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="kafka-connect">Kafka Connect<a class="hash-link" href="#kafka-connect" title="Direct link to heading">​</a></h3><p>In 0.10.0, we are adding a Kafka Connect Sink for Hudi that provides the ability for users to ingest/stream records from Apache Kafka to Hudi Tables.
While users can already stream Kafka records into Hudi tables using deltastreamer, the Kafka connect sink offers greater flexibility
to current users of Kafka connect sinks such as S3, HDFS, etc to additionally sink their data to a data lake.
It also helps users who do not want to deploy and operate spark.  The sink is currently experimental,
and users can quickly get started by referring to the detailed steps in the <a href="https://github.com/apache/hudi/blob/master/hudi-kafka-connect/README.md" target="_blank" rel="noopener noreferrer">README</a>.
For users who are curious about the internals, you can refer to the <a href="https://cwiki.apache.org/confluence/display/HUDI/RFC-32+Kafka+Connect+Sink+for+Hudi" target="_blank" rel="noopener noreferrer">RFC</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="z-ordering-hilbert-curves-and-data-skipping">Z-Ordering, Hilbert Curves and Data Skipping<a class="hash-link" href="#z-ordering-hilbert-curves-and-data-skipping" title="Direct link to heading">​</a></h3><p>In 0.10.0 we’re bringing (in experimental mode) support for indexing based on space-filling curves ordering initially
supporting <a href="https://en.wikipedia.org/wiki/Z-order_curve" target="_blank" rel="noopener noreferrer">Z-order</a> and <a href="https://en.wikipedia.org/wiki/Hilbert_curve" target="_blank" rel="noopener noreferrer">Hilbert curves</a>.</p><p>Data skipping is crucial in optimizing query performance. Enabled by the Column Statistics Index containing column level stats (like min, max, number of nulls, etc)
for individual data files, allows to quickly prune (for some queries) the search space by excluding files that are guaranteed
not to contain the values of interest for the query in question. Effectiveness of Data Skipping is maximized
when data is globally ordered by the columns, allowing individual Parquet files to contain disjoint ranges of values,
allowing for more effective pruning.</p><p>Using space-filling curves (like Z-order, Hilbert, etc) allows to effectively order rows in your table based on sort-key
comprising multiple columns, while preserving very important property: ordering of the rows using space-filling curve
on multi-column key will preserve within itself the ordering by each individual column as well.
This property comes very handy in use-cases when rows need to be ordered by complex multi-column sort keys,
which need to be queried efficiently by any subset of they key (not necessarily key’s prefix), making space-filling curves stand out
from plain and simple linear (or lexicographical) multi-column ordering. Using space-filling curves in such use-cases might bring order(s)
of magnitude speed-up in your queries&#x27; performance by considerably reducing search space, if applied appropriately.</p><p>These features are currently experimental, we’re planning to dive into more details showcasing real-world application
of the space-filling curves in a blog post soon.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="debezium-deltastreamer-sources">Debezium Deltastreamer sources<a class="hash-link" href="#debezium-deltastreamer-sources" title="Direct link to heading">​</a></h3><p>We have added two new debezium sources to our deltastreamer ecosystem. Debezium is an open source distributed platform for change data capture(CDC).
We have added PostgresDebeziumSource and MysqlDebeziumSource to route CDC logs into Apache Hudi via deltastreamer for postgres and my sql db respectively.
With this capability, we can continuously capture row-level changes that insert, update and delete records that were committed to a database and ingest to hudi.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="external-config-file-support">External config file support<a class="hash-link" href="#external-config-file-support" title="Direct link to heading">​</a></h3><p>Instead of directly and sometimes passing configurations to every Hudi job, since 0.10.0 users can now pass in configuration via a configuration file <code>hudi-default.conf</code>.
By default, Hudi would load the configuration file under /etc/hudi/conf directory. You can specify a different configuration directory location
by setting the <strong>HUDI_CONF_DIR</strong> environment variable. This can be useful for uniformly enforcing often repeated configs
like Hive sync settings, write/index tuning parameters, across your entire data lake.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="metadata-table">Metadata table<a class="hash-link" href="#metadata-table" title="Direct link to heading">​</a></h3><p>With 0.10.0, we have made a foundational fix to the metadata table with synchronous updates instead of async updates
to simplify the overall design and to assist in building future enhancements. This can be turned on using the config <a href="https://hudi.apache.org/docs/configurations/#hoodiemetadataenable" target="_blank" rel="noopener noreferrer">hoodie.metadata.enable</a>.
By default, metadata table based file listing feature is disabled. We have few following up tasks we are looking to fix by 0.11.0.
You can follow <a href="https://issues.apache.org/jira/browse/HUDI-1292" target="_blank" rel="noopener noreferrer">HUDI-1292</a> umbrella ticket for further details.
Please refer to the Migration guide section before turning on the metadata table.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="documentation-overhaul">Documentation overhaul<a class="hash-link" href="#documentation-overhaul" title="Direct link to heading">​</a></h3><p>Documentation was added for many pre-existing features that were previously missing docs. We reorganised the documentation
layout to improve discoverability and help new users ramp up on Hudi. We made many doc improvements based on community feedback.
See the latest docs at: <a href="https://hudi.apache.org/docs/overview" target="_blank" rel="noopener noreferrer">overview</a>.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="writer-side-improvements">Writer side improvements<a class="hash-link" href="#writer-side-improvements" title="Direct link to heading">​</a></h2><p>Commit instant time format have been upgraded to ms granularity from secs granularity. Users don’t have to do any special handling in this,
regular upgrade should work smoothly.</p><p>Deltastreamer:</p><ul><li>ORCDFSSource has been added to support orc files with DFSSource.</li><li><code>S3EventsHoodieIncrSource</code> can now fan-out multiple tables off a single S3 metadata table.</li></ul><p>Clustering:</p><ul><li>We have added support to retain same file groups with clustering to cater to the requirements of external index.
Incremental timeline support has been added for pending clustering operations.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="dynamodb-based-lock-provider">DynamoDB based lock provider<a class="hash-link" href="#dynamodb-based-lock-provider" title="Direct link to heading">​</a></h3><p>Hudi added support for multi-writers in 0.7.0 and as part of it, users are required to configure lock service providers.
In 0.10.0, we are adding DynamoDBBased lock provider that users can make use of. To configure this lock provider, users have to set the below configs:</p><div class="codeBlockContainer_J+bg language-java theme-code-block"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.write.lock.provider=org.apache.hudi.aws.transaction.lock.DynamoDBBasedLockProvider</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Hoodie.write.lock.dynamodb.table</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Hoodie.write.lock.dynamodb.partition_keyhoodie.write.lock.dynamodb.region</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Also, to set up the credentials for accessing AWS resources, users can set the below property:</p><div class="codeBlockContainer_J+bg language-java theme-code-block"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.aws.access.keyhoodie.aws.secret.keyhoodie.aws.session.token</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>More details on concurrency control are covered <a href="https://hudi.apache.org/docs/next/concurrency_control" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="default-flips">Default flips<a class="hash-link" href="#default-flips" title="Direct link to heading">​</a></h3><p>We have flipped defaults for all shuffle parallelism configs in hudi from 1500 to 200. The configs of interest are <a href="https://hudi.apache.org/docs/next/configurations#hoodieinsertshuffleparallelism" target="_blank" rel="noopener noreferrer"><code>hoodie.insert.shuffle.parallelism</code></a>,
<a href="https://hudi.apache.org/docs/next/configurations#hoodiebulkinsertshuffleparallelism" target="_blank" rel="noopener noreferrer"><code>hoodie.bulkinsert.shuffle.parallelism</code></a>,
<a href="https://hudi.apache.org/docs/next/configurations#hoodieupsertshuffleparallelism" target="_blank" rel="noopener noreferrer"><code>hoodie.upsert.shuffle.parallelism</code></a> and
<a href="https://hudi.apache.org/docs/next/configurations#hoodiedeleteshuffleparallelism" target="_blank" rel="noopener noreferrer"><code>hoodie.delete.shuffle.parallelism</code></a>.
If you have been relying on the default settings, just watch out after upgrading. We have tested these configs at a reasonable scale though.</p><p>We have enabled the rollback strategy to use marker based from listing based. And we have also made timeline server based
markers as default with this release. You can read more on the timeline server based markers <a href="https://hudi.apache.org/blog/2021/08/18/improving-marker-mechanism" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Clustering: Default plan strategy changed to <code>SparkSizeBasedClusteringPlanStrategy</code>. By default, commit metadata will be preserved when clustering.
It will be useful for incremental query support with replace commits in the timeline.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="spark-sql-improvements-1">Spark SQL improvements<a class="hash-link" href="#spark-sql-improvements-1" title="Direct link to heading">​</a></h3><p>We have made more improvements to spark-sql like adding support for <code>MERGE INTO</code> to work with non-primary keys,
and added support for new operations like <code>SHOW PARTITIONS</code> and <code>DROP PARTITIONS</code>.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="query-side-improvements">Query side improvements<a class="hash-link" href="#query-side-improvements" title="Direct link to heading">​</a></h2><p>Hive Incremental query support and partition pruning for snapshot query has been added for MOR table. Support has been added for incremental read with clustering commit.</p><p>We have improved the listing logic to gain 65% on query time and 2.8x parallelism on Presto queries against the Hudi tables.</p><p>In general, we have made a lot of bug fixes (multi writers, archival, rollbacks, metadata, clustering, etc) and stability fixes in this release.
And have improved our CLI around metadata and clustering commands. Hoping users will have a smoother ride with hudi 0.10.0.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="flink-integration-improvements-2">Flink Integration Improvements<a class="hash-link" href="#flink-integration-improvements-2" title="Direct link to heading">​</a></h2><p>Flink reader now supports incremental read, set <code>hoodie.datasource.query.type</code> as <code>incremental</code> to enable for batch execution mode.
Configure option <code>read.start-commit</code> to specify the reading start commit, configure option <code>read.end-commit</code>
to specify the end commit (both are inclusive). Streaming reader can also specify the start offset with the same option <code>read.start-commit</code>.</p><p>Upsert operation is now supported for batch execution mode, use <code>INSERT INTO</code> syntax to update the existing data set.</p><p>For non-updating data set like the log data, flink writer now supports appending the new data set directly without merging,
this now becomes the default mode for Copy On Write table type with <code>INSERT</code> operation,
by default, the writer does not merge the existing small files, set option <code>write.insert.cluster</code> as <code>true</code> to enable merging of the small files.</p><p>The <code>write.precombine.field</code> now becomes optional(not a required option) for flink writer, when the field is not specified,
if there is a field named <code>ts</code> in the table schema, the writer use it as the preCombine field,
or the writer compares records by processing sequence: always choose later records.</p><p>The small file strategy is tweaked to be more stable, with the new strategy, each bucket assign task manages a subset of filegroups separately,
that means, the parallelism of bucket assign task would affect the number of small files.</p><p>The metadata table is also supported for flink writer and reader, metadata table can reduce the partition lookup and file listing obviously for the underneath storage for both writer and reader side.
Set option <code>metadata.enabled</code> to <code>true</code> to enable this feature.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ecosystem">Ecosystem<a class="hash-link" href="#ecosystem" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="dbt-support">DBT support<a class="hash-link" href="#dbt-support" title="Direct link to heading">​</a></h3><p>We&#x27;ve made it so much easier to create derived hudi datasets by integrating with the very popular data transformation tool (dbt).
With 0.10.0, users can create incremental hudi datasets using dbt. Please see this PR for details <a href="https://github.com/dbt-labs/dbt-spark/issues/187" target="_blank" rel="noopener noreferrer">https://github.com/dbt-labs/dbt-spark/issues/187</a></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="monitoring">Monitoring<a class="hash-link" href="#monitoring" title="Direct link to heading">​</a></h3><p>Hudi now supports publishing metrics to Amazon CloudWatch. It can be configured by setting <a href="https://hudi.apache.org/docs/next/configurations#hoodiemetricsreportertype" target="_blank" rel="noopener noreferrer"><code>hoodie.metrics.reporter.type</code></a> to “CLOUDWATCH”.
Static AWS credentials to be used can be configured using <a href="https://hudi.apache.org/docs/next/configurations#hoodieawsaccesskey" target="_blank" rel="noopener noreferrer"><code>hoodie.aws.access.key</code></a>,
<a href="https://hudi.apache.org/docs/next/configurations#hoodieawssecretkey" target="_blank" rel="noopener noreferrer"><code>hoodie.aws.secret.key</code></a>,
<a href="https://hudi.apache.org/docs/next/configurations#hoodieawssessiontoken" target="_blank" rel="noopener noreferrer"><code>hoodie.aws.session.token</code></a> properties.
In the absence of static AWS credentials being configured, <code>DefaultAWSCredentialsProviderChain</code> will be used to get credentials by checking environment properties.
Additional Amazon CloudWatch reporter specific properties that can be tuned are in the <code>HoodieMetricsCloudWatchConfig</code> class.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="devex">DevEx<a class="hash-link" href="#devex" title="Direct link to heading">​</a></h3><p>Default maven spark3 version is not upgraded to 3.1 So, <code>maven profile -Dspark3</code> will build Hudi against Spark 3.1.2 with 0.10.0. Use <code>-Dspark3.0.x</code> for building against Spark 3.0.x versions</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="repair-tool-for-dangling-data-files">Repair tool for dangling data files<a class="hash-link" href="#repair-tool-for-dangling-data-files" title="Direct link to heading">​</a></h3><p>Sometimes, there could be dangling data files lying around due to various reasons ranging from rollback failing mid-way
to cleaner failing to clean up all data files, or data files created by spark task failures were not cleaned up properly.
So, we are adding a repair tool to clean up any dangling data files which are not part of completed commits. Feel free to try out
the tool via spark-submit at <code>org.apache.hudi.utilities.HoodieRepairTool</code> in hudi-utilities bundle, if you encounter issues in 0.10.0 release.
The tool has dry run mode as well which would print the dangling files without actually deleting it. The tool is available
from 0.11.0-SNAPSHOT on master.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="raw-release-notes-3">Raw Release Notes<a class="hash-link" href="#raw-release-notes-3" title="Direct link to heading">​</a></h2><p>The raw release notes are available <a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12322822&amp;version=12350285" target="_blank" rel="noopener noreferrer">here</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-090-docs"><a href="https://github.com/apache/hudi/releases/tag/release-0.9.0" target="_blank" rel="noopener noreferrer">Release 0.9.0</a> (<a href="/cn/docs/0.9.0/quick-start-guide">docs</a>)<a class="hash-link" href="#release-090-docs" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_y2LR" id="migration-guide-for-this-release">Migration Guide for this release<a class="hash-link" href="#migration-guide-for-this-release" title="Direct link to heading">​</a></h2><ul><li>If migrating from an older release, please also check the upgrade instructions for each subsequent release below.</li><li>With 0.9.0, Hudi is adding more table properties to aid in using an existing hudi table with spark-sql.
To smoothly aid this transition these properties added to <code>hoodie.properties</code> file. Whenever Hudi is launched with
newer table version i.e 2 (or moving from pre 0.9.0 to 0.9.0), an upgrade step will be executed automatically.
This automatic upgrade step will happen just once per Hudi table as the <code>hoodie.table.version</code> will be updated in
property file after upgrade is completed.</li><li>Similarly, a command line tool for Downgrading (command - <code>downgrade</code>) is added if in case some users want to
downgrade Hudi from table version <code>2</code> to <code>1</code> or move from Hudi 0.9.0 to pre 0.9.0. This needs to be executed from a
0.9.0 <code>hudi-cli</code> binary/script.</li><li>With this release, we added a new framework to track config properties in code, moving away from string variables that
hold property names and values. This move helps us automate configuration doc generation and much more. While we still
support the older configs string variables, users are encouraged to use the new <code>ConfigProperty</code> equivalents, as noted
in the deprecation notices. In most cases, it is as simple as calling <code>.key()</code> and <code>.defaultValue()</code> on the corresponding
alternative. e.g <code>RECORDKEY_FIELD_OPT_KEY</code> can be replaced by <code>RECORDKEY_FIELD_NAME.key()</code></li><li>If set <code>URL_ENCODE_PARTITIONING_OPT_KEY=true</code> <em>and</em> <code>&lt;</code> and <code>&gt;</code> are present in the URL partition paths, users would
need to migrate the table due to encoding logic changed: <code>&lt;</code> (encoded as <code>%3C</code>) and <code>&gt;</code> (encoded as <code>%3E</code>) won&#x27;t be escaped in 0.9.0.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-highlights-4">Release Highlights<a class="hash-link" href="#release-highlights-4" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="spark-sql-dml-and-ddl-support">Spark SQL DML and DDL Support<a class="hash-link" href="#spark-sql-dml-and-ddl-support" title="Direct link to heading">​</a></h3><p>0.9.0 adds <strong>experimental</strong> support for DDL/DMLs using Spark SQL, taking a huge step towards making Hudi more easily accessible and
operable by all personas (non-engineers, analysts etc). Users can now use <code>CREATE TABLE....USING HUDI</code> and <code>CREATE TABLE .. AS SELECT</code>
statements to directly create and manage tables in catalogs like Hive. Users can then use <code>INSERT</code>, <code>UPDATE</code>, <code>MERGE INTO</code> and <code>DELETE</code>
sql statements to manipulate data. In addition, <code>INSERT OVERWRITE</code> statement can be used to overwrite existing data in the table or partition
for existing batch ETL pipelines. For more information, checkout our docs <a href="/cn/docs/quick-start-guide">here</a> clicking on <code>SparkSQL</code> tab.
Please see <a href="https://cwiki.apache.org/confluence/display/HUDI/RFC+-+25%3A+Spark+SQL+Extension+For+Hudi" target="_blank" rel="noopener noreferrer">RFC-25</a>
for more implementation details.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="query-side-improvements-1">Query side improvements<a class="hash-link" href="#query-side-improvements-1" title="Direct link to heading">​</a></h3><p>Hudi tables are now registered with Hive as spark datasource tables, meaning Spark SQL on these tables now uses the datasource as well,
instead of relying on the Hive fallbacks within Spark, which are ill-maintained/cumbersome. This unlocks many optimizations such as the
use of Hudi&#x27;s own <a href="https://github.com/apache/hudi/blob/bf5a52e51bbeaa089995335a0a4c55884792e505/hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieFileIndex.scala#L46" target="_blank" rel="noopener noreferrer">FileIndex</a>
implementation for optimized caching and the use of the Hudi metadata table, for faster listing of large tables. We have also added support for
<a href="/cn/docs/quick-start-guide#time-travel-query">timetravel query</a>, for spark datasource.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="writer-side-improvements-1">Writer side improvements<a class="hash-link" href="#writer-side-improvements-1" title="Direct link to heading">​</a></h3><p>Virtual keys support has been added where users can avoid adding meta fields to hudi table and leverage existing fields to populate record keys and partition paths.
One needs to disable <a href="/cn/docs/configurations#hoodiepopulatemetafields">this</a> config to enable virtual keys.</p><p>Bulk Insert operations using <a href="/cn/docs/configurations#hoodiedatasourcewriterowwriterenable">row writer enabled</a> now supports pre-combining,
sort modes and user defined partitioners and now turned on by default for fast inserts.</p><p>Hudi performs automatic cleanup of uncommitted data, which has now been enhanced to be performant over cloud storage, even for
extremely large tables. Specifically, a new marker mechanism has been implemented leveraging the timeline server to perform
centrally co-ordinated batched read/write of file markers to underlying storage. You can turn this using this <a href="/cn/docs/configurations#hoodiewritemarkerstype">config</a> and learn more
about it on this <a href="/cn/blog/2021/08/18/improving-marker-mechanism">blog</a>.</p><p>Async Clustering support has been added to both DeltaStreamer and Spark Structured Streaming Sink. More on this can be found in this
<a href="/cn/blog/2021/08/23/async-clustering">blog post</a>. In addition, we have added a new utility class <a href="https://github.com/apache/hudi/blob/bf5a52e51bbeaa089995335a0a4c55884792e505/hudi-utilities/src/main/java/org/apache/hudi/utilities/HoodieClusteringJob.java" target="_blank" rel="noopener noreferrer">HoodieClusteringJob</a>
to assist in building and executing a clustering plan together as a standalone spark job.</p><p>Users can choose to drop fields used to generate partition paths, using <code>hoodie.datasource.write.drop.partition.columns=true</code>, to support
querying of Hudi snapshots using systems like BigQuery, which cannot handle this.</p><p>Hudi uses different <a href="/cn/docs/configurations#hoodiecommonspillablediskmaptype">types of spillable maps</a>, for internally handling merges (compaction, updates or even MOR snapshot queries). In 0.9.0, we have added
support for <a href="/cn/docs/configurations#hoodiecommondiskmapcompressionenabled">compression</a> for the bitcask style default option and introduced a new spillable map backed by rocksDB, which can be more performant for large
bulk updates or working with large base file sizes.</p><p>Added a new write operation <code>delete_partition</code> operation, with support in spark. Users can leverage this to delete older partitions in bulk, in addition to
record level deletes. Deletion of specific partitions can be done using this <a href="/cn/docs/configurations#hoodiedatasourcewritepartitionstodelete">config</a>.</p><p>Support for Huawei Cloud Object Storage, BAIDU AFS storage format, Baidu BOS storage in Hudi.</p><p>A <a href="https://github.com/apache/hudi/blob/bf5a52e51bbeaa089995335a0a4c55884792e505/hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SparkPreCommitValidator.java" target="_blank" rel="noopener noreferrer">pre commit validator framework</a>
has been added for spark engine, which can used for DeltaStreamer and Spark Datasource writers. Users can leverage this to add any validations to be executed before committing writes to Hudi.
Three validators come out-of-box</p><ul><li><a href="https://github.com/apache/hudi/blob/bf5a52e51bbeaa089995335a0a4c55884792e505/hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryEqualityPreCommitValidator.java" target="_blank" rel="noopener noreferrer">org.apache.hudi.client.validator.SqlQueryEqualityPreCommitValidator</a> can be used to validate for equality of rows before and after the commit.</li><li><a href="https://github.com/apache/hudi/blob/bf5a52e51bbeaa089995335a0a4c55884792e505/hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQueryInequalityPreCommitValidator.java" target="_blank" rel="noopener noreferrer">org.apache.hudi.client.validator.SqlQueryInequalityPreCommitValidator</a> can be used to validate for inequality of rows before and after the commit.</li><li><a href="https://github.com/apache/hudi/blob/bf5a52e51bbeaa089995335a0a4c55884792e505/hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SqlQuerySingleResultPreCommitValidator.java" target="_blank" rel="noopener noreferrer">org.apache.hudi.client.validator.SqlQuerySingleResultPreCommitValidator</a> can be used to validate that a query on the table results in a specific value.</li></ul><p>These can be configured by setting <code>hoodie.precommit.validators=&lt;comma separated list of validator class names&gt;</code>. Users can also provide their own implementations by extending the abstract class <a href="https://github.com/apache/hudi/blob/bf5a52e51bbeaa089995335a0a4c55884792e505/hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/client/validator/SparkPreCommitValidator.java" target="_blank" rel="noopener noreferrer">SparkPreCommitValidator</a>
and overriding this method</p><div class="codeBlockContainer_J+bg language-java theme-code-block"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">void validateRecordsBeforeAndAfter(Dataset&lt;Row&gt; before, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                   Dataset&lt;Row&gt; after, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                   Set&lt;String&gt; partitionsAffected)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="flink-integration-improvements-3">Flink Integration Improvements<a class="hash-link" href="#flink-integration-improvements-3" title="Direct link to heading">​</a></h3><p>The Flink writer now supports propagation of CDC format for MOR table, by turning on the option <code>changelog.enabled=true</code>. Hudi would then persist all change flags of each record,
using the streaming reader of Flink, user can do stateful computation based on these change logs. Note that when the table is compacted with async compaction service, all the
intermediate changes are merged into one(last record), to only have UPSERT semantics.</p><p>Flink writing now also has most feature parity with spark writing, with addition of write operations like <code>bulk_insert</code>, <code>insert_overwrite</code>, support for non-partitioned tables,
automatic cleanup of uncommitted data, global indexing support, hive style partitioning and handling of partition path updates. Writing also supports a new log append mode, where
no records are de-duplicated and base files are directly written for each flush. To use this mode, set <code>write.insert.deduplicate=false</code>.</p><p>Flink readers now support streaming reads from COW/MOR tables. Deletions are emitted by default in streaming read mode, the downstream receives the DELETE message as a Hoodie record with empty payload.</p><p>Hive sync has been greatly improved by support different Hive versions(1.x, 2.x, 3.x). Hive sync can also now be done asynchronously.</p><p>Flink Streamer tool now supports transformers.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="deltastreamer">DeltaStreamer<a class="hash-link" href="#deltastreamer" title="Direct link to heading">​</a></h3><p>We have enhanced Deltastreamer utility with 3 new sources.</p><p><a href="https://github.com/apache/hudi/blob/bf5a52e51bbeaa089995335a0a4c55884792e505/hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/JdbcSource.java" target="_blank" rel="noopener noreferrer">JDBC source</a> can take a extraction SQL statement and
incrementally fetch data out of sources supporting JDBC. This can be useful for e.g when reading data from RDBMS sources. Note that, this approach may need periodic re-bootstrapping to ensure data consistency, although being much simpler to operate over CDC based approaches.</p><p><a href="https://github.com/apache/hudi/blob/bf5a52e51bbeaa089995335a0a4c55884792e505/hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/SqlSource.java" target="_blank" rel="noopener noreferrer">SQLSource</a> takes a Spark SQL statement to fetch data out of existing tables and
can be very useful for easy SQL based backfills use-cases e.g: backfilling just one column for the past N months.</p><p><a href="https://github.com/apache/hudi/blob/bf5a52e51bbeaa089995335a0a4c55884792e505/hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsHoodieIncrSource.java" target="_blank" rel="noopener noreferrer">S3EventsHoodieIncrSource</a> and <a href="https://github.com/apache/hudi/blob/bf5a52e51bbeaa089995335a0a4c55884792e505/hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/S3EventsSource.java" target="_blank" rel="noopener noreferrer">S3EventsSource</a>
assist in reading data from S3 reliably and efficiently ingesting that to Hudi. Existing approach using <code>*DFSSource</code> source classes uses last modification time of files as checkpoint to pull in new files.
But, if large number of files have the same modification time, this might miss some files to be read from the source.  These two sources (S3EventsHoodieIncrSource and S3EventsSource) together ensures data
is reliably ingested from S3 into Hudi by leveraging AWS SNS and SQS services that subscribes to file events from the source bucket. <a href="/cn/blog/2021/08/23/s3-events-source">This blog post</a> presents a model for
scalable, reliable incremental ingestion by using these two sources in tandem.</p><p>In addition to pulling events from kafka using regular offset format, we also added support for timestamp based fetches, that can
help with initial backfill/bootstrap scenarios. We have also added support for passing in basic auth credentials in schema registry provider url with schema provider.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="raw-release-notes-4">Raw Release Notes<a class="hash-link" href="#raw-release-notes-4" title="Direct link to heading">​</a></h2><p>The raw release notes are available <a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12322822&amp;version=12350027" target="_blank" rel="noopener noreferrer">here</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-080-docs"><a href="https://github.com/apache/hudi/releases/tag/release-0.8.0" target="_blank" rel="noopener noreferrer">Release 0.8.0</a> (<a href="/cn/docs/0.8.0/quick-start-guide">docs</a>)<a class="hash-link" href="#release-080-docs" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_y2LR" id="migration-guide-for-this-release-1">Migration Guide for this release<a class="hash-link" href="#migration-guide-for-this-release-1" title="Direct link to heading">​</a></h2><ul><li>If migrating from release older than 0.5.3, please also check the upgrade instructions for each subsequent release below.</li><li>Specifically check upgrade instructions for 0.6.0. This release does not introduce any new table versions.</li><li>The <code>HoodieRecordPayload</code> interface deprecated existing methods, in favor of new ones that also lets us pass properties at runtime. Users are
encouraged to migrate out of the deprecated methods, since they will be removed in 0.9.0.</li><li>&quot;auto.offset.reset&quot; is a config used for Kafka sources in deltastreamer utility to reset offset to be consumed from such
sources. We had a bug around this config with 0.8.0 which has been fixed in 0.9.0. Please use &quot;auto.reset.offsets&quot; instead.
Possible values for this config are &quot;earliest&quot; and &quot;latest&quot;(default). So, would recommend using &quot;auto.reset.offsets&quot; only in
0.8.0 and for all other releases, you can use &quot;auto.offset.reset&quot;.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-highlights-5">Release Highlights<a class="hash-link" href="#release-highlights-5" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="flink-integration">Flink Integration<a class="hash-link" href="#flink-integration" title="Direct link to heading">​</a></h3><p>Since the initial support for the Hudi Flink Writer in the 0.7.0 release, the Hudi community made great progress on improving the Flink/Hudi integration,
including redesigning the Flink writer pipeline with better performance and scalability, state-backed indexing with bootstrap support,
Flink writer for MOR table, batch reader for COW&amp;MOR table, streaming reader for MOR table, and Flink SQL connector for both source and sink.
In the 0.8.0 release, user is able to use all those features with Flink 1.11+.</p><p>Please see <a href="https://cwiki.apache.org/confluence/display/HUDI/RFC+-+24%3A+Hoodie+Flink+Writer+Proposal" target="_blank" rel="noopener noreferrer">RFC-24</a>
for more implementation details for the Flink writer and follow this <a href="/cn/docs/flink-quick-start-guide">page</a>
to get started with Flink!</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="parallel-writers-support">Parallel Writers Support<a class="hash-link" href="#parallel-writers-support" title="Direct link to heading">​</a></h3><p>As many users requested, now Hudi supports multiple ingestion writers to the same Hudi Table with optimistic concurrency control.
Hudi supports file level OCC, i.e., for any 2 commits (or writers) happening to the same table, if they do not have writes to overlapping files being changed,
both writers are allowed to succeed. This feature is currently experimental and requires either Zookeeper or HiveMetastore to acquire locks.</p><p>Please see <a href="https://cwiki.apache.org/confluence/display/HUDI/RFC+-+22+%3A+Snapshot+Isolation+using+Optimistic+Concurrency+Control+for+multi-writers" target="_blank" rel="noopener noreferrer">RFC-22</a>
for more implementation details and follow this <a href="/cn/docs/concurrency_control">page</a> to get started with concurrency control!</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="writer-side-improvements-2">Writer side improvements<a class="hash-link" href="#writer-side-improvements-2" title="Direct link to heading">​</a></h3><ul><li>InsertOverwrite Support for Flink writer client.</li><li>Support CopyOnWriteTable in Java writer client.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="query-side-improvements-2">Query side improvements<a class="hash-link" href="#query-side-improvements-2" title="Direct link to heading">​</a></h3><ul><li>Support Spark Structured Streaming read from Hudi table.</li><li>Performance improvement of Metadata table.</li><li>Performance improvement of Clustering.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="raw-release-notes-5">Raw Release Notes<a class="hash-link" href="#raw-release-notes-5" title="Direct link to heading">​</a></h3><p>The raw release notes are available <a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12322822&amp;version=12349423" target="_blank" rel="noopener noreferrer">here</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-070-docs"><a href="https://github.com/apache/hudi/releases/tag/release-0.7.0" target="_blank" rel="noopener noreferrer">Release 0.7.0</a> (<a href="/cn/docs/0.7.0/quick-start-guide">docs</a>)<a class="hash-link" href="#release-070-docs" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_y2LR" id="migration-guide-for-this-release-2">Migration Guide for this release<a class="hash-link" href="#migration-guide-for-this-release-2" title="Direct link to heading">​</a></h2><ul><li>If migrating from release older than 0.5.3, please also check the upgrade instructions for each subsequent release below.</li><li>Specifically check upgrade instructions for 0.6.0. This release does not introduce any new table versions.</li><li>The <code>HoodieRecordPayload</code> interface deprecated existing methods, in favor of new ones that also lets us pass properties at runtime. Users are
encouraged to migrate out of the deprecated methods, since they will be removed in 0.9.0.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-highlights-6">Release Highlights<a class="hash-link" href="#release-highlights-6" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="clustering">Clustering<a class="hash-link" href="#clustering" title="Direct link to heading">​</a></h3><p>0.7.0 brings the ability to cluster your Hudi tables, to optimize for file sizes and also storage layout. Hudi will continue to
enforce file sizes, as it always has been, during the write. Clustering provides more flexibility to increase the file sizes
down the line or ability to ingest data at much fresher intervals, and later coalesce them into bigger files. <a href="https://gist.github.com/vinothchandar/d7fa1338cddfae68390afcdfe310f94e#gistcomment-3383478" target="_blank" rel="noopener noreferrer">Microbenchmarks</a>
demonstrate a 3-4x reduction in query performance, for a 10-20x reduction in file sizes.</p><p>Additionally, clustering data based on fields that are often used in queries, dramatically
<a href="https://cwiki.apache.org/confluence/display/HUDI/RFC+-+19+Clustering+data+for+freshness+and+query+performance#RFC19Clusteringdataforfreshnessandqueryperformance-PerformanceEvaluation" target="_blank" rel="noopener noreferrer">improves query performance</a> by allowing many files to be
completely skipped. This is very similar to the benefits of clustering delivered by <a href="https://docs.snowflake.com/en/user-guide/tables-clustering-micropartitions" target="_blank" rel="noopener noreferrer">cloud data warehouses</a>.
We are proud to announce that such capability is freely available in open source, for the first time, through the 0.7.0 release.</p><p>Please see <a href="https://cwiki.apache.org/confluence/display/HUDI/RFC+-+19+Clustering+data+for+freshness+and+query+performance" target="_blank" rel="noopener noreferrer">RFC-19</a> for more implementation details
and checkout configs <a href="/cn/docs/configurations#clustering-configs">here</a> for how to use it in your pipelines. At the moment, we support both inline and async clustering modes.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="metadata-table-1">Metadata Table<a class="hash-link" href="#metadata-table-1" title="Direct link to heading">​</a></h3><p>Since Hudi was born at Uber, on a HDFS backed data lake, we have since been a tad apathetic to the plight of listing performance on cloud storage (partly in hopes that
cloud providers will fix it over time:)). Nonetheless, 0.7.0 changes this and lays out the foundation for storing more indexes, metadata in an internal metadata table,
which is implemented using a Hudi MOR table - which means it&#x27;s compacted, cleaned and also incrementally updated like any other Hudi table. Also, unlike similar
implementations in other projects, we have chosen to index the file listing information as HFiles, which offers point-lookup performance to fetch listings for a single partition.</p><p>In 0.7.0 release, <code>hoodie.metadata.enable=true</code> on the writer side, will populate the metadata table with file system listings
so all operations don&#x27;t have to explicitly use <code>fs.listStatus()</code> anymore on data partitions. We have introduced a sync mechanism that
keeps syncing file additions/deletions on the data timeline, to the metadata table, after each write operation.</p><p>In our testing, on a large 250K file table, the metadata table delivers <a href="https://github.com/apache/hudi/pull/2441#issuecomment-761742963" target="_blank" rel="noopener noreferrer">2-3x speedup</a> over parallelized
listing done by the Hudi spark writer. Please check <a href="https://cwiki.apache.org/confluence/display/HUDI/RFC+-+15%3A+HUDI+File+Listing+and+Query+Planning+Improvements" target="_blank" rel="noopener noreferrer">RFC-15 (ongoing)</a>
and the <a href="/cn/docs/configurations#metadata-config">configurations</a>, which offer flags to help adopt this feature safely in your production pipelines.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="javaflink-writers">Java/Flink Writers<a class="hash-link" href="#javaflink-writers" title="Direct link to heading">​</a></h3><p>Hudi was originally designed with a heavy dependency on Spark, given it had simply solve specific problems at Uber. But, as we have evolved as an Apache
project, we realized the need for abstracting the internal table format, table services and writing layers of code. In 0.7.0, we have additionally added
Java and Flink based writers, as initial steps in this direction.</p><p>Specifically, the <code>HoodieFlinkStreamer</code> allows for Hudi Copy-On-Write table to built by streaming data from a Kafka topic.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="writer-side-improvements-3">Writer side improvements<a class="hash-link" href="#writer-side-improvements-3" title="Direct link to heading">​</a></h3><ul><li><strong>Spark3 Support</strong>: We have added support for writing/querying data using Spark 3. please be sure to use the scala 2.12 hudi-spark-bundle.</li><li><strong>Parallelized Listing</strong>: We have holistically moved all listings under the <code>HoodieTableMetadata</code> interface, which does multi-threaded/spark parallelized list operations.
We expect this to improve cleaner, compaction scheduling performance, even when the metadata table is not used.</li><li><strong>Kafka Commit Callbacks</strong>: We have added <code>HoodieWriteCommitKafkaCallback</code>, that publishes an event to Apache Kafka, for every commit operation. This can be used to trigger
derived/ETL pipelines similar to data <a href="https://airflow.apache.org/docs/apache-airflow/stable/_api/airflow/sensors/index" target="_blank" rel="noopener noreferrer">sensors</a> in Apache Airflow.</li><li><strong>Insert Overwrite/Insert Overwrite Table</strong>: We have added these two new write operation types, predominantly to help existing batch ETL jobs, which typically overwrite entire
tables/partitions each run. These operations are much cheaper, than having to issue upserts, given they are bulk replacing the target table.
Check <a href="/cn/docs/quick-start-guide#insert-overwrite-table">here</a> for examples.</li><li><strong>Delete Partition</strong>: For users of WriteClient/RDD level apis, we have added an API to delete an entire partition, again without issuing deletes at the record level.</li><li>The current default <code>OverwriteWithLatestAvroPayload</code> will overwrite the value in storage, even if for e.g the upsert was reissued for an older value of the key.
Added a new <code>DefaultHoodieRecordPayload</code> and a new payload config <code>hoodie.payload.ordering.field</code> helps specify a field, that the incoming upsert record can be compared with
the record on storage, to decide whether to overwrite or not. Users are encouraged to adopt this newer, more flexible model.</li><li>Hive sync supports hourly partitions via <code>SlashEncodedHourPartitionValueExtractor</code></li><li>Support for IBM Cloud storage, Open J9 JVM.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="query-side-improvements-3">Query side improvements<a class="hash-link" href="#query-side-improvements-3" title="Direct link to heading">​</a></h3><ul><li><strong>Incremental Query on MOR (Spark Datasource)</strong>: Spark datasource now has experimental support for incremental queries on MOR table. This feature will be hardened and certified
in the next release, along with a large overhaul of the spark datasource implementation. (sshh!:))</li><li><strong>Metadata Table For File Listings</strong>: Users can also leverage the metadata table on the query side for the following query paths. For Hive, setting the <code>hoodie.metadata.enable=true</code> session
property and for SparkSQL on Hive registered tables using <code>--conf spark.hadoop.hoodie.metadata.enable=true</code>, allows the file listings for the partition to be fetched out of the metadata
table, instead of listing the underlying DFS partition.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="raw-release-notes-6">Raw Release Notes<a class="hash-link" href="#raw-release-notes-6" title="Direct link to heading">​</a></h3><p>The raw release notes are available <a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12322822&amp;version=12348721" target="_blank" rel="noopener noreferrer">here</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-060-docs"><a href="https://github.com/apache/hudi/releases/tag/release-0.6.0" target="_blank" rel="noopener noreferrer">Release 0.6.0</a> (<a href="/cn/docs/0.6.0/quick-start-guide">docs</a>)<a class="hash-link" href="#release-060-docs" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_y2LR" id="migration-guide-for-this-release-3">Migration Guide for this release<a class="hash-link" href="#migration-guide-for-this-release-3" title="Direct link to heading">​</a></h2><ul><li>If migrating from release older than 0.5.3, please also check the upgrade instructions for each subsequent release below.</li><li>With 0.6.0 Hudi is moving from list based rollback to marker based rollbacks. To smoothly aid this transition a
new property called <code>hoodie.table.version</code> is added to <code>hoodie.properties</code> file. Whenever Hudi is launched with
newer table version i.e 1 (or moving from pre 0.6.0 to 0.6.0), an upgrade step will be executed automatically.
This automatic upgrade step will happen just once per Hudi table as the <code>hoodie.table.version</code> will be updated in property file after upgrade is completed.</li><li>Similarly, a command line tool for Downgrading (command - <code>downgrade</code>) is added if in case some users want to downgrade Hudi from table version 1 to 0 or move from Hudi 0.6.0 to pre 0.6.0</li><li>If you were using a user defined partitioner with bulkInsert() RDD API, the base interface has changed to <code>BulkInsertPartitioner</code> and will need minor adjustments to your existing implementations.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-highlights-7">Release Highlights<a class="hash-link" href="#release-highlights-7" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="writer-side-improvements-4">Writer side improvements:<a class="hash-link" href="#writer-side-improvements-4" title="Direct link to heading">​</a></h3><ul><li>Bootstrapping existing parquet datasets :  Adds support for bootstrapping existing datasets into Hudi, via both Spark datasource writer and
deltastreamer tool, with support for reading from Hive, SparkSQL, AWS Athena (prestoDB support coming soon). See <a href="https://cwiki.apache.org/confluence/display/HUDI/RFC+-+15%3A+HUDI+File+Listing+and+Query+Planning+Improvements" target="_blank" rel="noopener noreferrer">RFC-15</a> for technical details.
Note that this is an experimental feature, which will be improved upon further in the 0.6.x versions.</li><li>Native row writing for bulk_insert : Avoids any dataframe-rdd conversion for bulk_insert path, which can improve performance of initial bulk loads.
Although, this is typically not the bottleneck for upsert/deletes, subsequent releases in 0.6.x versions will expand this to other write operations
to make reasoning about schema management easier, avoiding the spark-avro conversion totally.</li><li>Bulk insert sort modes : Hudi bulk_insert sorts the input globally to optimize file sizes and avoid out-of-memory issues encountered when writing parallely to multiple DFS partitions.
For users who want to prepare the dataframe for writing outside of Hudi, we have made this configurable using <code>hoodie.bulkinsert.sort.mode</code>.</li><li>Cleaning can now be run concurrently with writing, using <code>hoodie.clean.async=true</code>which can speed up time taken to finish committing.</li><li>Async compaction for spark streaming writes to hudi table, is now self managed by default, controlling <code>hoodie.datasource.compaction.async.enable</code>.</li><li>Rollbacks no longer perform full table listings, by leveraging marker files. To enable, set <code>hoodie.rollback.using.markers=true</code>.</li><li>Added a new index <code>hoodie.index.type=SIMPLE</code> which can be faster than <code>BLOOM_INDEX</code> for cases where updates/deletes spread across a large portion of the table.</li><li>Hudi now supports <code>Azure Data Lake Storage V2</code> , <code>Alluxio</code> and <code>Tencent Cloud Object Storage</code> storages.</li><li><a href="https://hudi.apache.org/docs/writing_data#multitabledeltastreamer" target="_blank" rel="noopener noreferrer">HoodieMultiDeltaStreamer</a> adds support for ingesting multiple kafka streams in a single DeltaStreamer deployment, effectively reducing operational burden for using delta streamer
as your data lake ingestion tool (Experimental feature)</li><li>Added a new tool - InitialCheckPointProvider, to set checkpoints when migrating to DeltaStreamer after an initial load of the table is complete.</li><li>Delta Streamer tool now supports ingesting CSV data sources, chaining of multiple transformers to build more advanced ETL jobs.</li><li>Introducing a new <code>CustomKeyGenerator</code> key generator class, that provides flexible configurations to provide enable different types of key, partition path generation in  single class.
We also added support for more time units and date/time formats in <code>TimestampBasedKeyGenerator</code>. See <a href="https://hudi.apache.org/docs/writing_data#key-generation" target="_blank" rel="noopener noreferrer">docs</a> for more.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="query-side-improvements-4">Query side improvements:<a class="hash-link" href="#query-side-improvements-4" title="Direct link to heading">​</a></h3><ul><li>Starting 0.6.0, snapshot queries are feasible on MOR tables using spark datasource. (experimental feature)</li><li>In prior versions we only supported <code>HoodieCombineHiveInputFormat</code> for CopyOnWrite tables to ensure that there is a limit on the number of mappers spawned for
any query. Hudi now supports Merge on Read tables also using <code>HoodieCombineInputFormat</code>.</li><li>Speedup spark read queries by caching metaclient in HoodieROPathFilter. This helps reduce listing related overheads in S3 when filtering files for read-optimized queries.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="usability">Usability:<a class="hash-link" href="#usability" title="Direct link to heading">​</a></h3><ul><li>Spark DAGs are named to aid better debuggability.</li><li>Support pluggable metrics reporting by introducing proper abstraction for user defined metrics. Console, JMX, Prometheus and DataDog metric reporters have been added.</li><li>A new utility called Data snapshot exporter has been added. Latest table snapshot as of a certain point in time can be exported as plain parquet files with this tool.</li><li>Introduce write committed callback hooks for incremental pipelines to be notified and act on new commits in the timeline. For e.g, Apache Airflow jobs can be triggered
as new commits arrive.</li><li>Added support for deleting savepoints via CLI</li><li>Added a new command - <code>export instants</code>, to export metadata of instants</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="raw-release-notes-7">Raw Release Notes<a class="hash-link" href="#raw-release-notes-7" title="Direct link to heading">​</a></h2><p>The raw release notes are available <a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12322822&amp;version=12346663" target="_blank" rel="noopener noreferrer">here</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-053-docs"><a href="https://github.com/apache/hudi/releases/tag/release-0.5.3" target="_blank" rel="noopener noreferrer">Release 0.5.3</a> (<a href="/cn/docs/0.5.3/quick-start-guide">docs</a>)<a class="hash-link" href="#release-053-docs" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_y2LR" id="migration-guide-for-this-release-4">Migration Guide for this release<a class="hash-link" href="#migration-guide-for-this-release-4" title="Direct link to heading">​</a></h2><ul><li>This is a bug fix only release and no special migration steps needed when upgrading from 0.5.2. If you are upgrading from earlier releases “X”, please make sure you read the migration guide for each subsequent release between “X” and 0.5.3</li><li>0.5.3 is the first hudi release after graduation. As a result, all hudi jars will no longer have &quot;-incubating&quot; in the version name. In all the places where hudi version is referred, please make sure &quot;-incubating&quot; is no longer present.</li></ul><p>For example hudi-spark-bundle pom dependency would look like:</p><div class="codeBlockContainer_J+bg language-xml theme-code-block"><div class="codeBlockContent_csEI xml"><pre tabindex="0" class="prism-code language-xml codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">dependency</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">org.apache.hudi</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">hudi-spark-bundle_2.12</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">0.5.3</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">dependency</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-highlights-8">Release Highlights<a class="hash-link" href="#release-highlights-8" title="Direct link to heading">​</a></h2><ul><li>Hudi now supports <code>aliyun OSS</code> storage service.</li><li>Embedded Timeline Server is enabled by default for both delta-streamer and spark datasource writes. This feature was in experimental mode before this release. Embedded Timeline Server caches file listing calls in Spark driver and serves them to Spark writer tasks. This reduces the number of file listings needed to be performed for each write.</li><li>Incremental Cleaning is enabled by default for both delta-streamer and spark datasource writes. This feature was also in experimental mode before this release. In the steady state, incremental cleaning avoids the costly step of scanning all partitions and instead uses Hudi metadata to find files to be cleaned up.</li><li>Delta-streamer config files can now be placed in different filesystem than actual data.</li><li>Hudi Hive Sync now supports tables partitioned by date type column.</li><li>Hudi Hive Sync now supports syncing directly via Hive MetaStore. You simply need to set hoodie.datasource.hive_sync.use_jdbc
=false. Hive Metastore Uri will be read implicitly from environment. For example, when writing through Spark Data Source,</li></ul><div class="codeBlockContainer_J+bg language-Scala theme-code-block"><div class="codeBlockContent_csEI Scala"><pre tabindex="0" class="prism-code language-Scala codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> spark.write.format(“hudi”)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> .option(…)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> .option(“hoodie.datasource.hive_sync.username”, “&lt;user&gt;”)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> .option(“hoodie.datasource.hive_sync.password”, “&lt;password&gt;”)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> .option(“hoodie.datasource.hive_sync.partition_fields”, “&lt;partition_fields&gt;”)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> .option(“hoodie.datasource.hive_sync.database”, “&lt;db_name&gt;”)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> .option(“hoodie.datasource.hive_sync.table”, “&lt;table_name&gt;”)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> .option(“hoodie.datasource.hive_sync.use_jdbc”, “false”)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> .mode(APPEND)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> .save(“/path/to/dataset”)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>Other Writer Performance related fixes:<ul><li>DataSource Writer now avoids unnecessary loading of data after write.</li><li>Hudi Writer now leverages spark parallelism when searching for existing files for writing new records.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="raw-release-notes-8">Raw Release Notes<a class="hash-link" href="#raw-release-notes-8" title="Direct link to heading">​</a></h2><p>The raw release notes are available <a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12322822&amp;version=12348256" target="_blank" rel="noopener noreferrer">here</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-052-incubating-docs"><a href="https://github.com/apache/hudi/releases/tag/release-0.5.2-incubating" target="_blank" rel="noopener noreferrer">Release 0.5.2-incubating</a> (<a href="/cn/docs/0.5.2/quick-start-guide">docs</a>)<a class="hash-link" href="#release-052-incubating-docs" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="migration-guide-for-this-release-5">Migration Guide for this release<a class="hash-link" href="#migration-guide-for-this-release-5" title="Direct link to heading">​</a></h3><ul><li>Write Client restructuring has moved classes around (<a href="https://issues.apache.org/jira/browse/HUDI-554" target="_blank" rel="noopener noreferrer">HUDI-554</a>). Package <code>client</code> now has all the various client classes, that do the transaction management. <code>func</code> renamed to <code>execution</code> and some helpers moved to <code>client/utils</code>. All compaction code under <code>io</code> now under <code>table/compact</code>. Rollback code under <code>table/rollback</code> and in general all code for individual operations under <code>table</code>. This change only affects the apps/projects depending on hudi-client. Users of deltastreamer/datasource will not need to change anything.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="release-highlights-9">Release Highlights<a class="hash-link" href="#release-highlights-9" title="Direct link to heading">​</a></h3><ul><li>Support for overwriting the payload implementation in <code>hoodie.properties</code> via specifying the <code>hoodie.compaction.payload.class</code> config option. Previously, once the payload class is set once in <code>hoodie.properties</code>, it cannot be changed. In some cases, if a code refactor is done and the jar updated, one may need to pass the new payload class name.</li><li><code>TimestampBasedKeyGenerator</code> supports for <code>CharSequence</code>  types. Previously <code>TimestampBasedKeyGenerator</code> only supports <code>Double</code>, <code>Long</code>, <code>Float</code> and <code>String</code> 4 data types for the partition key. Now, after data type extending, <code>CharSequence</code> has been supported in <code>TimestampBasedKeyGenerator</code>.</li><li>Hudi now supports incremental pulling from defined partitions via the <code>hoodie.datasource.read.incr.path.glob</code> <a href="https://github.com/apache/hudi/blob/master/hudi-spark/src/main/scala/org/apache/hudi/DataSourceOptions.scala#L111" target="_blank" rel="noopener noreferrer">config option</a>. For some use case that users only need to pull the incremental part of certain partitions, it can run faster by only loading relevant parquet files.</li><li>With 0.5.2, hudi allows partition path to be updated with <code>GLOBAL_BLOOM</code> index. Previously, when a record is to be updated with a new partition path, and when set to <code>GLOBAL_BLOOM</code> as index, hudi ignores the new partition path and update the record in the original partition path. Now, hudi allows records to be inserted into their new partition paths and delete the records in the old partition paths. A configuration (e.g. <code>hoodie.index.bloom.update.partition.path=true</code>) can be added to enable this feature.</li><li>A <code>JdbcbasedSchemaProvider</code> schema provider has been provided to get metadata through JDBC. For the use case that users want to synchronize data from MySQL, and at the same time, want to get the schema from the database, it&#x27;s very helpful.</li><li>Simplify <code>HoodieBloomIndex</code> without the need for 2GB limit handling. Prior to spark 2.4.0, each spark partition has a limit of 2GB. In Hudi 0.5.1, after we upgraded to spark 2.4.4, we don&#x27;t have the limitation anymore. Hence removing the safe parallelism constraint we had in<code> HoodieBloomIndex</code>.</li><li>CLI related changes:<ul><li>Allows users to specify option to print additional commit metadata, e.g. <em>Total Log Blocks</em>, <em>Total Rollback Blocks</em>, <em>Total Updated Records Compacted</em> and so on.</li><li>Supports <code>temp_query</code> and <code>temp_delete</code> to query and delete temp view. This command creates a temp table. Users can write HiveQL queries against the table to filter the desired row. For example,</li></ul></li></ul><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">temp_query --sql &quot;select Instant, NumInserts, NumWrites from satishkotha_debug where FileId=&#x27;ed33bd99-466f-4417-bd92-5d914fa58a8f&#x27; and Instant &gt; &#x27;20200123211217&#x27; order by Instant&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="raw-release-notes-9">Raw Release Notes<a class="hash-link" href="#raw-release-notes-9" title="Direct link to heading">​</a></h3><p>The raw release notes are available <a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12322822&amp;version=12346606" target="_blank" rel="noopener noreferrer">here</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-051-incubating-docs"><a href="https://github.com/apache/hudi/releases/tag/release-0.5.1-incubating" target="_blank" rel="noopener noreferrer">Release 0.5.1-incubating</a> (<a href="/cn/docs/0.5.1/quick-start-guide">docs</a>)<a class="hash-link" href="#release-051-incubating-docs" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="migration-guide-for-this-release-6">Migration Guide for this release<a class="hash-link" href="#migration-guide-for-this-release-6" title="Direct link to heading">​</a></h3><ul><li>Upgrade hudi readers (query engines) first with 0.5.1-incubating release before upgrading writer.</li><li>In 0.5.1, the community restructured the package of key generators. The key generator related classes have been moved from <code>org.apache.hudi</code> to <code>org.apache.hudi.keygen</code>.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="release-highlights-10">Release Highlights<a class="hash-link" href="#release-highlights-10" title="Direct link to heading">​</a></h3><ul><li><p>Dependency Version Upgrades</p><ul><li>Upgrade from Spark 2.1.0 to Spark 2.4.4</li><li>Upgrade from Avro 1.7.7 to Avro 1.8.2</li><li>Upgrade from Parquet 1.8.1 to Parquet 1.10.1</li><li>Upgrade from Kafka 0.8.2.1 to Kafka 2.0.0 as a result of updating spark-streaming-kafka artifact from 0.8_2.11/2.12 to 0.10_2.11/2.12.</li></ul></li><li><p><strong>IMPORTANT</strong> This version requires your runtime spark version to be upgraded to 2.4+.</p></li><li><p>Hudi now supports both Scala 2.11 and Scala 2.12, please refer to <a href="https://github.com/apache/hudi#build-with-scala-212" target="_blank" rel="noopener noreferrer">Build with Scala 2.12</a> to build with Scala 2.12.
Also, the packages hudi-spark, hudi-utilities, hudi-spark-bundle and hudi-utilities-bundle are changed correspondingly to hudi-spark<em>{scala_version}, hudi-spark</em>{scala<em>version}, hudi-utilities</em>{scala<em>version}, hudi-spark-bundle</em>{scala<em>version} and hudi-utilities-bundle</em>{scala_version}.
Note that scala_version here is one of (2.11, 2.12).</p></li><li><p>With 0.5.1, we added functionality to stop using renames for Hudi timeline metadata operations. This feature is automatically enabled for newly created Hudi tables. For existing tables, this feature is turned off by default. Please read this <a href="https://hudi.apache.org/docs/deployment#upgrading" target="_blank" rel="noopener noreferrer">section</a>, before enabling this feature for existing hudi tables.
To enable the new hudi timeline layout which avoids renames, use the write config &quot;hoodie.timeline.layout.version=1&quot;. Alternatively, you can use &quot;repair overwrite-hoodie-props&quot; to append the line &quot;hoodie.timeline.layout.version=1&quot; to hoodie.properties. Note that in any case, upgrade hudi readers (query engines) first with 0.5.1-incubating release before upgrading writer.</p></li><li><p>CLI supports <code>repair overwrite-hoodie-props</code> to overwrite the table&#x27;s hoodie.properties with specified file, for one-time updates to table name or even enabling the new timeline layout above. Note that few queries may temporarily fail while the overwrite happens (few milliseconds).</p></li><li><p>DeltaStreamer CLI parameter for capturing table type is changed from <code>--storage-type</code> to <code>--table-type</code>. Refer to <a href="https://cwiki.apache.org/confluence/display/HUDI/Design+And+Architecture" target="_blank" rel="noopener noreferrer">wiki</a> with more latest terminologies.</p></li><li><p>Configuration Value change for Kafka Reset Offset Strategies. Enum values are changed from LARGEST to LATEST, SMALLEST to EARLIEST for configuring Kafka reset offset strategies with configuration(auto.offset.reset) in deltastreamer.</p></li><li><p>When using spark-shell to give a quick peek at Hudi, please provide <code>--packages org.apache.spark:spark-avro_2.11:2.4.4</code>, more details would refer to <a href="https://hudi.apache.org/docs/quick-start-guide" target="_blank" rel="noopener noreferrer">latest quickstart docs</a></p></li><li><p>Key generator moved to separate package under org.apache.hudi.keygen. If you are using overridden key generator classes (configuration (&quot;hoodie.datasource.write.keygenerator.class&quot;)) that comes with hudi package, please ensure the fully qualified class name is changed accordingly.</p></li><li><p>Hive Sync tool will register RO tables for MOR with a _ro suffix, so query with _ro suffix. You would use <code>--skip-ro-suffix</code> in sync config in sync config to retain the old naming without the _ro suffix.</p></li><li><p>With 0.5.1, hudi-hadoop-mr-bundle which is used by query engines such as presto and hive includes shaded avro package to support hudi real time queries through these engines. Hudi supports pluggable logic for merging of records. Users provide their own implementation of <a href="https://github.com/apache/hudi/blob/master/hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java" target="_blank" rel="noopener noreferrer">HoodieRecordPayload</a>.
If you are using this feature, you need to relocate the avro dependencies in your custom record payload class to be consistent with internal hudi shading. You need to add the following relocation when shading the package containing the record payload implementation.</p><div class="codeBlockContainer_J+bg language-xml theme-code-block"><div class="codeBlockContent_csEI xml"><pre tabindex="0" class="prism-code language-xml codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">relocation</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">pattern</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">org.apache.avro.</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">pattern</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">shadedPattern</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">org.apache.hudi.org.apache.avro.</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">shadedPattern</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">relocation</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li><p>Better delete support in DeltaStreamer, please refer to <a href="https://cwiki.apache.org/confluence/display/HUDI/2020/01/15/Delete+support+in+Hudi" target="_blank" rel="noopener noreferrer">blog</a> for more info.</p></li><li><p>Support for AWS Database Migration Service(DMS) in DeltaStreamer, please refer to <a href="https://cwiki.apache.org/confluence/display/HUDI/2020/01/20/Change+Capture+Using+AWS+Database+Migration+Service+and+Hudi" target="_blank" rel="noopener noreferrer">blog</a> for more info.</p></li><li><p>Support for DynamicBloomFilter. This is turned off by default, to enable the DynamicBloomFilter, please use the index config <code>hoodie.bloom.index.filter.type=DYNAMIC_V0</code>.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="raw-release-notes-10">Raw Release Notes<a class="hash-link" href="#raw-release-notes-10" title="Direct link to heading">​</a></h3><p>The raw release notes are available <a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12322822&amp;version=12346183" target="_blank" rel="noopener noreferrer">here</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-050-incubating-docs"><a href="https://github.com/apache/hudi/releases/tag/release-0.5.0-incubating" target="_blank" rel="noopener noreferrer">Release 0.5.0-incubating</a> (<a href="/cn/docs/0.5.0/quick-start-guide">docs</a>)<a class="hash-link" href="#release-050-incubating-docs" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="release-highlights-11">Release Highlights<a class="hash-link" href="#release-highlights-11" title="Direct link to heading">​</a></h3><ul><li>Package and format renaming from com.uber.hoodie to org.apache.hudi (See migration guide section below)</li><li>Major redo of Hudi bundles to address class and jar version mismatches in different environments</li><li>Upgrade from Hive 1.x to Hive 2.x for compile time dependencies - Hive 1.x runtime integration still works with a patch : See <a href="https://lists.apache.org/thread/48b3f0553f47c576fd7072f56bb0d8a24fb47d4003880d179c7f88a3@%3Cdev.hudi.apache.org%3E" target="_blank" rel="noopener noreferrer">the discussion thread</a></li><li>DeltaStreamer now supports continuous running mode with managed concurrent compaction</li><li>Support for Composite Keys as record key</li><li>HoodieCombinedInputFormat to scale huge hive queries running on Hoodie tables</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="migration-guide-for-this-release-7">Migration Guide for this release<a class="hash-link" href="#migration-guide-for-this-release-7" title="Direct link to heading">​</a></h3><p>This is the first Apache release for Hudi. Prior to this release, Hudi Jars were published using &quot;com.uber.hoodie&quot; maven co-ordinates. We have a <a href="https://cwiki.apache.org/confluence/display/HUDI/Migration+Guide+From+com.uber.hoodie+to+org.apache.hudi" target="_blank" rel="noopener noreferrer">migration guide</a></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="raw-release-notes-11">Raw Release Notes<a class="hash-link" href="#raw-release-notes-11" title="Direct link to heading">​</a></h3><p>The raw release notes are available <a href="https://jira.apache.org/jira/secure/ReleaseNote.jspa?projectId=12322822&amp;version=12346087" target="_blank" rel="noopener noreferrer">here</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="release-047"><a href="https://github.com/apache/hudi/releases/tag/hoodie-0.4.7" target="_blank" rel="noopener noreferrer">Release 0.4.7</a><a class="hash-link" href="#release-047" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="release-highlights-12">Release Highlights<a class="hash-link" href="#release-highlights-12" title="Direct link to heading">​</a></h3><ul><li>Major releases with fundamental changes to filesystem listing &amp; write failure handling</li><li>Introduced the first version of HoodieTimelineServer that runs embedded on the driver</li><li>With all executors fetching filesystem listing via RPC to timeline server, drastically reduced filesystem listing!</li><li>Failing concurrent write tasks are now handled differently to be robust against spark stage retries</li><li>Bug fixes/clean up around indexing, compaction</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="pr-list">PR LIST<a class="hash-link" href="#pr-list" title="Direct link to heading">​</a></h3><ul><li>Skip Meta folder when looking for partitions. <a href="https://github.com/apache/hudi/pull/698" target="_blank" rel="noopener noreferrer">#698</a></li><li>HUDI-134 - Disable inline compaction for Hoodie Demo. <a href="https://github.com/apache/hudi/pull/696" target="_blank" rel="noopener noreferrer">#696</a></li><li>Default implementation for HBase index qps allocator. <a href="https://github.com/apache/hudi/pull/685" target="_blank" rel="noopener noreferrer">#685</a></li><li>Handle duplicate record keys across partitions. <a href="https://github.com/apache/hudi/pull/687" target="_blank" rel="noopener noreferrer">#687</a></li><li>Fix up offsets not available on leader exception. <a href="https://github.com/apache/hudi/pull/650" target="_blank" rel="noopener noreferrer">#650</a></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/cn/releases/release-0.10.1"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Release 0.10.1</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#release-0121-docs" class="table-of-contents__link toc-highlight">Release 0.12.1 (docs)</a></li><li><a href="#long-term-support" class="table-of-contents__link toc-highlight">Long Term Support</a></li><li><a href="#migration-guide" class="table-of-contents__link toc-highlight">Migration Guide</a></li><li><a href="#release-highlights" class="table-of-contents__link toc-highlight">Release Highlights</a><ul><li><a href="#improve-hudi-cli" class="table-of-contents__link toc-highlight">Improve Hudi Cli</a></li><li><a href="#fix-invalid-record-key-stats-in-parquet-metadata" class="table-of-contents__link toc-highlight">Fix invalid record key stats in Parquet metadata</a></li><li><a href="#bug-fixes" class="table-of-contents__link toc-highlight">Bug fixes</a></li></ul></li><li><a href="#known-regressions" class="table-of-contents__link toc-highlight">Known Regressions</a></li><li><a href="#raw-release-notes" class="table-of-contents__link toc-highlight">Raw Release Notes</a></li><li><a href="#release-0120-docs" class="table-of-contents__link toc-highlight">Release 0.12.0 (docs)</a></li><li><a href="#long-term-support-1" class="table-of-contents__link toc-highlight">Long Term Support</a></li><li><a href="#migration-guide-1" class="table-of-contents__link toc-highlight">Migration Guide</a><ul><li><a href="#configuration-updates" class="table-of-contents__link toc-highlight">Configuration Updates</a></li><li><a href="#api-updates" class="table-of-contents__link toc-highlight">API Updates</a></li><li><a href="#fallback-partition" class="table-of-contents__link toc-highlight">Fallback Partition</a></li><li><a href="#bundle-updates" class="table-of-contents__link toc-highlight">Bundle Updates</a></li></ul></li><li><a href="#release-highlights-1" class="table-of-contents__link toc-highlight">Release Highlights</a><ul><li><a href="#presto-hudi-connector" class="table-of-contents__link toc-highlight">Presto-Hudi Connector</a></li><li><a href="#archival-beyond-savepoint" class="table-of-contents__link toc-highlight">Archival Beyond Savepoint</a></li><li><a href="#file-system-based-lock-provider" class="table-of-contents__link toc-highlight">File system based Lock Provider</a></li><li><a href="#deltastreamer-termination-strategy" class="table-of-contents__link toc-highlight">Deltastreamer Termination Strategy</a></li><li><a href="#spark-33-support" class="table-of-contents__link toc-highlight">Spark 3.3 Support</a></li><li><a href="#spark-sql-support-improvements" class="table-of-contents__link toc-highlight">Spark SQL Support Improvements</a></li><li><a href="#flink-115-support" class="table-of-contents__link toc-highlight">Flink 1.15 Support</a></li><li><a href="#flink-integration-improvements" class="table-of-contents__link toc-highlight">Flink Integration Improvements</a></li><li><a href="#performance-improvements" class="table-of-contents__link toc-highlight">Performance Improvements</a></li></ul></li><li><a href="#known-regressions-1" class="table-of-contents__link toc-highlight">Known Regressions:</a></li><li><a href="#raw-release-notes-1" class="table-of-contents__link toc-highlight">Raw Release Notes</a></li><li><a href="#release-0110-docs" class="table-of-contents__link toc-highlight">Release 0.11.0 (docs)</a></li><li><a href="#migration-guide-2" class="table-of-contents__link toc-highlight">Migration Guide</a><ul><li><a href="#bundle-usage-updates" class="table-of-contents__link toc-highlight">Bundle usage updates</a></li><li><a href="#configuration-updates-1" class="table-of-contents__link toc-highlight">Configuration updates</a></li></ul></li><li><a href="#release-highlights-2" class="table-of-contents__link toc-highlight">Release Highlights</a><ul><li><a href="#multi-modal-index" class="table-of-contents__link toc-highlight">Multi-Modal Index</a></li><li><a href="#data-skipping-with-metadata-table" class="table-of-contents__link toc-highlight">Data Skipping with Metadata Table</a></li><li><a href="#async-indexer" class="table-of-contents__link toc-highlight">Async Indexer</a></li><li><a href="#spark-datasource-improvements" class="table-of-contents__link toc-highlight">Spark DataSource Improvements</a></li><li><a href="#schema-on-read-for-spark" class="table-of-contents__link toc-highlight">Schema-on-read for Spark</a></li><li><a href="#spark-sql-improvements" class="table-of-contents__link toc-highlight">Spark SQL Improvements</a></li><li><a href="#spark-versions-and-bundles" class="table-of-contents__link toc-highlight">Spark Versions and Bundles</a></li><li><a href="#slim-utilities-bundle" class="table-of-contents__link toc-highlight">Slim Utilities Bundle</a></li><li><a href="#flink-integration-improvements-1" class="table-of-contents__link toc-highlight">Flink Integration Improvements</a></li><li><a href="#google-bigquery-integration" class="table-of-contents__link toc-highlight">Google BigQuery Integration</a></li><li><a href="#aws-glue-meta-sync" class="table-of-contents__link toc-highlight">AWS Glue Meta Sync</a></li><li><a href="#datahub-meta-sync" class="table-of-contents__link toc-highlight">DataHub Meta Sync</a></li><li><a href="#encryption" class="table-of-contents__link toc-highlight">Encryption</a></li><li><a href="#bucket-index" class="table-of-contents__link toc-highlight">Bucket Index</a></li><li><a href="#savepoint--restore" class="table-of-contents__link toc-highlight">Savepoint &amp; Restore</a></li><li><a href="#pulsar-write-commit-callback" class="table-of-contents__link toc-highlight">Pulsar Write Commit Callback</a></li><li><a href="#hiveschemaprovider" class="table-of-contents__link toc-highlight">HiveSchemaProvider</a></li></ul></li><li><a href="#known-regression" class="table-of-contents__link toc-highlight">Known Regression</a></li><li><a href="#raw-release-notes-2" class="table-of-contents__link toc-highlight">Raw Release Notes</a></li><li><a href="#release-0100-docs" class="table-of-contents__link toc-highlight">Release 0.10.0 (docs)</a></li><li><a href="#migration-guide-3" class="table-of-contents__link toc-highlight">Migration Guide</a><ul><li><a href="#prerequisites-for-enabling-metadata-table" class="table-of-contents__link toc-highlight">Prerequisites for enabling metadata table</a></li><li><a href="#upgrade-steps" class="table-of-contents__link toc-highlight">Upgrade steps</a></li><li><a href="#spark-sql-primary-key-requirements" class="table-of-contents__link toc-highlight">Spark-SQL primary key requirements</a></li></ul></li><li><a href="#release-highlights-3" class="table-of-contents__link toc-highlight">Release Highlights</a><ul><li><a href="#kafka-connect" class="table-of-contents__link toc-highlight">Kafka Connect</a></li><li><a href="#z-ordering-hilbert-curves-and-data-skipping" class="table-of-contents__link toc-highlight">Z-Ordering, Hilbert Curves and Data Skipping</a></li><li><a href="#debezium-deltastreamer-sources" class="table-of-contents__link toc-highlight">Debezium Deltastreamer sources</a></li><li><a href="#external-config-file-support" class="table-of-contents__link toc-highlight">External config file support</a></li><li><a href="#metadata-table" class="table-of-contents__link toc-highlight">Metadata table</a></li><li><a href="#documentation-overhaul" class="table-of-contents__link toc-highlight">Documentation overhaul</a></li></ul></li><li><a href="#writer-side-improvements" class="table-of-contents__link toc-highlight">Writer side improvements</a><ul><li><a href="#dynamodb-based-lock-provider" class="table-of-contents__link toc-highlight">DynamoDB based lock provider</a></li><li><a href="#default-flips" class="table-of-contents__link toc-highlight">Default flips</a></li><li><a href="#spark-sql-improvements-1" class="table-of-contents__link toc-highlight">Spark SQL improvements</a></li></ul></li><li><a href="#query-side-improvements" class="table-of-contents__link toc-highlight">Query side improvements</a></li><li><a href="#flink-integration-improvements-2" class="table-of-contents__link toc-highlight">Flink Integration Improvements</a></li><li><a href="#ecosystem" class="table-of-contents__link toc-highlight">Ecosystem</a><ul><li><a href="#dbt-support" class="table-of-contents__link toc-highlight">DBT support</a></li><li><a href="#monitoring" class="table-of-contents__link toc-highlight">Monitoring</a></li><li><a href="#devex" class="table-of-contents__link toc-highlight">DevEx</a></li><li><a href="#repair-tool-for-dangling-data-files" class="table-of-contents__link toc-highlight">Repair tool for dangling data files</a></li></ul></li><li><a href="#raw-release-notes-3" class="table-of-contents__link toc-highlight">Raw Release Notes</a></li><li><a href="#release-090-docs" class="table-of-contents__link toc-highlight">Release 0.9.0 (docs)</a></li><li><a href="#migration-guide-for-this-release" class="table-of-contents__link toc-highlight">Migration Guide for this release</a></li><li><a href="#release-highlights-4" class="table-of-contents__link toc-highlight">Release Highlights</a><ul><li><a href="#spark-sql-dml-and-ddl-support" class="table-of-contents__link toc-highlight">Spark SQL DML and DDL Support</a></li><li><a href="#query-side-improvements-1" class="table-of-contents__link toc-highlight">Query side improvements</a></li><li><a href="#writer-side-improvements-1" class="table-of-contents__link toc-highlight">Writer side improvements</a></li><li><a href="#flink-integration-improvements-3" class="table-of-contents__link toc-highlight">Flink Integration Improvements</a></li><li><a href="#deltastreamer" class="table-of-contents__link toc-highlight">DeltaStreamer</a></li></ul></li><li><a href="#raw-release-notes-4" class="table-of-contents__link toc-highlight">Raw Release Notes</a></li><li><a href="#release-080-docs" class="table-of-contents__link toc-highlight">Release 0.8.0 (docs)</a></li><li><a href="#migration-guide-for-this-release-1" class="table-of-contents__link toc-highlight">Migration Guide for this release</a></li><li><a href="#release-highlights-5" class="table-of-contents__link toc-highlight">Release Highlights</a><ul><li><a href="#flink-integration" class="table-of-contents__link toc-highlight">Flink Integration</a></li><li><a href="#parallel-writers-support" class="table-of-contents__link toc-highlight">Parallel Writers Support</a></li><li><a href="#writer-side-improvements-2" class="table-of-contents__link toc-highlight">Writer side improvements</a></li><li><a href="#query-side-improvements-2" class="table-of-contents__link toc-highlight">Query side improvements</a></li><li><a href="#raw-release-notes-5" class="table-of-contents__link toc-highlight">Raw Release Notes</a></li></ul></li><li><a href="#release-070-docs" class="table-of-contents__link toc-highlight">Release 0.7.0 (docs)</a></li><li><a href="#migration-guide-for-this-release-2" class="table-of-contents__link toc-highlight">Migration Guide for this release</a></li><li><a href="#release-highlights-6" class="table-of-contents__link toc-highlight">Release Highlights</a><ul><li><a href="#clustering" class="table-of-contents__link toc-highlight">Clustering</a></li><li><a href="#metadata-table-1" class="table-of-contents__link toc-highlight">Metadata Table</a></li><li><a href="#javaflink-writers" class="table-of-contents__link toc-highlight">Java/Flink Writers</a></li><li><a href="#writer-side-improvements-3" class="table-of-contents__link toc-highlight">Writer side improvements</a></li><li><a href="#query-side-improvements-3" class="table-of-contents__link toc-highlight">Query side improvements</a></li><li><a href="#raw-release-notes-6" class="table-of-contents__link toc-highlight">Raw Release Notes</a></li></ul></li><li><a href="#release-060-docs" class="table-of-contents__link toc-highlight">Release 0.6.0 (docs)</a></li><li><a href="#migration-guide-for-this-release-3" class="table-of-contents__link toc-highlight">Migration Guide for this release</a></li><li><a href="#release-highlights-7" class="table-of-contents__link toc-highlight">Release Highlights</a><ul><li><a href="#writer-side-improvements-4" class="table-of-contents__link toc-highlight">Writer side improvements:</a></li><li><a href="#query-side-improvements-4" class="table-of-contents__link toc-highlight">Query side improvements:</a></li><li><a href="#usability" class="table-of-contents__link toc-highlight">Usability:</a></li></ul></li><li><a href="#raw-release-notes-7" class="table-of-contents__link toc-highlight">Raw Release Notes</a></li><li><a href="#release-053-docs" class="table-of-contents__link toc-highlight">Release 0.5.3 (docs)</a></li><li><a href="#migration-guide-for-this-release-4" class="table-of-contents__link toc-highlight">Migration Guide for this release</a></li><li><a href="#release-highlights-8" class="table-of-contents__link toc-highlight">Release Highlights</a></li><li><a href="#raw-release-notes-8" class="table-of-contents__link toc-highlight">Raw Release Notes</a></li><li><a href="#release-052-incubating-docs" class="table-of-contents__link toc-highlight">Release 0.5.2-incubating (docs)</a><ul><li><a href="#migration-guide-for-this-release-5" class="table-of-contents__link toc-highlight">Migration Guide for this release</a></li><li><a href="#release-highlights-9" class="table-of-contents__link toc-highlight">Release Highlights</a></li><li><a href="#raw-release-notes-9" class="table-of-contents__link toc-highlight">Raw Release Notes</a></li></ul></li><li><a href="#release-051-incubating-docs" class="table-of-contents__link toc-highlight">Release 0.5.1-incubating (docs)</a><ul><li><a href="#migration-guide-for-this-release-6" class="table-of-contents__link toc-highlight">Migration Guide for this release</a></li><li><a href="#release-highlights-10" class="table-of-contents__link toc-highlight">Release Highlights</a></li><li><a href="#raw-release-notes-10" class="table-of-contents__link toc-highlight">Raw Release Notes</a></li></ul></li><li><a href="#release-050-incubating-docs" class="table-of-contents__link toc-highlight">Release 0.5.0-incubating (docs)</a><ul><li><a href="#release-highlights-11" class="table-of-contents__link toc-highlight">Release Highlights</a></li><li><a href="#migration-guide-for-this-release-7" class="table-of-contents__link toc-highlight">Migration Guide for this release</a></li><li><a href="#raw-release-notes-11" class="table-of-contents__link toc-highlight">Raw Release Notes</a></li></ul></li><li><a href="#release-047" class="table-of-contents__link toc-highlight">Release 0.4.7</a><ul><li><a href="#release-highlights-12" class="table-of-contents__link toc-highlight">Release Highlights</a></li><li><a href="#pr-list" class="table-of-contents__link toc-highlight">PR LIST</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">About</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/cn/blog/2021/07/21/streaming-data-lake-platform">Our Vision</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/concepts">Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/community/team">Team</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/releases/release-0.13.0">Releases</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/releases/download">Download</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/powered-by">Who&#x27;s Using</a></li></ul></div><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/cn/docs/quick-start-guide">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/docker_demo">Docker Demo</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/talks">Talks</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/videos">Video Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/faq">FAQ</a></li><li class="footer__item"><a href="https://cwiki.apache.org/confluence/display/HUDI" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Technical Wiki<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Hudi On Cloud</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/cn/docs/s3_hoodie">AWS</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/gcs_hoodie">Google Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/oss_hoodie">Alibaba Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/azure_hoodie">Microsoft Azure</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/cos_hoodie">Tencent Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/ibm_cos_hoodie">IBM Cloud</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/cn/community/get-involved">Get Involved</a></li><li class="footer__item"><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-1e94d3xro-JvlNO1kSeIHJBTVfLPlI5w" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="mailto:dev-subscribe@hudi.apache.org?Subject=SubscribeToHudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mailing List</a></li></ul></div><div class="col footer__col"><div class="footer__title">Apache</div><ul class="footer__items"><li class="footer__item"><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks</a></li><li class="footer__item"><a href="https://www.apache.org/licenses" target="_blank" rel="noopener noreferrer" class="footer__link-item">License</a></li><li class="footer__item"><a href="https://www.apache.org/security" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship</a></li><li class="footer__item"><a href="https://www.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foundation</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://hudi.apache.org/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_SRtH"><img src="/cn/assets/images/logo-big.png" alt="Apache Hudi™" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/cn/assets/images/logo-big.png" alt="Apache Hudi™" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></a></div><div class="footer__copyright">Copyright © 2021 <a href="https://apache.org">The Apache Software Foundation</a>, Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0"> Apache License, Version 2.0</a>.
      Hudi, Apache and the Apache feather logo are trademarks of The Apache Software Foundation. <a href="/docs/privacy">Privacy Policy</a></div></div></div></footer></div>
<script src="/cn/assets/js/runtime~main.ff39f15a.js"></script>
<script src="/cn/assets/js/main.ca8796bd.js"></script>
</body>
</html>