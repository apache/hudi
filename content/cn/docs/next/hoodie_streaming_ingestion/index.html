<!doctype html>
<html class="docs-version-current" lang="cn" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/cn/blog/rss.xml" title="Apache Hudi: User-Facing Analytics RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cn/blog/atom.xml" title="Apache Hudi: User-Facing Analytics Atom Feed">
<link rel="alternate" type="application/json" href="/cn/blog/feed.json" title="Apache Hudi: User-Facing Analytics JSON Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Apache Hudi" href="/cn/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/cn/videos/rss.xml" title="Apache Hudi RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cn/videos/atom.xml" title="Apache Hudi Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comfortaa|Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css"><title data-react-helmet="true">Using Spark | Apache Hudi</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://hudi.apache.org/cn/docs/next/hoodie_streaming_ingestion"><meta data-react-helmet="true" name="docsearch:language" content="cn"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Using Spark | Apache Hudi"><meta data-react-helmet="true" name="description" content="Hudi Streamer"><meta data-react-helmet="true" property="og:description" content="Hudi Streamer"><meta data-react-helmet="true" name="keywords" content="hudi,streamer,hoodiestreamer,spark_streaming"><link data-react-helmet="true" rel="icon" href="/cn/assets/images/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://hudi.apache.org/cn/docs/next/hoodie_streaming_ingestion"><link data-react-helmet="true" rel="alternate" href="https://hudi.apache.org/docs/next/hoodie_streaming_ingestion" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://hudi.apache.org/cn/docs/next/hoodie_streaming_ingestion" hreflang="cn"><link data-react-helmet="true" rel="alternate" href="https://hudi.apache.org/docs/next/hoodie_streaming_ingestion" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/cn/assets/css/styles.ea681a30.css">
<link rel="preload" href="/cn/assets/js/runtime~main.105ff6a2.js" as="script">
<link rel="preload" href="/cn/assets/js/main.74c36818.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><div class="announcementBar_axC9" role="banner"><div class="announcementBarPlaceholder_xYHE"></div><div class="announcementBarContent_6uhP">⭐️ If you like Apache Hudi, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/apache/hudi">GitHub</a>! ⭐</div><button type="button" class="clean-btn close announcementBarClose_A3A1" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarWrapper_UIa0"><div class="navbar__inner"><img referrerpolicy="no-referrer-when-downgrade" src="https://static.scarf.sh/a.png?x-pxid=8f594acf-9b77-44fb-9475-3e82ead1910c" width="0" height="0" alt=""><img referrerpolicy="no-referrer-when-downgrade" src="https://analytics.apache.org/matomo.php?idsite=47&amp;rec=1" width="0" height="0" alt=""><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cn/"><div class="navbar__logo navbarLogo_Bz6n"><img src="/cn/assets/images/hudi.png" alt="Apache Hudi" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/cn/assets/images/hudi.png" alt="Apache Hudi" class="themedImage_TMUO themedImage--dark_uzRr"></div></a><a class="navbar__item navbar__link" href="/cn/docs/overview"><div class="labelWrapperDropdown_Mqbj">Docs</div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link downloadLinkDropdownHide_aDP3"><div class="labelWrapperDropdown_Mqbj">Learn<svg width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 1.25 5 4.75l-3.5-3.5" stroke="#1C1E21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cn/talks"><div class="labelWrapperDropdown_Mqbj">Talks</div></a></li><li><a class="dropdown__link" href="/cn/videos"><div class="labelWrapperDropdown_Mqbj">Video Guides</div></a></li><li><a class="dropdown__link" href="/cn/docs/faq"><div class="labelWrapperDropdown_Mqbj">FAQ</div></a></li><li><a class="dropdown__link" href="/cn/tech-specs"><div class="labelWrapperDropdown_Mqbj">Tech Specs</div></a></li><li><a class="dropdown__link" href="/cn/tech-specs-1point0"><div class="labelWrapperDropdown_Mqbj">Tech Specs 1.0</div></a></li><li><a href="https://cwiki.apache.org/confluence/display/HUDI" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span class="externalLink_AE3f">Technical Wiki<svg width="20" height="20" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.965 8.745 9.01 16.7M10.561 8.758l6.403-.013-.013 6.403" stroke="#0DB1F9" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><rect x="4.5" y="4.5" width="17" height="17" rx="2.5" stroke="#0DB1F9"></rect></svg></span></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link downloadLinkDropdownHide_aDP3"><div class="labelWrapperDropdown_Mqbj">Contribute<svg width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 1.25 5 4.75l-3.5-3.5" stroke="#1C1E21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cn/contribute/how-to-contribute"><div class="labelWrapperDropdown_Mqbj">How to Contribute</div></a></li><li><a class="dropdown__link" href="/cn/contribute/developer-setup"><div class="labelWrapperDropdown_Mqbj">Developer Setup</div></a></li><li><a class="dropdown__link" href="/cn/contribute/rfc-process"><div class="labelWrapperDropdown_Mqbj">RFC Process</div></a></li><li><a class="dropdown__link" href="/cn/contribute/report-security-issues"><div class="labelWrapperDropdown_Mqbj">Report Security Issues</div></a></li><li><a href="https://issues.apache.org/jira/projects/HUDI/summary" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span class="externalLink_AE3f">Report Issues<svg width="20" height="20" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.965 8.745 9.01 16.7M10.561 8.758l6.403-.013-.013 6.403" stroke="#0DB1F9" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><rect x="4.5" y="4.5" width="17" height="17" rx="2.5" stroke="#0DB1F9"></rect></svg></span></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link downloadLinkDropdownHide_aDP3"><div class="labelWrapperDropdown_Mqbj">Community<svg width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 1.25 5 4.75l-3.5-3.5" stroke="#1C1E21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cn/community/get-involved"><div class="labelWrapperDropdown_Mqbj">Get Involved</div></a></li><li><a class="dropdown__link" href="/cn/community/syncs"><div class="labelWrapperDropdown_Mqbj">Community Syncs</div></a></li><li><a class="dropdown__link" href="/cn/community/office_hours"><div class="labelWrapperDropdown_Mqbj">Office Hours</div></a></li><li><a class="dropdown__link" href="/cn/community/team"><div class="labelWrapperDropdown_Mqbj">Team</div></a></li></ul></div><a class="navbar__item navbar__link" href="/cn/blog"><div class="labelWrapperDropdown_Mqbj">Blog</div></a><a class="navbar__item navbar__link" href="/cn/powered-by"><div class="labelWrapperDropdown_Mqbj">Who&#x27;s Using</div></a><a class="navbar__item navbar__link" href="/cn/roadmap"><div class="labelWrapperDropdown_Mqbj">Roadmap</div></a><a class="navbar__item navbar__link" href="/cn/releases/download"><div class="labelWrapperDropdown_Mqbj">Download</div></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link downloadLinkDropdownHide_aDP3" href="/cn/docs/next/overview"><div class="labelWrapperDropdown_Mqbj">Next<svg width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 1.25 5 4.75l-3.5-3.5" stroke="#1C1E21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/cn/docs/next/hoodie_streaming_ingestion"><div class="labelWrapperDropdown_Mqbj">Next</div></a></li><li><a class="dropdown__link" href="/cn/docs/hoodie_streaming_ingestion"><div class="labelWrapperDropdown_Mqbj">0.14.1</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.14.0/hoodie_streaming_ingestion"><div class="labelWrapperDropdown_Mqbj">0.14.0</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.13.1/overview"><div class="labelWrapperDropdown_Mqbj">0.13.1</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.13.0/overview"><div class="labelWrapperDropdown_Mqbj">0.13.0</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.12.3/overview"><div class="labelWrapperDropdown_Mqbj">0.12.3</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.12.2/overview"><div class="labelWrapperDropdown_Mqbj">0.12.2</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.12.1/overview"><div class="labelWrapperDropdown_Mqbj">0.12.1</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.12.0/overview"><div class="labelWrapperDropdown_Mqbj">0.12.0</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.11.1/overview"><div class="labelWrapperDropdown_Mqbj">0.11.1</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.11.0/overview"><div class="labelWrapperDropdown_Mqbj">0.11.0</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.10.1/overview"><div class="labelWrapperDropdown_Mqbj">0.10.1</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.10.0/overview"><div class="labelWrapperDropdown_Mqbj">0.10.0</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.9.0/overview"><div class="labelWrapperDropdown_Mqbj">0.9.0</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.8.0/overview"><div class="labelWrapperDropdown_Mqbj">0.8.0</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.7.0/overview"><div class="labelWrapperDropdown_Mqbj">0.7.0</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.6.0/quick-start-guide"><div class="labelWrapperDropdown_Mqbj">0.6.0</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.5.3/quick-start-guide"><div class="labelWrapperDropdown_Mqbj">0.5.3</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.5.2/quick-start-guide"><div class="labelWrapperDropdown_Mqbj">0.5.2</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.5.1/quick-start-guide"><div class="labelWrapperDropdown_Mqbj">0.5.1</div></a></li><li><a class="dropdown__link" href="/cn/docs/0.5.0/quick-start-guide"><div class="labelWrapperDropdown_Mqbj">0.5.0</div></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link downloadLinkDropdownHide_aDP3"><div class="labelWrapperDropdown_Mqbj"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_zID8"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Chinese</span></span><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M14 6.457a6.842 6.842 0 0 0-7-6.02 6.843 6.843 0 0 0-7 6.02v1.085a6.843 6.843 0 0 0 7 6.02 6.843 6.843 0 0 0 7-6.02V6.457Zm-1.094 0h-2.625a9.92 9.92 0 0 0-.376-2.222 6.65 6.65 0 0 0 1.531-.875 5.25 5.25 0 0 1 1.444 3.097h.026Zm-8.032 0a8.479 8.479 0 0 1 .324-1.872 7.376 7.376 0 0 0 3.63 0c.175.61.284 1.239.325 1.872h-4.28Zm4.305 1.085a8.391 8.391 0 0 1-.324 1.873 7.464 7.464 0 0 0-3.658 0 8.479 8.479 0 0 1-.323-1.873h4.305Zm.35-4.375A10.342 10.342 0 0 0 8.75 1.75c.627.194 1.218.49 1.75.875a5.748 5.748 0 0 1-.998.577l.027-.035ZM7.254 1.54A8.75 8.75 0 0 1 8.46 3.552c-.48.11-.97.165-1.461.167-.492-.001-.982-.057-1.461-.167.308-.722.715-1.4 1.207-2.012h.508ZM4.498 3.202a5.748 5.748 0 0 1-.998-.577 6.029 6.029 0 0 1 1.75-.875c-.294.46-.546.947-.753 1.452Zm-1.873.15c.47.358.984.652 1.531.874A9.625 9.625 0 0 0 3.78 6.45H1.155a5.25 5.25 0 0 1 1.47-3.098ZM1.12 7.541h2.625c.038.753.164 1.5.376 2.223a6.649 6.649 0 0 0-1.531.875 5.25 5.25 0 0 1-1.47-3.098Zm3.377 3.255c.207.506.459.992.753 1.453a6.03 6.03 0 0 1-1.75-.875c.312-.226.646-.419.997-.578Zm2.25 1.663a8.594 8.594 0 0 1-1.208-2.013 6.501 6.501 0 0 1 2.922 0 8.54 8.54 0 0 1-1.207 2.013h-.508Zm2.755-1.663c.367.156.716.35 1.042.578a6.338 6.338 0 0 1-1.75.875c.275-.464.512-.95.708-1.453Zm1.873-.148a6.647 6.647 0 0 0-1.531-.875 9.45 9.45 0 0 0 .376-2.223h2.625a5.25 5.25 0 0 1-1.47 3.098Z" fill="#1C1E21"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h14v14H0z"></path></clipPath></defs></svg></div></a><ul class="dropdown__menu"><li><a href="/docs/next/hoodie_streaming_ingestion" target="_self" rel="noopener noreferrer" class="dropdown__link"><div class="labelWrapperDropdown_Mqbj">English</div></a></li><li><a href="/cn/docs/next/hoodie_streaming_ingestion" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active"><div class="labelWrapperDropdown_Mqbj">Chinese</div></a></li></ul></div><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"><div class="labelWrapperDropdown_Mqbj"></div></a><a href="https://twitter.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-twitter-link" aria-label="Hudi Twitter Handle"><div class="labelWrapperDropdown_Mqbj"></div></a><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-2ggm1fub8-_yt4Reu9djwqqVRFC7X49g" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-slack-link" aria-label="Hudi Slack Channel"><div class="labelWrapperDropdown_Mqbj"></div></a><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-youtube-link" aria-label="Hudi YouTube Channel"><div class="labelWrapperDropdown_Mqbj"></div></a><a href="https://www.linkedin.com/company/apache-hudi/?viewAsMember=true" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-linkedin-link" aria-label="Hudi Linkedin Page"><div class="labelWrapperDropdown_Mqbj"></div></a><div class="searchBox_fBfG"><div role="button" class="searchButton_g9-U" aria-label="Search"><span class="searchText_RI6l">Search</span><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="6.864" cy="6.864" r="5.243" stroke="#1C1E21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></circle><path d="m10.51 10.783 2.056 2.05" stroke="#1C1E21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/cn/"><div class="navbar__logo"><img src="/cn/assets/images/hudi.png" alt="Apache Hudi" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/cn/assets/images/hudi.png" alt="Apache Hudi" class="themedImage_TMUO themedImage--dark_uzRr"></div></a><button type="button" class="clean-btn navbar-sidebar__close"><svg viewBox="0 0 15 15" width="21" height="21"><g stroke="var(--ifm-color-emphasis-600)" stroke-width="1.2"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><div class="navbar-sidebar__items"><div class="navbar-sidebar__item menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/cn/docs/overview"><div class="labelWrapperDropdown_Mqbj">Docs</div></a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist"><div class="labelWrapperDropdown_Mqbj">Learn</div></a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist"><div class="labelWrapperDropdown_Mqbj">Contribute</div></a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist"><div class="labelWrapperDropdown_Mqbj">Community</div></a></li><li class="menu__list-item"><a class="menu__link" href="/cn/blog"><div class="labelWrapperDropdown_Mqbj">Blog</div></a></li><li class="menu__list-item"><a class="menu__link" href="/cn/powered-by"><div class="labelWrapperDropdown_Mqbj">Who&#x27;s Using</div></a></li><li class="menu__list-item"><a class="menu__link" href="/cn/roadmap"><div class="labelWrapperDropdown_Mqbj">Roadmap</div></a></li><li class="menu__list-item"><a class="menu__link" href="/cn/releases/download"><div class="labelWrapperDropdown_Mqbj">Download</div></a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist"><div class="labelWrapperDropdown_Mqbj">Versions</div></a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist"><div class="labelWrapperDropdown_Mqbj"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_zID8"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Languages</span></span></div></a></li><li class="menu__list-item"><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"><div class="labelWrapperDropdown_Mqbj"></div></a></li><li class="menu__list-item"><a href="https://twitter.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="menu__link header-twitter-link" aria-label="Hudi Twitter Handle"><div class="labelWrapperDropdown_Mqbj"></div></a></li><li class="menu__list-item"><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-2ggm1fub8-_yt4Reu9djwqqVRFC7X49g" target="_blank" rel="noopener noreferrer" class="menu__link header-slack-link" aria-label="Hudi Slack Channel"><div class="labelWrapperDropdown_Mqbj"></div></a></li><li class="menu__list-item"><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="menu__link header-youtube-link" aria-label="Hudi YouTube Channel"><div class="labelWrapperDropdown_Mqbj"></div></a></li><li class="menu__list-item"><a href="https://www.linkedin.com/company/apache-hudi/?viewAsMember=true" target="_blank" rel="noopener noreferrer" class="menu__link header-linkedin-link" aria-label="Hudi Linkedin Page"><div class="labelWrapperDropdown_Mqbj"></div></a></li></ul></div><div class="navbar-sidebar__item menu"><button type="button" class="clean-btn navbar-sidebar__back">← Back to main menu</button></div></div></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_GMj9"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_k0Pq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/cn/docs/next/overview">Getting Started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/next/overview">概念</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/next/quick-start-guide">Spark Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/next/flink-quick-start-guide">Flink 指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/next/docker_demo">Docker Demo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/next/use_cases">使用案例</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/cn/docs/next/hudi_stack">Design &amp; Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/cn/docs/next/hoodie_streaming_ingestion">Ingestion</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cn/docs/next/hoodie_streaming_ingestion">Using Spark</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/next/ingestion_flink">Using Flink</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/next/ingestion_kafka_connect">Using Kafka Connect</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/cn/docs/next/sql_ddl">Writing Tables</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/cn/docs/next/sql_queries">Reading Tables</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/cn/docs/next/migration_guide">Table Services</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/cn/docs/next/snapshot_exporter">Platform Services</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/cn/docs/next/performance">Operations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/cn/docs/next/basic_configurations">Configurations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/cn/docs/next/faq">Frequently Asked Questions(FAQs)</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/docs/next/privacy">隐私协议</a></li></ul></nav></div></aside><main class="docMainContainer_Q970"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Apache Hudi<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/cn/docs/hoodie_streaming_ingestion">latest version</a></b> (<!-- -->0.14.1<!-- -->).</div></div><div class="docItemContainer_oiyr"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->Next</span><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Using Spark</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="hudi-streamer">Hudi Streamer<a class="hash-link" href="#hudi-streamer" title="Direct link to heading">​</a></h2><p>The <code>HoodieStreamer</code> utility (part of <code>hudi-utilities-slim-bundle</code> and <code>hudi-utilities-bundle</code>) provides ways to ingest
from different sources such as DFS or Kafka, with the following capabilities.</p><ul><li>Exactly once ingestion of new events from
Kafka, <a href="https://sqoop.apache.org/docs/1.4.2/SqoopUserGuide#_incremental_imports" target="_blank" rel="noopener noreferrer">incremental imports</a> from Sqoop or
output of <code>HiveIncrementalPuller</code> or files under a DFS folder</li><li>Support json, avro or a custom record types for the incoming data</li><li>Manage checkpoints, rollback &amp; recovery</li><li>Leverage Avro schemas from DFS or Confluent <a href="https://github.com/confluentinc/schema-registry" target="_blank" rel="noopener noreferrer">schema registry</a>.</li><li>Support for plugging in transformations</li></ul><div class="admonition admonition-danger alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Important</h5></div><div class="admonition-content"><p>The following classes were renamed and relocated to <code>org.apache.hudi.utilities.streamer</code> package.</p><ul><li><code>DeltastreamerMultiWriterCkptUpdateFunc</code> is renamed to <code>StreamerMultiWriterCkptUpdateFunc</code></li><li><code>DeltaSync</code> is renamed to <code>StreamSync</code></li><li><code>HoodieDeltaStreamer</code> is renamed to <code>HoodieStreamer</code></li><li><code>HoodieDeltaStreamerMetrics</code> is renamed to <code>HoodieStreamerMetrics</code></li><li><code>HoodieMultiTableDeltaStreamer</code> is renamed to <code>HoodieMultiTableStreamer</code></li></ul><p>To maintain backward compatibility, the original classes are still present in the <code>org.apache.hudi.utilities.deltastreamer</code>
package, but have been deprecated.</p></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="options">Options<a class="hash-link" href="#options" title="Direct link to heading">​</a></h3><details class="details_Q743 alert alert--info details_h+cY" data-collapsed="true"><summary>Expand this to see HoodieStreamer&#x27;s &quot;--help&quot; output describing its capabilities in more details.</summary><div><div class="collapsibleContent_K5uX"><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">hoodie</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain">$ spark-submit --class org.apache.hudi.utilities.streamer.HoodieStreamer </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">`</span><span class="token variable function" style="color:rgb(80, 250, 123);font-style:italic">ls</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> packaging/hudi-utilities-bundle/target/hudi-utilities-bundle-*.jar</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">`</span><span class="token plain"> --help</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Usage: </span><span class="token operator">&lt;</span><span class="token plain">main class</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Options:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --allow-commit-on-no-checkpoint-change</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      allow commits even </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> checkpoint has not changed before and after fetch</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      datafrom source. This might be useful </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> sources like SqlSource where</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      there is not checkpoint. And is not recommended to </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">enable</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> continuous</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      mode.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --base-file-format</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      File </span><span class="token function" style="color:rgb(80, 250, 123)">format</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> the base files. PARQUET </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">or</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> HFILE</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: PARQUET</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --bootstrap-index-class</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      subclass of BootstrapIndex</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: org.apache.hudi.common.bootstrap.index.HFileBootstrapIndex</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --bootstrap-overwrite</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Overwrite existing target table, default </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --checkpoint</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Resume Hudi Streamer from this checkpoint.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --cluster-scheduling-minshare</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Minshare </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> clustering as defined </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      https://spark.apache.org/docs/latest/job-scheduling.html</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --cluster-scheduling-weight</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Scheduling weight </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> clustering as defined </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      https://spark.apache.org/docs/latest/job-scheduling.html</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --commit-on-errors</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Commit even when some records failed to be written</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --compact-scheduling-minshare</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Minshare </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> compaction as defined </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      https://spark.apache.org/docs/latest/job-scheduling.html</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --compact-scheduling-weight</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Scheduling weight </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> compaction as defined </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      https://spark.apache.org/docs/latest/job-scheduling.html</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --config-hot-update-strategy-class</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Configuration hot update </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> continuous mode</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token operator">&lt;</span><span class="token plain">empty string</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --continuous</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Hudi Streamer runs </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> continuous mode running source-fetch -</span><span class="token operator">&gt;</span><span class="token plain"> Transform</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      -</span><span class="token operator">&gt;</span><span class="token plain"> Hudi Write </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> loop</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --delta-sync-scheduling-minshare</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Minshare </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> delta </span><span class="token function" style="color:rgb(80, 250, 123)">sync</span><span class="token plain"> as defined </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      https://spark.apache.org/docs/latest/job-scheduling.html</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --delta-sync-scheduling-weight</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Scheduling weight </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> delta </span><span class="token function" style="color:rgb(80, 250, 123)">sync</span><span class="token plain"> as defined </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      https://spark.apache.org/docs/latest/job-scheduling.html</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --disable-compaction</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Compaction is enabled </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> MoR table by default. This flag disables it</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --enable-hive-sync</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Enable syncing to hive</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --enable-sync</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Enable syncing meta</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --filter-dupes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Should duplicate records from </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">source</span><span class="token plain"> be dropped/filtered out before</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      insert/bulk-insert</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --force-empty-sync</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Force syncing meta even on empty commit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --help, -h</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --hoodie-conf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Any configuration that can be </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">set</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> the properties </span><span class="token function" style="color:rgb(80, 250, 123)">file</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">using the CLI</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      parameter </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;--props&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> can also be passed </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">command</span><span class="token plain"> line using this</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      parameter. This can be repeated</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --ingestion-metrics-class</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Ingestion metrics class </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> reporting metrics during ingestion</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      lifecycles.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: org.apache.hudi.utilities.streamer.HoodieStreamerMetrics</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --initial-checkpoint-provider</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      subclass of</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      org.apache.hudi.utilities.checkpointing.InitialCheckpointProvider.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Generate check point </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> Hudi Streamer </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> the first run. This field</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      will override the checkpoint of last commit using the checkpoint field.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Use this field only when switching source, </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> example, from DFS </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">source</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      to Kafka Source.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --max-pending-clustering</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Maximum number of outstanding inflight/requested clustering. Delta Sync</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      will not happen unlessoutstanding clustering is </span><span class="token function" style="color:rgb(80, 250, 123)">less</span><span class="token plain"> than this number</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token number">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --max-pending-compactions</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Maximum number of outstanding inflight/requested compactions. Delta Sync</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      will not happen unlessoutstanding compactions is </span><span class="token function" style="color:rgb(80, 250, 123)">less</span><span class="token plain"> than this number</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token number">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --max-retry-count</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      the max retry count </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> --retry-on-source-failures is enabled</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token number">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --min-sync-interval-seconds</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      the min </span><span class="token function" style="color:rgb(80, 250, 123)">sync</span><span class="token plain"> interval of each </span><span class="token function" style="color:rgb(80, 250, 123)">sync</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> continuous mode</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --op</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Takes one of these values </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token plain"> UPSERT </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">default</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">, INSERT, BULK_INSERT,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      INSERT_OVERWRITE, INSERT_OVERWRITE_TABLE, DELETE_PARTITION</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: UPSERT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Possible Values: </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">INSERT, INSERT_PREPPED, UPSERT, UPSERT_PREPPED, BULK_INSERT, BULK_INSERT_PREPPED, DELETE, DELETE_PREPPED, BOOTSTRAP, INSERT_OVERWRITE, CLUSTER, DELETE_PARTITION, INSERT_OVERWRITE_TABLE, COMPACT, INDEX, ALTER_SCHEMA, LOG_COMPACT, UNKNOWN</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --payload-class</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      subclass of HoodieRecordPayload, that works off a GenericRecord.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Implement your own, </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> you want to </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">do</span><span class="token plain"> something other than overwriting</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      existing value</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: org.apache.hudi.common.model.OverwriteWithLatestAvroPayload</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --post-write-termination-strategy-class</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Post writer termination strategy class to gracefully </span><span class="token function" style="color:rgb(80, 250, 123)">shutdown</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      deltastreamer </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> continuous mode</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token operator">&lt;</span><span class="token plain">empty string</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --props</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      path to properties </span><span class="token function" style="color:rgb(80, 250, 123)">file</span><span class="token plain"> on localfs or dfs, with configurations </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      hoodie client, schema provider, key generator and data source. For</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      hoodie client props, sane defaults are used, but recommend use to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      provide basic things like metrics endpoints, hive configs etc. For</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      sources, referto individual classes, </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> supported properties.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Properties </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> this </span><span class="token function" style="color:rgb(80, 250, 123)">file</span><span class="token plain"> can be overridden by </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;--hoodie-conf&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: file:///Users/shiyanxu/src/test/resources/streamer-config/dfs-source.properties</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --retry-interval-seconds</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      the retry interval </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">source</span><span class="token plain"> failures </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> --retry-on-source-failures is</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      enabled</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token number">30</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --retry-last-pending-inline-clustering, -rc</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Retry last pending inline clustering plan before writing to sink.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --retry-last-pending-inline-compaction</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Retry last pending inline compaction plan before writing to sink.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --retry-on-source-failures</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Retry on any </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">source</span><span class="token plain"> failures</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --run-bootstrap</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Run bootstrap </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> bootstrap index is not found</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --schemaprovider-class</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      subclass of org.apache.hudi.utilities.schema.SchemaProvider to attach</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      schemas to input </span><span class="token operator">&amp;</span><span class="token plain"> target table data, built </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> options:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      org.apache.hudi.utilities.schema.FilebasedSchemaProvider.Source </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">See</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      org.apache.hudi.utilities.sources.Source</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> implementation can implement</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      their own SchemaProvider. For Sources that </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">return</span><span class="token plain"> Dataset</span><span class="token operator">&lt;</span><span class="token plain">Row</span><span class="token operator">&gt;</span><span class="token plain">, the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      schema is obtained implicitly. However, this CLI option allows</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      overriding the schemaprovider returned by Source.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --source-class</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Subclass of org.apache.hudi.utilities.sources to </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">read</span><span class="token plain"> data. Built-in</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      options: org.apache.hudi.utilities.sources.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">JsonDFSSource </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">default</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      AvroDFSSource, JsonKafkaSource, AvroKafkaSource, HiveIncrPullSource</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: org.apache.hudi.utilities.sources.JsonDFSSource</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --source-limit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Maximum amount of data to </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">read</span><span class="token plain"> from source. Default: No limit, e.g:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      DFS-Source </span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token plain"> max bytes to read, Kafka-Source </span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token plain"> max events to </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token number">9223372036854775807</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --source-ordering-field</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Field within </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">source</span><span class="token plain"> record to decide how to </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">break</span><span class="token plain"> ties between records</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      with same key </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> input data. Default: </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;ts&#x27;</span><span class="token plain"> holding unix timestamp of</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      record</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: ts</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --spark-master</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      spark master to use, </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> not defined inherits from your environment</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      taking into account Spark Configuration priority rules </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">e.g. not using</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      spark-submit </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">command</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: </span><span class="token operator">&lt;</span><span class="token plain">empty string</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --sync-tool-classes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Meta </span><span class="token function" style="color:rgb(80, 250, 123)">sync</span><span class="token plain"> client tool, using comma to separate multi tools</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Default: org.apache.hudi.hive.HiveSyncTool</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  * --table-type</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Type of table. COPY_ON_WRITE </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">or</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> MERGE_ON_READ</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  * --target-base-path</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      base path </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> the target hoodie table. </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Will be created </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> did not exist</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      first </span><span class="token function" style="color:rgb(80, 250, 123)">time</span><span class="token plain"> around. If exists, expected to be a hoodie table</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  * --target-table</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      name of the target table</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --transformer-class</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      A subclass or a list of subclasses of</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      org.apache.hudi.utilities.transform.Transformer. Allows transforming raw</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">source</span><span class="token plain"> Dataset to a target Dataset </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">conforming to target schema</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> before</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      writing. Default </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token plain"> Not set. E.g. -</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      org.apache.hudi.utilities.transform.SqlQueryBasedTransformer </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">which</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      allows a SQL query templated to be passed as a transformation </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Pass a comma-separated list of subclass names to chain the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      transformations. If there are two or </span><span class="token function" style="color:rgb(80, 250, 123)">more</span><span class="token plain"> transformers using the same</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      config keys and </span><span class="token function" style="color:rgb(80, 250, 123)">expect</span><span class="token plain"> different values </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> those keys, </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">then</span><span class="token plain"> transformer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      can include an identifier. E.g. -</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      tr1:org.apache.hudi.utilities.transform.SqlQueryBasedTransformer. Here</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      the identifier tr1 can be used along with property key like</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">`</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">hoodie.streamer.transformer.sql.tr1</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">`</span><span class="token plain"> to identify properties related to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      the transformer. So effective value </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">`</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">hoodie.streamer.transformer.sql</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">`</span><span class="token plain"> is determined by key</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">`</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">hoodie.streamer.transformer.sql.tr1</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">`</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> this transformer. If</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      identifier is used, it should be specified </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> all the transformers.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Further the order </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">which</span><span class="token plain"> transformer is applied is determined by the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      occurrence of transformer irrespective of the identifier used </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      transformer. For example: In the configured value below tr2:org.apache.hudi.utilities.transform.SqlQueryBasedTransformer,tr1:org.apache.hudi.utilities.transform.SqlQueryBasedTransformer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      , tr2 is applied before tr1 based on order of occurrence.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></details><p>The tool takes a hierarchically composed property file and has pluggable interfaces for extracting data, key generation and providing schema. Sample configs for ingesting from kafka and dfs are
provided under <code>hudi-utilities/src/test/resources/streamer-config</code>.</p><p>For e.g: once you have Confluent Kafka, Schema registry up &amp; running, produce some test data using (<a href="https://docs.confluent.io/current/ksql/docs/tutorials/generate-custom-test-data" target="_blank" rel="noopener noreferrer">impressions.avro</a> provided by schema-registry repo)</p><div class="codeBlockContainer_J+bg language-java theme-code-block"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[confluent-5.0.0]$ bin/ksql-datagen schema=../impressions.avro format=avro topic=impressions key=impressionid</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>and then ingest it as follows.</p><div class="codeBlockContainer_J+bg language-java theme-code-block"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[hoodie]$ spark-submit --class org.apache.hudi.utilities.streamer.HoodieStreamer `ls packaging/hudi-utilities-bundle/target/hudi-utilities-bundle-*.jar` \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --props file://${PWD}/hudi-utilities/src/test/resources/streamer-config/kafka-source.properties \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --schemaprovider-class org.apache.hudi.utilities.schema.SchemaRegistryProvider \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --source-class org.apache.hudi.utilities.sources.AvroKafkaSource \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --source-ordering-field impresssiontime \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --target-base-path file:\/\/\/tmp/hudi-streamer-op \ </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --target-table uber.impressions \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --op BULK_INSERT</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>In some cases, you may want to migrate your existing table into Hudi beforehand. Please refer to <a href="/cn/docs/migration_guide">migration guide</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="using-hudi-utilities-bundle-jars">Using <code>hudi-utilities</code> bundle jars<a class="hash-link" href="#using-hudi-utilities-bundle-jars" title="Direct link to heading">​</a></h3><p>From 0.11.0 release, we start to provide a new <code>hudi-utilities-slim-bundle</code> which aims to exclude dependencies that can
cause conflicts and compatibility issues with different versions of Spark.</p><p>It is recommended to switch to <code>hudi-utilities-slim-bundle</code>, which should be used along with a Hudi Spark bundle
corresponding the Spark version used to make utilities work with Spark, e.g.,
<code>--packages org.apache.hudi:hudi-utilities-slim-bundle_2.12:0.13.0,org.apache.hudi:hudi-spark3.2-bundle_2.12:0.13.0</code>.</p><p><code>hudi-utilities-bundle</code> remains as a legacy bundle jar to work with Spark 2.4 and 3.1.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="concurrency-control">Concurrency Control<a class="hash-link" href="#concurrency-control" title="Direct link to heading">​</a></h3><p>Using optimistic concurrency control (OCC) via Hudi Streamer requires the configs below to the properties file that can be passed to the
job. </p><div class="codeBlockContainer_J+bg language-properties theme-code-block"><div class="codeBlockContent_csEI properties"><pre tabindex="0" class="prism-code language-properties codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.write.concurrency.mode=optimistic_concurrency_control</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.write.lock.provider=&lt;lock-provider-classname&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.cleaner.policy.failed.writes=LAZY</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>As an example, adding the configs to <code>kafka-source.properties</code> file and passing them to Hudi Streamer will enable OCC.
A Hudi Streamer job can then be triggered as follows:</p><div class="codeBlockContainer_J+bg language-java theme-code-block"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[hoodie]$ spark-submit --class org.apache.hudi.utilities.streamer.HoodieStreamer `ls packaging/hudi-utilities-bundle/target/hudi-utilities-bundle-*.jar` \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --props file://${PWD}/hudi-utilities/src/test/resources/streamer-config/kafka-source.properties \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --schemaprovider-class org.apache.hudi.utilities.schema.SchemaRegistryProvider \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --source-class org.apache.hudi.utilities.sources.AvroKafkaSource \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --source-ordering-field impresssiontime \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --target-base-path file:///tmp/hudi-streamer-op \ </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --target-table uber.impressions \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --op BULK_INSERT</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Read more in depth about concurrency control in the <a href="/cn/docs/concurrency_control">concurrency control concepts</a> section</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="checkpointing">Checkpointing<a class="hash-link" href="#checkpointing" title="Direct link to heading">​</a></h3><p><code>HoodieStreamer</code> uses checkpoints to keep track of what data has been read already so it can resume without needing to reprocess all data.
When using a Kafka source, the checkpoint is the <a href="https://cwiki.apache.org/confluence/display/KAFKA/Offset+Management" target="_blank" rel="noopener noreferrer">Kafka Offset</a>
When using a DFS source, the checkpoint is the &#x27;last modified&#x27; timestamp of the latest file read.
Checkpoints are saved in the .hoodie commit file as <code>streamer.checkpoint.key</code>.</p><p>If you need to change the checkpoints for reprocessing or replaying data you can use the following options:</p><ul><li><code>--checkpoint</code> will set <code>streamer.checkpoint.reset_key</code> in the commit file to overwrite the current checkpoint.</li><li><code>--source-limit</code> will set a maximum amount of data to read from the source. For DFS sources, this is max # of bytes read.
For Kafka, this is the max # of events to read.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="transformers">Transformers<a class="hash-link" href="#transformers" title="Direct link to heading">​</a></h3><p><code>HoodieStreamer</code> supports custom transformation on records before writing to storage. This is done by supplying
implementation of <code>org.apache.hudi.utilities.transform.Transformer</code> via <code>--transformer-class</code> option.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="sql-query-transformer">SQL Query Transformer<a class="hash-link" href="#sql-query-transformer" title="Direct link to heading">​</a></h4><p>You can pass a SQL Query to be executed during write.</p><div class="codeBlockContainer_J+bg language-scala theme-code-block"><div class="codeBlockContent_csEI scala"><pre tabindex="0" class="prism-code language-scala codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">--transformer-class org.apache.hudi.utilities.transform.SqlQueryBasedTransformer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--hoodie-conf hoodie.streamer.transformer.sql=SELECT a.col1, a.col3, a.col4 FROM &lt;SRC&gt; a</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="sql-file-transformer">SQL File Transformer<a class="hash-link" href="#sql-file-transformer" title="Direct link to heading">​</a></h4><p>You can specify a File with a SQL script to be executed during write. The SQL file is configured with this hoodie property:
hoodie.streamer.transformer.sql.file</p><p>The query should reference the source as a table named &quot;\&lt;SRC<!-- -->&gt;<!-- -->&quot;</p><p>The final sql statement result is used as the write payload.</p><p>Example Spark SQL Query:</p><div class="codeBlockContainer_J+bg language-sql theme-code-block"><div class="codeBlockContent_csEI sql"><pre tabindex="0" class="prism-code language-sql codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">CACHE </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">TABLE</span><span class="token plain"> tmp_personal_trips </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">SRC</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"> trip_type</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;personal_trips&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> tmp_personal_trips</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="flattening-transformer">Flattening Transformer<a class="hash-link" href="#flattening-transformer" title="Direct link to heading">​</a></h4><p>This transformer can flatten nested objects. It flattens the nested fields in the incoming records by prefixing
inner-fields with outer-field and _ in a nested fashion. Currently flattening of arrays is not supported.</p><p>An example schema may look something like the below where name is a nested field of StructType in the original source</p><div class="codeBlockContainer_J+bg language-scala theme-code-block"><div class="codeBlockContent_csEI scala"><pre tabindex="0" class="prism-code language-scala codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">age as intColumn,address as stringColumn,name.first as name_first,name.last as name_last, name.middle as name_middle</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Set the config as:</p><div class="codeBlockContainer_J+bg language-scala theme-code-block"><div class="codeBlockContent_csEI scala"><pre tabindex="0" class="prism-code language-scala codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">--transformer-class org.apache.hudi.utilities.transform.FlatteningTransformer</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="chained-transformer">Chained Transformer<a class="hash-link" href="#chained-transformer" title="Direct link to heading">​</a></h4><p>If you wish to use multiple transformers together, you can use the Chained transformers to pass multiple to be executed sequentially.</p><p>Example below first flattens the incoming records and then does sql projection based on the query specified:</p><div class="codeBlockContainer_J+bg language-scala theme-code-block"><div class="codeBlockContent_csEI scala"><pre tabindex="0" class="prism-code language-scala codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">--transformer-class org.apache.hudi.utilities.transform.FlatteningTransformer,org.apache.hudi.utilities.transform.SqlQueryBasedTransformer   </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--hoodie-conf hoodie.streamer.transformer.sql=SELECT a.col1, a.col3, a.col4 FROM &lt;SRC&gt; a</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="aws-dms-transformer">AWS DMS Transformer<a class="hash-link" href="#aws-dms-transformer" title="Direct link to heading">​</a></h4><p>This transformer is specific for AWS DMS data. It adds <code>Op</code> field with value <code>I</code> if the field is not present.</p><p>Set the config as:</p><div class="codeBlockContainer_J+bg language-scala theme-code-block"><div class="codeBlockContent_csEI scala"><pre tabindex="0" class="prism-code language-scala codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">--transformer-class org.apache.hudi.utilities.transform.AWSDmsTransformer</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="custom-transformer-implementation">Custom Transformer Implementation<a class="hash-link" href="#custom-transformer-implementation" title="Direct link to heading">​</a></h4><p>You can write your own custom transformer by extending <a href="https://github.com/apache/hudi/tree/master/hudi-utilities/src/main/java/org/apache/hudi/utilities/transform" target="_blank" rel="noopener noreferrer">this class</a></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="related-resources">Related Resources<a class="hash-link" href="#related-resources" title="Direct link to heading">​</a></h4><ul><li><a href="https://www.youtube.com/watch?v=AprlZ8hGdJo" target="_blank" rel="noopener noreferrer">Learn about Apache Hudi Transformers with Hands on Lab</a></li><li><a href="https://youtu.be/DH3LEaPG6ss" target="_blank" rel="noopener noreferrer">Apache Hudi with DBT Hands on Lab.Transform Raw Hudi tables with DBT and Glue Interactive Session</a></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="schema-providers">Schema Providers<a class="hash-link" href="#schema-providers" title="Direct link to heading">​</a></h3><p>By default, Spark will infer the schema of the source and use that inferred schema when writing to a table. If you need
to explicitly define the schema you can use one of the following Schema Providers below.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="schema-registry-provider">Schema Registry Provider<a class="hash-link" href="#schema-registry-provider" title="Direct link to heading">​</a></h4><p>You can obtain the latest schema from an online registry. You pass a URL to the registry and if needed, you can also
pass userinfo and credentials in the url like: <code>https://foo:bar@schemaregistry.org</code> The credentials are then extracted
and are set on the request as an Authorization Header.</p><p>When fetching schemas from a registry, you can specify both the source schema and the target schema separately.</p><table><thead><tr><th>Config</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>hoodie.streamer.schemaprovider.registry.url</td><td>The schema of the source you are reading from</td><td>https://foo:<a href="mailto:bar@schemaregistry.org" target="_blank" rel="noopener noreferrer">bar@schemaregistry.org</a></td></tr><tr><td>hoodie.streamer.schemaprovider.registry.targetUrl</td><td>The schema of the target you are writing to</td><td>https://foo:<a href="mailto:bar@schemaregistry.org" target="_blank" rel="noopener noreferrer">bar@schemaregistry.org</a></td></tr></tbody></table><p>The above configs are passed to Hudi Streamer spark-submit command like: </p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">--hoodie-conf hoodie.streamer.schemaprovider.registry.url</span><span class="token operator">=</span><span class="token plain">https://foo:bar@schemaregistry.org</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>There are other optional configs to work with schema registry provider such as SSL-store related configs, and supporting
custom transformation of schema returned by schema registry, e.g., converting the original json schema to avro schema
via <code>org.apache.hudi.utilities.schema.converter.JsonToAvroSchemaConverter</code>.</p><table><thead><tr><th>Config</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>hoodie.streamer.schemaprovider.registry.schemaconverter</td><td>The class name of the custom schema converter to use</td><td><code>org.apache.hudi.utilities.schema.converter.JsonToAvroSchemaConverter</code></td></tr><tr><td>schema.registry.ssl.keystore.location</td><td>SSL key store location</td><td></td></tr><tr><td>schema.registry.ssl.keystore.password</td><td>SSL key store password</td><td></td></tr><tr><td>schema.registry.ssl.truststore.location</td><td>SSL trust store location</td><td></td></tr><tr><td>schema.registry.ssl.truststore.password</td><td>SSL trust store password</td><td></td></tr><tr><td>schema.registry.ssl.key.password</td><td>SSL key password</td><td></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="jdbc-schema-provider">JDBC Schema Provider<a class="hash-link" href="#jdbc-schema-provider" title="Direct link to heading">​</a></h4><p>You can obtain the latest schema through a JDBC connection.</p><table><thead><tr><th>Config</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>hoodie.streamer.schemaprovider.source.schema.jdbc.connection.url</td><td>The JDBC URL to connect to. You can specify source specific connection properties in the URL</td><td>jdbc:postgresql://localhost/test?user=fred&amp;password=secret</td></tr><tr><td>hoodie.streamer.schemaprovider.source.schema.jdbc.driver.type</td><td>The class name of the JDBC driver to use to connect to this URL</td><td>org.h2.Driver</td></tr><tr><td>hoodie.streamer.schemaprovider.source.schema.jdbc.username</td><td>username for the connection</td><td>fred</td></tr><tr><td>hoodie.streamer.schemaprovider.source.schema.jdbc.password</td><td>password for the connection</td><td>secret</td></tr><tr><td>hoodie.streamer.schemaprovider.source.schema.jdbc.dbtable</td><td>The table with the schema to reference</td><td>test_database.test1_table or test1_table</td></tr><tr><td>hoodie.streamer.schemaprovider.source.schema.jdbc.timeout</td><td>The number of seconds the driver will wait for a Statement object to execute to the given number of seconds. Zero means there is no limit. In the write path, this option depends on how JDBC drivers implement the API setQueryTimeout, e.g., the h2 JDBC driver checks the timeout of each query instead of an entire JDBC batch. It defaults to 0.</td><td>0</td></tr><tr><td>hoodie.streamer.schemaprovider.source.schema.jdbc.nullable</td><td>If true, all columns are nullable</td><td>true</td></tr></tbody></table><p>The above configs are passed to Hudi Streamer spark-submit command like:
<code>--hoodie-conf hoodie.streamer.jdbcbasedschemaprovider.connection.url=jdbc:postgresql://localhost/test?user=fred&amp;password=secret</code></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="file-based-schema-provider">File Based Schema Provider<a class="hash-link" href="#file-based-schema-provider" title="Direct link to heading">​</a></h4><p>You can use a .avsc file to define your schema. You can then point to this file on DFS as a schema provider.</p><table><thead><tr><th>Config</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>hoodie.streamer.schemaprovider.source.schema.file</td><td>The schema of the source you are reading from</td><td><a href="https://github.com/apache/hudi/blob/a8fb69656f522648233f0310ca3756188d954281/docker/demo/config/test-suite/source.avsc" target="_blank" rel="noopener noreferrer">example schema file</a></td></tr><tr><td>hoodie.streamer.schemaprovider.target.schema.file</td><td>The schema of the target you are writing to</td><td><a href="https://github.com/apache/hudi/blob/a8fb69656f522648233f0310ca3756188d954281/docker/demo/config/test-suite/target.avsc" target="_blank" rel="noopener noreferrer">example schema file</a></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="hive-schema-provider">Hive Schema Provider<a class="hash-link" href="#hive-schema-provider" title="Direct link to heading">​</a></h4><p>You can use hive tables to fetch source and target schema. </p><table><thead><tr><th>Config</th><th>Description</th></tr></thead><tbody><tr><td>hoodie.streamer.schemaprovider.source.schema.hive.database</td><td>Hive database from where source schema can be fetched</td></tr><tr><td>hoodie.streamer.schemaprovider.source.schema.hive.table</td><td>Hive table from where source schema can be fetched</td></tr><tr><td>hoodie.streamer.schemaprovider.target.schema.hive.database</td><td>Hive database from where target schema can be fetched</td></tr><tr><td>hoodie.streamer.schemaprovider.target.schema.hive.table</td><td>Hive table from where target schema can be fetched</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="schema-provider-with-post-processor">Schema Provider with Post Processor<a class="hash-link" href="#schema-provider-with-post-processor" title="Direct link to heading">​</a></h4><p>The SchemaProviderWithPostProcessor, will extract the schema from one of the previously mentioned Schema Providers and
then will apply a post processor to change the schema before it is used. You can write your own post processor by extending
this class: <a href="https://github.com/apache/hudi/blob/master/hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaPostProcessor.java" target="_blank" rel="noopener noreferrer">https://github.com/apache/hudi/blob/master/hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/SchemaPostProcessor.java</a></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="sources">Sources<a class="hash-link" href="#sources" title="Direct link to heading">​</a></h3><p>Hoodie Streamer can read data from a wide variety of sources. The following are a list of supported sources:</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="distributed-file-system-dfs">Distributed File System (DFS)<a class="hash-link" href="#distributed-file-system-dfs" title="Direct link to heading">​</a></h4><p>See the storage configurations page to see some examples of DFS applications Hudi can read from. The following are the
supported file formats Hudi can read/write with on DFS Sources. (Note: you can still use Spark/Flink readers to read from
other formats and then write data as Hudi format.)</p><ul><li>CSV</li><li>AVRO</li><li>JSON</li><li>PARQUET</li><li>ORC</li><li>HUDI</li></ul><p>For DFS sources the following behaviors are expected:</p><ul><li>For JSON DFS source, you always need to set a schema. If the target Hudi table follows the same schema as from the source file, you just need to set the source schema. If not, you need to set schemas for both source and target. </li><li><code>HoodieStreamer</code> reads the files under the source base path (<code>hoodie.streamer.source.dfs.root</code>) directly, and it won&#x27;t use the partition paths under this base path as fields of the dataset. Detailed examples can be found <a href="https://github.com/apache/hudi/issues/5485" target="_blank" rel="noopener noreferrer">here</a>.</li></ul><h4 class="anchor anchorWithStickyNavbar_y2LR" id="kafka">Kafka<a class="hash-link" href="#kafka" title="Direct link to heading">​</a></h4><p>Hudi can read directly from Kafka clusters. See more details on <code>HoodieStreamer</code> to learn how to setup streaming
ingestion with exactly once semantics, checkpointing, and plugin transformations. The following formats are supported
when reading data from Kafka:</p><ul><li>AVRO: <code>org.apache.hudi.utilities.sources.AvroKafkaSource</code></li><li>JSON: <code>org.apache.hudi.utilities.sources.JsonKafkaSource</code></li><li>Proto: <code>org.apache.hudi.utilities.sources.ProtoKafkaSource</code></li></ul><p>Check out <a href="https://hudi.apache.org/docs/configurations#Kafka-Source-Configs" target="_blank" rel="noopener noreferrer">Kafka source config</a> for more details.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="pulsar">Pulsar<a class="hash-link" href="#pulsar" title="Direct link to heading">​</a></h4><p><code>HoodieStreamer</code> also supports ingesting from Apache Pulsar via <code>org.apache.hudi.utilities.sources.PulsarSource</code>.
Check out <a href="https://hudi.apache.org/docs/configurations#Pulsar-Source-Configs" target="_blank" rel="noopener noreferrer">Pulsar source config</a> for more details.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="cloud-storage-event-sources">Cloud storage event sources<a class="hash-link" href="#cloud-storage-event-sources" title="Direct link to heading">​</a></h4><p>AWS S3 storage provides an event notification service which will post notifications when certain events happen in your S3 bucket:
<a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/NotificationHowTo.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/AmazonS3/latest/userguide/NotificationHowTo.html</a>
AWS will put these events in a Simple Queue Service (SQS). Apache Hudi provides <code>S3EventsSource</code>
and <code>S3EventsHoodieIncrSource</code> that can read from SQS to trigger/processing of new or changed data as soon as it is
available on S3. Check out <a href="https://hudi.apache.org/docs/configurations#S3-Source-Configs" target="_blank" rel="noopener noreferrer">S3 source configs</a> for more details.</p><p>Similar to S3 event source, Google Cloud Storage (GCS) event source is also supported via <code>GcsEventsSource</code> and
<code>GcsEventsHoodieIncrSource</code>. Check out <a href="https://hudi.apache.org/docs/configurations#GCS-Events-Source-Configs" target="_blank" rel="noopener noreferrer">GCS events source configs</a> for more details.</p><h5 class="anchor anchorWithStickyNavbar_y2LR" id="aws-setup">AWS Setup<a class="hash-link" href="#aws-setup" title="Direct link to heading">​</a></h5><ol><li>Enable S3 Event Notifications <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/NotificationHowTo.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/AmazonS3/latest/userguide/NotificationHowTo.html</a></li><li>Download the aws-java-sdk-sqs jar. </li><li>Find the queue URL and Region to set these configurations:<ol><li>hoodie.streamer.s3.source.queue.url=<a href="https://sqs.us-west-2.amazonaws.com/queue/url" target="_blank" rel="noopener noreferrer">https://sqs.us-west-2.amazonaws.com/queue/url</a></li><li>hoodie.streamer.s3.source.queue.region=us-west-2 </li></ol></li><li>Start the <code>S3EventsSource</code> and <code>S3EventsHoodieIncrSource</code> using the <code>HoodieStreamer</code> utility as shown in sample commands below:</li></ol><p>Insert code sample from this blog: <a href="https://hudi.apache.org/blog/2021/08/23/s3-events-source/#configuration-and-setup" target="_blank" rel="noopener noreferrer">https://hudi.apache.org/blog/2021/08/23/s3-events-source/#configuration-and-setup</a></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="jdbc-source">JDBC Source<a class="hash-link" href="#jdbc-source" title="Direct link to heading">​</a></h4><p>Hudi can read from a JDBC source with a full fetch of a table, or Hudi can even read incrementally with checkpointing from a JDBC source.</p><table><thead><tr><th>Config</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>hoodie.streamer.jdbc.url</td><td>URL of the JDBC connection</td><td>jdbc:postgresql://localhost/test</td></tr><tr><td>hoodie.streamer.jdbc.user</td><td>User to use for authentication of the JDBC connection</td><td>fred</td></tr><tr><td>hoodie.streamer.jdbc.password</td><td>Password to use for authentication of the JDBC connection</td><td>secret</td></tr><tr><td>hoodie.streamer.jdbc.password.file</td><td>If you prefer to use a password file for the connection</td><td></td></tr><tr><td>hoodie.streamer.jdbc.driver.class</td><td>Driver class to use for the JDBC connection</td><td></td></tr><tr><td>hoodie.streamer.jdbc.table.name</td><td></td><td>my_table</td></tr><tr><td>hoodie.streamer.jdbc.table.incr.column.name</td><td>If run in incremental mode, this field will be used to pull new data incrementally</td><td></td></tr><tr><td>hoodie.streamer.jdbc.incr.pull</td><td>Will the JDBC connection perform an incremental pull?</td><td></td></tr><tr><td>hoodie.streamer.jdbc.extra.options.</td><td>How you pass extra configurations that would normally by specified as spark.read.option()</td><td>hoodie.streamer.jdbc.extra.options.fetchSize=100 hoodie.streamer.jdbc.extra.options.upperBound=1 hoodie.streamer.jdbc.extra.options.lowerBound=100</td></tr><tr><td>hoodie.streamer.jdbc.storage.level</td><td>Used to control the persistence level</td><td>Default = MEMORY_AND_DISK_SER</td></tr><tr><td>hoodie.streamer.jdbc.incr.fallback.to.full.fetch</td><td>Boolean which if set true makes an incremental fetch fallback to a full fetch if there is any error in the incremental read</td><td>FALSE</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="sql-sources">SQL Sources<a class="hash-link" href="#sql-sources" title="Direct link to heading">​</a></h4><p>SQL Source <code>org.apache.hudi.utilities.sources.SqlSource</code> reads from any table, used mainly for backfill jobs which will process specific partition dates.
This won&#x27;t update the streamer.checkpoint.key to the processed commit, instead it will fetch the latest successful
checkpoint key and set that value as this backfill commits checkpoint so that it won&#x27;t interrupt the regular incremental
processing. To fetch and use the latest incremental checkpoint, you need to also set this hoodie_conf for Hudi Streamer
jobs: <code>hoodie.write.meta.key.prefixes = &#x27;streamer.checkpoint.key&#x27;</code></p><p>Spark SQL should be configured using this hoodie config:
<code>hoodie.streamer.source.sql.sql.query = &#x27;select * from source_table&#x27;</code></p><p>Using <code>org.apache.hudi.utilities.sources.SqlFileBasedSource</code> allows setting the SQL queries in a file to read from any
table. SQL file path should be configured using this hoodie config:
<code>hoodie.streamer.source.sql.file = &#x27;hdfs://xxx/source.sql&#x27;</code></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="error-table">Error Table<a class="hash-link" href="#error-table" title="Direct link to heading">​</a></h3><p><code>HoodieStreamer</code> supports segregating error records into a separate table called &quot;Error table&quot; alongside with the
target data table. This allows easy integration with dead-letter queues (DLQ). Error Table is supported with
user-provided subclass of <code>org.apache.hudi.utilities.streamer.BaseErrorTableWriter</code> supplied via
config <code>hoodie.errortable.write.class</code>. Check out more in <code>org.apache.hudi.config.HoodieErrorTableConfig</code>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="termination-strategy">Termination Strategy<a class="hash-link" href="#termination-strategy" title="Direct link to heading">​</a></h3><p>Users can configure a post-write termination strategy under <code>continuous</code> mode if need be. For instance,
users can configure graceful shutdown if there is no new data from the configured source for 5 consecutive times.
Here is the interface for the termination strategy.</p><div class="codeBlockContainer_J+bg language-java theme-code-block"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * Post write termination strategy for deltastreamer in continuous mode.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public interface PostWriteTerminationStrategy {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   * Returns whether HoodieStreamer needs to be shutdown.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   * @param scheduledCompactionInstantAndWriteStatuses optional pair of scheduled compaction instant and write statuses.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   * @return true if HoodieStreamer has to be shutdown. false otherwise.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  boolean shouldShutdown(Option&lt;Pair&lt;Option&lt;String&gt;, JavaRDD&lt;WriteStatus&gt;&gt;&gt; scheduledCompactionInstantAndWriteStatuses);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Also, this might help in bootstrapping a new table. Instead of doing one bulk load or bulk_insert leveraging a large
cluster for a large input of data, one could start <code>HoodieStreamer</code> on the <code>continuous</code> mode and add a shutdown strategy
to terminate, once all data has been bootstrapped. This way, each batch could be smaller and may not need a large
cluster to bootstrap data. There is a concrete implementation provided out-of-the-box: <a href="https://github.com/apache/hudi/blob/0d0a4152cfd362185066519ae926ac4513c7a152/hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/NoNewDataTerminationStrategy.java" target="_blank" rel="noopener noreferrer">NoNewDataTerminationStrategy</a>.
Users can feel free to implement their own strategy as they see fit.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="dynamic-configuration-updates">Dynamic configuration updates<a class="hash-link" href="#dynamic-configuration-updates" title="Direct link to heading">​</a></h3><p>When Hoodie Streamer is running in <code>continuous</code> mode, the properties can be refreshed/updated before each sync calls.
Interested users can implement <code>org.apache.hudi.utilities.deltastreamer.ConfigurationHotUpdateStrategy</code> to leverage this.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="multitablestreamer">MultiTableStreamer<a class="hash-link" href="#multitablestreamer" title="Direct link to heading">​</a></h2><p><code>HoodieMultiTableStreamer</code>, an extension of <code>HoodieStreamer</code>, facilitates the simultaneous ingestion of multiple tables into Hudi datasets. At present, it supports the sequential ingestion of tables and accommodates both COPY_ON_WRITE and MERGE_ON_READ storage types. The command line parameters for <code>HoodieMultiTableStreamer</code> largely mirror those of <code>HoodieStreamer</code>, with the notable difference being the necessity to supply table-specific configurations in separate files in a dedicated config folder. New command line options have been introduced to support this functionality:</p><div class="codeBlockContainer_J+bg language-java theme-code-block"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  * --config-folder</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    the path to the folder which contains all the table wise config files</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --base-path-prefix</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    this is added to enable users to create all the hudi datasets for related tables under one path in FS. The datasets are then created under the path - &lt;base_path_prefix&gt;/&lt;database&gt;/&lt;table_to_be_ingested&gt;. However you can override the paths for every table by setting the property hoodie.streamer.ingestion.targetBasePath</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The following properties are needed to be set properly to ingest data using <code>HoodieMultiTableStreamer</code>.</p><div class="codeBlockContainer_J+bg language-java theme-code-block"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.streamer.ingestion.tablesToBeIngested</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  comma separated names of tables to be ingested in the format &lt;database&gt;.&lt;table&gt;, for example db1.table1,db1.table2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.streamer.ingestion.targetBasePath</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if you wish to ingest a particular table in a separate path, you can mention that path here</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.streamer.ingestion.&lt;database&gt;.&lt;table&gt;.configFile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  path to the config file in dedicated config folder which contains table overridden properties for the particular table to be ingested.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Sample config files for table wise overridden properties can be found
under <code>hudi-utilities/src/test/resources/streamer-config</code>. The command to run <code>HoodieMultiTableStreamer</code> is also similar
to how you run <code>HoodieStreamer</code>.</p><div class="codeBlockContainer_J+bg language-java theme-code-block"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[hoodie]$ spark-submit --class org.apache.hudi.utilities.streamer.HoodieMultiTableStreamer `ls packaging/hudi-utilities-bundle/target/hudi-utilities-bundle-*.jar` \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --props file://${PWD}/hudi-utilities/src/test/resources/streamer-config/kafka-source.properties \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --config-folder file://tmp/hudi-ingestion-config \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --schemaprovider-class org.apache.hudi.utilities.schema.SchemaRegistryProvider \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --source-class org.apache.hudi.utilities.sources.AvroKafkaSource \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --source-ordering-field impresssiontime \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --base-path-prefix file:\/\/\/tmp/hudi-streamer-op \ </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --target-table uber.impressions \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --op BULK_INSERT</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>For detailed information on how to configure and use <code>HoodieMultiTableStreamer</code>, please refer <a href="/cn/blog/2020/08/22/ingest-multiple-tables-using-hudi">blog section</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apache/hudi/tree/asf-site/website/docs/hoodie_streaming_ingestion.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/cn/docs/next/concurrency_control"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Concurrency Control</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/cn/docs/next/ingestion_flink"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Using Flink</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#hudi-streamer" class="table-of-contents__link toc-highlight">Hudi Streamer</a><ul><li><a href="#options" class="table-of-contents__link toc-highlight">Options</a></li><li><a href="#using-hudi-utilities-bundle-jars" class="table-of-contents__link toc-highlight">Using <code>hudi-utilities</code> bundle jars</a></li><li><a href="#concurrency-control" class="table-of-contents__link toc-highlight">Concurrency Control</a></li><li><a href="#checkpointing" class="table-of-contents__link toc-highlight">Checkpointing</a></li><li><a href="#transformers" class="table-of-contents__link toc-highlight">Transformers</a></li><li><a href="#schema-providers" class="table-of-contents__link toc-highlight">Schema Providers</a></li><li><a href="#sources" class="table-of-contents__link toc-highlight">Sources</a></li><li><a href="#error-table" class="table-of-contents__link toc-highlight">Error Table</a></li><li><a href="#termination-strategy" class="table-of-contents__link toc-highlight">Termination Strategy</a></li><li><a href="#dynamic-configuration-updates" class="table-of-contents__link toc-highlight">Dynamic configuration updates</a></li></ul></li><li><a href="#multitablestreamer" class="table-of-contents__link toc-highlight">MultiTableStreamer</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">About</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/cn/blog/2021/07/21/streaming-data-lake-platform">Our Vision</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/concepts">Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/community/team">Team</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/releases/release-0.14.1">Releases</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/releases/download">Download</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/powered-by">Who&#x27;s Using</a></li></ul></div><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/cn/docs/quick-start-guide">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/docker_demo">Docker Demo</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/talks">Talks</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/videos">Video Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/faq">FAQ</a></li><li class="footer__item"><a href="https://cwiki.apache.org/confluence/display/HUDI" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Technical Wiki<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Hudi On Cloud</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/cn/docs/s3_hoodie">AWS</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/gcs_hoodie">Google Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/oss_hoodie">Alibaba Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/azure_hoodie">Microsoft Azure</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/cos_hoodie">Tencent Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/ibm_cos_hoodie">IBM Cloud</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/cn/community/get-involved">Get Involved</a></li><li class="footer__item"><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-2ggm1fub8-_yt4Reu9djwqqVRFC7X49g" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/apache-hudi/?viewAsMember=true" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="mailto:dev-subscribe@hudi.apache.org?Subject=SubscribeToHudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mailing List</a></li></ul></div><div class="col footer__col"><div class="footer__title">Apache</div><ul class="footer__items"><li class="footer__item"><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks</a></li><li class="footer__item"><a href="https://www.apache.org/licenses" target="_blank" rel="noopener noreferrer" class="footer__link-item">License</a></li><li class="footer__item"><a href="https://www.apache.org/security" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship</a></li><li class="footer__item"><a href="https://www.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foundation</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://hudi.apache.org/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_SRtH"><img src="/cn/assets/images/logo-big.png" alt="Apache Hudi™" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/cn/assets/images/logo-big.png" alt="Apache Hudi™" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></a></div><div class="footer__copyright">Copyright © 2021 <a href="https://apache.org">The Apache Software Foundation</a>, Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0"> Apache License, Version 2.0</a>.
      Hudi, Apache and the Apache feather logo are trademarks of The Apache Software Foundation. <a href="/docs/privacy">Privacy Policy</a></div></div></div></footer></div>
<script src="/cn/assets/js/runtime~main.105ff6a2.js"></script>
<script src="/cn/assets/js/main.74c36818.js"></script>
</body>
</html>