"use strict";(self.webpackChunkhudi=self.webpackChunkhudi||[]).push([[49174],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>g});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),u=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},d=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),p=u(r),g=n,m=p["".concat(s,".").concat(g)]||p[g]||c[g]||i;return r?a.createElement(m,l(l({ref:t},d),{},{components:r})):a.createElement(m,l({ref:t},d))}));function g(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,l=new Array(i);l[0]=p;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:n,l[1]=o;for(var u=2;u<i;u++)l[u]=r[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,r)}p.displayName="MDXCreateElement"},13614:(e,t,r)=>{r.r(t),r.d(t,{contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var a=r(87462),n=(r(67294),r(3905));const i={title:"Release 0.12.1",sidebar_position:2,layout:"releases",toc:!0,last_modified_at:new Date("2022-08-17T05:00:00.000Z")},l="[Release 0.12.1](https://github.com/apache/hudi/releases/tag/release-0.12.1) ([docs](/docs/quick-start-guide))",o={unversionedId:"release-0.12.1",id:"release-0.12.1",title:"Release 0.12.1",description:"Migration Guide",source:"@site/releases/release-0.12.1.md",sourceDirName:".",slug:"/release-0.12.1",permalink:"/cn/releases/release-0.12.1",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Release 0.12.1",sidebar_position:2,layout:"releases",toc:!0,last_modified_at:"2022-08-17T05:00:00.000Z"},sidebar:"releases",previous:{title:"Download",permalink:"/cn/releases/download"},next:{title:"Release 0.12.0",permalink:"/cn/releases/release-0.12.0"}},s=[{value:"Migration Guide",id:"migration-guide",children:[],level:2},{value:"Release Highlights",id:"release-highlights",children:[{value:"Improve Hudi Cli",id:"improve-hudi-cli",children:[],level:3},{value:"Fix invalid record key stats in Parquet metadata",id:"fix-invalid-record-key-stats-in-parquet-metadata",children:[],level:3},{value:"Bug fixes",id:"bug-fixes",children:[],level:3}],level:2},{value:"Raw Release Notes",id:"raw-release-notes",children:[],level:2}],u={toc:s};function d(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,a.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"release-0121-docs"},(0,n.kt)("a",{parentName:"h1",href:"https://github.com/apache/hudi/releases/tag/release-0.12.1"},"Release 0.12.1")," (",(0,n.kt)("a",{parentName:"h1",href:"/docs/quick-start-guide"},"docs"),")"),(0,n.kt)("h2",{id:"migration-guide"},"Migration Guide"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"This release (0.12.1) does not introduce any new table version, thus no migration is needed if you are on 0.12.0."),(0,n.kt)("li",{parentName:"ul"},"If migrating from an older release, please check the migration guide from the previous release notes, specifically\nthe upgrade instructions in ",(0,n.kt)("a",{parentName:"li",href:"/releases/older-releases#migration-guide-for-this-release"},"0.6.0"),",\n",(0,n.kt)("a",{parentName:"li",href:"/releases/release-0.9.0#migration-guide-for-this-release"},"0.9.0"),", ",(0,n.kt)("a",{parentName:"li",href:"/releases/release-0.10.0#migration-guide"},"0.10.0"),",\n",(0,n.kt)("a",{parentName:"li",href:"/releases/release-0.11.0#migration-guide"},"0.11.0"),", and ",(0,n.kt)("a",{parentName:"li",href:"/releases/release-0.12.0#migration-guide"},"0.12.0"),".")),(0,n.kt)("h2",{id:"release-highlights"},"Release Highlights"),(0,n.kt)("h3",{id:"improve-hudi-cli"},"Improve Hudi Cli"),(0,n.kt)("p",null,"Add command to repair deprecated partition, rename partition and trace file group through a range of commits."),(0,n.kt)("h3",{id:"fix-invalid-record-key-stats-in-parquet-metadata"},"Fix invalid record key stats in Parquet metadata"),(0,n.kt)("p",null,'Crux of the problem was that min/max statistics for the record keys were computed incorrectly during (Spark-specific) row-writing\nBulk Insert operation affecting Key Range Pruning flow w/in Hoodie Bloom Index tagging sequence, resulting into updated records being incorrectly tagged\nas "inserts" and not as "updates", leading to duplicated records in the table.'),(0,n.kt)("p",null,"If all of the following is applicable to you:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Using Spark as an execution engine"),(0,n.kt)("li",{parentName:"ol"},"Using Bulk Insert (using row-writing\n",(0,n.kt)("a",{parentName:"li",href:"https://hudi.apache.org/docs/next/configurations#hoodiedatasourcewriterowwriterenable"},"https://hudi.apache.org/docs/next/configurations#hoodiedatasourcewriterowwriterenable"),",\nenabled ",(0,n.kt)("em",{parentName:"li"},"by default"),")"),(0,n.kt)("li",{parentName:"ol"},"Using Bloom Index (with range-pruning\n",(0,n.kt)("a",{parentName:"li",href:"https://hudi.apache.org/docs/next/basic_configurations/#hoodiebloomindexprunebyranges"},"https://hudi.apache.org/docs/next/basic_configurations/#hoodiebloomindexprunebyranges"),"\nenabled, enabled ",(0,n.kt)("em",{parentName:"li"},"by default"),') for "UPSERT" operations')),(0,n.kt)("p",null,"Recommended to upgrading to 0.12.1 to avoid getting duplicate records in your pipeline."),(0,n.kt)("h3",{id:"bug-fixes"},"Bug fixes"),(0,n.kt)("p",null,"0.12.1 release is mainly intended for bug fixes and stability. The fixes span across many components, including"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"DeltaStreamer"),(0,n.kt)("li",{parentName:"ul"},"Table config"),(0,n.kt)("li",{parentName:"ul"},"Table services"),(0,n.kt)("li",{parentName:"ul"},"Metadata table"),(0,n.kt)("li",{parentName:"ul"},"Spark SQL support"),(0,n.kt)("li",{parentName:"ul"},"Presto support"),(0,n.kt)("li",{parentName:"ul"},"Hive Sync"),(0,n.kt)("li",{parentName:"ul"},"Flink engine"),(0,n.kt)("li",{parentName:"ul"},"Unit, functional, integration tests and CI")),(0,n.kt)("h2",{id:"raw-release-notes"},"Raw Release Notes"),(0,n.kt)("p",null,"The raw release notes are available ",(0,n.kt)("a",{parentName:"p",href:"https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12322822&version=12352182"},"here")))}d.isMDXComponent=!0}}]);