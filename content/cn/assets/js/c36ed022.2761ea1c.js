"use strict";(globalThis.webpackChunkhudi=globalThis.webpackChunkhudi||[]).push([[92570],{28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var a=s(96540);const r={},i=a.createContext(r);function t(e){const n=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),a.createElement(i.Provider,{value:n},e.children)}},31665:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"azure_hoodie","title":"Azure \u6587\u4ef6\u7cfb\u7edf","description":"\u5728\u672c\u9875\u4e2d\uff0c\u6211\u4eec\u89e3\u91ca\u5982\u4f55\u5728 Microsoft Azure \u4e0a\u4f7f\u7528 Hudi \u3002","source":"@site/i18n/cn/docusaurus-plugin-content-docs/version-1.0.0/azure_hoodie.md","sourceDirName":".","slug":"/azure_hoodie","permalink":"/cn/docs/1.0.0/azure_hoodie","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/hudi/tree/asf-site/website/versioned_docs/version-1.0.0/azure_hoodie.md","tags":[],"version":"1.0.0","frontMatter":{"title":"Azure \u6587\u4ef6\u7cfb\u7edf","keywords":["hudi","hive","azure","spark","presto"],"summary":"\u5728\u672c\u9875\u4e2d\uff0c\u6211\u4eec\u8ba8\u8bba\u5982\u4f55\u5728 Azure \u6587\u4ef6\u7cfb\u7edf\u4e2d\u914d\u7f6e Hudi \u3002","last_modified_at":"2020-05-25T23:00:57.000Z","language":"cn"},"sidebar":"docs","previous":{"title":"OSS Filesystem","permalink":"/cn/docs/1.0.0/oss_hoodie"},"next":{"title":"COS Filesystem","permalink":"/cn/docs/1.0.0/cos_hoodie"}}');var r=s(74848),i=s(28453);const t={title:"Azure \u6587\u4ef6\u7cfb\u7edf",keywords:["hudi","hive","azure","spark","presto"],summary:"\u5728\u672c\u9875\u4e2d\uff0c\u6211\u4eec\u8ba8\u8bba\u5982\u4f55\u5728 Azure \u6587\u4ef6\u7cfb\u7edf\u4e2d\u914d\u7f6e Hudi \u3002",last_modified_at:new Date("2020-05-25T23:00:57.000Z"),language:"cn"},o=void 0,d={},c=[{value:"\u58f0\u660e",id:"\u58f0\u660e",level:2},{value:"\u652f\u6301\u7684\u5b58\u50a8\u7cfb\u7edf",id:"\u652f\u6301\u7684\u5b58\u50a8\u7cfb\u7edf",level:2},{value:"\u7ecf\u8fc7\u9a8c\u8bc1\u7684 Spark \u4e0e\u5b58\u50a8\u7cfb\u7edf\u7684\u7ec4\u5408",id:"\u7ecf\u8fc7\u9a8c\u8bc1\u7684-spark-\u4e0e\u5b58\u50a8\u7cfb\u7edf\u7684\u7ec4\u5408",level:2},{value:"Azure Data Lake Storage Gen 2 \u4e0a\u7684 HDInsight Spark 2.4",id:"azure-data-lake-storage-gen-2-\u4e0a\u7684-hdinsight-spark-24",level:4},{value:"Azure Data Lake Storage Gen 2 \u4e0a\u7684 Databricks Spark 2.4",id:"azure-data-lake-storage-gen-2-\u4e0a\u7684-databricks-spark-24",level:4}];function l(e){const n={code:"code",h2:"h2",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"\u5728\u672c\u9875\u4e2d\uff0c\u6211\u4eec\u89e3\u91ca\u5982\u4f55\u5728 Microsoft Azure \u4e0a\u4f7f\u7528 Hudi \u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u58f0\u660e",children:"\u58f0\u660e"}),"\n",(0,r.jsx)(n.p,{children:"\u672c\u9875\u9762\u7531 Hudi \u793e\u533a\u7ef4\u62a4\u3002\n\u5982\u679c\u4fe1\u606f\u4e0d\u51c6\u786e\uff0c\u6216\u8005\u4f60\u6709\u4fe1\u606f\u8981\u8865\u5145\uff0c\u8bf7\u5c3d\u7ba1\u521b\u5efa JIRA ticket\u3002\n\u5bf9\u6b64\u8d21\u732e\u9ad8\u5ea6\u8d5e\u8d4f\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u652f\u6301\u7684\u5b58\u50a8\u7cfb\u7edf",children:"\u652f\u6301\u7684\u5b58\u50a8\u7cfb\u7edf"}),"\n",(0,r.jsx)(n.p,{children:"Hudi \u652f\u6301\u4e24\u79cd\u5b58\u50a8\u7cfb\u7edf\u3002"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Azure Blob \u5b58\u50a8"}),"\n",(0,r.jsx)(n.li,{children:"Azure Data Lake Gen 2"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u7ecf\u8fc7\u9a8c\u8bc1\u7684-spark-\u4e0e\u5b58\u50a8\u7cfb\u7edf\u7684\u7ec4\u5408",children:"\u7ecf\u8fc7\u9a8c\u8bc1\u7684 Spark \u4e0e\u5b58\u50a8\u7cfb\u7edf\u7684\u7ec4\u5408"}),"\n",(0,r.jsx)(n.h4,{id:"azure-data-lake-storage-gen-2-\u4e0a\u7684-hdinsight-spark-24",children:"Azure Data Lake Storage Gen 2 \u4e0a\u7684 HDInsight Spark 2.4"}),"\n",(0,r.jsx)(n.p,{children:"This combination works out of the box. No extra config needed.\n\u8fd9\u79cd\u7ec4\u5408\u5f00\u7bb1\u5373\u7528\uff0c\u4e0d\u9700\u8981\u989d\u5916\u7684\u914d\u7f6e\u3002"}),"\n",(0,r.jsx)(n.h4,{id:"azure-data-lake-storage-gen-2-\u4e0a\u7684-databricks-spark-24",children:"Azure Data Lake Storage Gen 2 \u4e0a\u7684 Databricks Spark 2.4"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5c06 Hudi jar \u5305\u5bfc\u5165\u5230 databricks \u5de5\u4f5c\u533a \u3002"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5c06\u6587\u4ef6\u7cfb\u7edf\u6302\u8f7d\u5230 dbutils \u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-scala",children:'dbutils.fs.mount(\n  source = "abfss://xxx@xxx.dfs.core.windows.net",\n  mountPoint = "/mountpoint",\n  extraConfigs = configs)\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5f53\u5199\u5165 Hudi \u6570\u636e\u96c6\u65f6\uff0c\u4f7f\u7528 abfss URL"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-scala",children:'inputDF.write\n  .format("org.apache.hudi")\n  .options(opts)\n  .mode(SaveMode.Append)\n  .save("abfss://<<storage-account>>.dfs.core.windows.net/hudi-tables/customer")\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5f53\u8bfb\u53d6 Hudi \u6570\u636e\u96c6\u65f6\uff0c\u4f7f\u7528\u6302\u8f7d\u70b9"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-scala",children:'spark.read\n  .format("org.apache.hudi")\n  .load("/mountpoint/hudi-tables/customer")\n'})}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);