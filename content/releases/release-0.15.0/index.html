<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-releases docs-version-current docs-doc-page docs-doc-id-release-0.15.0" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Release 0.15.0 | Apache Hudi</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hudi.apache.org/releases/release-0.15.0"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="apache hudi, data lake, lakehouse, big data, apache spark, apache flink, presto, trino, analytics, data engineering"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-releases-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-releases-current"><meta data-rh="true" property="og:title" content="Release 0.15.0 | Apache Hudi"><meta data-rh="true" name="description" content="Release 0.15.0"><meta data-rh="true" property="og:description" content="Release 0.15.0"><link data-rh="true" rel="icon" href="/assets/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://hudi.apache.org/releases/release-0.15.0"><link data-rh="true" rel="alternate" href="https://hudi.apache.org/releases/release-0.15.0" hreflang="en"><link data-rh="true" rel="alternate" href="https://hudi.apache.org/releases/release-0.15.0" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Release 0.15.0","item":"https://hudi.apache.org/releases/release-0.15.0"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Hudi: User-Facing Analytics RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Hudi: User-Facing Analytics Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Apache Hudi: User-Facing Analytics JSON Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Apache Hudi" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/videos/rss.xml" title="Apache Hudi RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/videos/atom.xml" title="Apache Hudi Atom Feed">





<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comfortaa|Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">
<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="9e4444ba-93cc-45ea-b143-783ae0fbeb6f" data-project-name="Apache Hudi" data-project-color="#FFFFFF" data-project-logo="https://hudi.apache.org/assets/images/logo-big.png" data-modal-disclaimer="This AI assistant answers Apache Hudi questions using your [documentation](https://hudi.apache.org/docs/quick-start-guide/), [dev setup](https://hudi.apache.org/contribute/developer-setup/), the [tech specs](https://hudi.apache.org/tech-specs-1point0/) and open GitHub Issues from the last year." data-modal-title="Apache Hudi AI Assistant" data-modal-example-questions-title="Try asking me..." data-modal-example-questions="How can I convert an existing COW table to MOR?,How do I set up incremental queries with Hudi tables?" data-modal-image="https://hudi.apache.org/assets/images/logo-big-2.png" data-modal-image-ask-ai="https://hudi.apache.org/assets/images/logo-big-2.png" data-modal-header-min-height="64px" data-modal-image-height="40" data-modal-image-width="40" data-modal-header-bg-color="#f8f9fa" data-modal-title-color="#0db1f9" data-button-text-color="#29557a" data-button-text="Ask AI" data-consent-required="true" data-consent-screen-title="Help us improve our AI assistant" data-consent-screen-disclaimer="By clicking &amp;quot;Allow tracking&amp;quot;, you consent to the use of the AI assistant in accordance with kapa.ai&#39;s [Privacy Policy](https://www.kapa.ai/content/privacy-policy). This service uses reCAPTCHA, which requires your consent to Google&#39;s [Privacy Policy](https://policies.google.com/privacy) and [Terms of Service](https://policies.google.com/terms). By proceeding, you explicitly agree to both kapa.ai&#39;s and Google&#39;s privacy policies." data-consent-screen-accept-button-text="Allow tracking" data-modal-disclaimer-font-size="0.80rem" data-query-input-placeholder-text-color="#29557a" data-submit-query-button-bg-color="#0db1f9" data-query-input-text-color="#29557a" data-user-analytics-cookie-enabled="false" data-query-input-border-color="#211b0e" data-question-text-color="#0db1f9" data-answer-text-color="#000" data-thread-clear-button-bg-color="#000000" data-thread-clear-button-text-color="#FFFFFF" data-answer-feedback-button-bg-color="#000000" data-answer-feedback-button-text-color="#FFFFFF" data-answer-feedback-button-active-bg-color="#000000" data-answer-feedback-button-active-text-color="#FFFFFF" data-answer-copy-button-bg-color="#000000" data-answer-copy-button-text-color="#FFFFFF" data-example-question-button-text-color="#29557a" data-modal-disclaimer-bg-color="#f8f9fa" data-modal-disclaimer-text-color="#0db1f9" data-deep-thinking-button-bg-color="#0db1f9" data-deep-thinking-button-text-color="#FFFFFF" data-deep-thinking-button-active-bg-color="#0db1f9" data-deep-thinking-button-hover-bg-color="#FFFFFF" data-deep-thinking-button-active-hover-bg-color="#29557a" data-deep-thinking-button-active-text-color="#FFFFFF" async></script><link rel="stylesheet" href="/assets/css/styles.d6ec4c8f.css">
<script src="/assets/js/runtime~main.ea21b8a9.js" defer="defer"></script>
<script src="/assets/js/main.6a6cf09d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" role="banner"><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like <b>Apache Hudi</b>, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/apache/hudi"><b>GitHub!<svg xmlns="http://www.w3.org/2000/svg\" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 -2 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></b></a> ⭐</div></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarWrapper_j_uY"><div class="navbar__inner navbarInnerStyle_KoMw"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo navbarLogo_aghy"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/docs/overview">Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Learn</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/learn/tutorial-series">Tutorial Series</a></li><li><a class="dropdown__link" href="/talks">Talks</a></li><li><a class="dropdown__link" href="/blog">Blog</a></li><li><a class="dropdown__link" href="/videos">Video Guides</a></li><li><a class="dropdown__link" href="/faq">FAQ</a></li><li><a class="dropdown__link" href="/tech-specs">Tech Specs</a></li><li><a class="dropdown__link" href="/tech-specs-1point0">Tech Specs 1.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Contribute</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/contribute/developer-sync-call">Developer Sync Call</a></li><li><a class="dropdown__link" href="/contribute/how-to-contribute">How to Contribute</a></li><li><a class="dropdown__link" href="/contribute/developer-setup">Developer Setup</a></li><li><a class="dropdown__link" href="/contribute/rfc-process">RFC Process</a></li><li><a class="dropdown__link" href="/contribute/report-security-issues">Report Issues</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/community/get-involved">Get Involved</a></li><li><a class="dropdown__link" href="/community/syncs">Community Syncs</a></li><li><a class="dropdown__link" href="/community/office_hours">Office Hours</a></li><li><a class="dropdown__link" href="/community/team">Team</a></li><li><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="dropdown__link">Join Our Slack Space<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><a class="navbar__item navbar__link" href="/ecosystem">Ecosystem</a><a class="navbar__item navbar__link" href="/powered-by">Who&#x27;s Using</a><a class="navbar__item navbar__link" href="/roadmap">Roadmap</a><a class="navbar__item navbar__link" href="/releases/download">Download</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/overview">1.0.2</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/overview">Current</a></li><li><a class="dropdown__link" href="/docs/overview">1.0.2</a></li><li><a class="dropdown__link" href="/docs/1.0.1/overview">1.0.1</a></li><li><a class="dropdown__link" href="/docs/1.0.0/overview">1.0.0</a></li><li><a class="dropdown__link" href="/docs/0.15.0/overview">0.15.0</a></li><li><a class="dropdown__link" href="/docs/0.14.1/overview">0.14.1</a></li><li><a class="dropdown__link" href="/docs/0.14.0/overview">0.14.0</a></li></ul></div><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://x.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-twitter-link" aria-label="Hudi Twitter Handle"></a><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-slack-link" aria-label="Hudi Slack Channel"></a><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-youtube-link" aria-label="Hudi YouTube Channel"></a><a href="https://www.linkedin.com/company/apache-hudi/?viewAsMember=true" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-linkedin-link" aria-label="Hudi Linkedin Page"></a><div class="navbarSearchContainer_Bca1"><div><div role="button" class="searchButton_o6KI" aria-label="Search"><span class="searchText_sHOJ">Search</span><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 14 14"><circle cx="6.864" cy="6.864" r="5.243" stroke="#1C1E21" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></circle><path stroke="#1C1E21" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m10.51 10.783 2.056 2.05"></path></svg></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar navbarSideMenu_TODO"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><div class="navbar__logo navbarLogo_aghy"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><button type="button" aria-label="Close navigation bar" class="clean-btn navbar-sidebar__close"><svg viewBox="0 0 15 15" width="21" height="21"><g stroke="var(--ifm-color-emphasis-600)" stroke-width="1.2"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><div class="navbar-sidebar__items"><div class="navbar-sidebar__item menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/docs/overview">Docs</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Learn</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Contribute</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Community</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/ecosystem">Ecosystem</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/powered-by">Who&#x27;s Using</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/roadmap">Roadmap</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/releases/download">Download</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Versions</a></li><li class="menu__list-item"><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li><li class="menu__list-item"><a href="https://x.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="menu__link header-twitter-link" aria-label="Hudi Twitter Handle"></a></li><li class="menu__list-item"><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="menu__link header-slack-link" aria-label="Hudi Slack Channel"></a></li><li class="menu__list-item"><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="menu__link header-youtube-link" aria-label="Hudi YouTube Channel"></a></li><li class="menu__list-item"><a href="https://www.linkedin.com/company/apache-hudi/?viewAsMember=true" target="_blank" rel="noopener noreferrer" class="menu__link header-linkedin-link" aria-label="Hudi Linkedin Page"></a></li></ul></div><div class="navbar-sidebar__item menu"><button type="button" class="clean-btn navbar-sidebar__back">← Back to main menu</button></div></div></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_bSxm"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_cWv0"><aside class="theme-doc-sidebar-container docSidebarContainer_RSuS"><div class="sidebarViewport_pYEE"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/download"><span title="Download" class="linkLabel_WmDU">Download</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-1.0.2"><span title="Release 1.0.2" class="linkLabel_WmDU">Release 1.0.2</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-1.0.1"><span title="Release 1.0.1" class="linkLabel_WmDU">Release 1.0.1</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-1.0.0"><span title="Release 1.0.0" class="linkLabel_WmDU">Release 1.0.0</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-1.0.0-beta2"><span title="Release 1.0.0-beta2" class="linkLabel_WmDU">Release 1.0.0-beta2</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-1.0.0-beta1"><span title="Release 1.0.0-beta1" class="linkLabel_WmDU">Release 1.0.0-beta1</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/releases/release-0.15.0"><span title="Release 0.15.0" class="linkLabel_WmDU">Release 0.15.0</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-0.14.1"><span title="Release 0.14.1" class="linkLabel_WmDU">Release 0.14.1</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-0.14.0"><span title="Release 0.14.0" class="linkLabel_WmDU">Release 0.14.0</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_hjYf"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Release 0.15.0</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Release 0.15.0</h1></header><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="release-0150"><a href="https://github.com/apache/hudi/releases/tag/release-0.15.0" target="_blank" rel="noopener noreferrer" class="">Release 0.15.0</a><a href="#release-0150" class="hash-link" aria-label="Direct link to release-0150" title="Direct link to release-0150" translate="no">​</a></h2>
<p>Apache Hudi 0.15.0 release brings enhanced engine integration, new features, and improvements in several areas. These
include Spark 3.5 and Scala 2.13 support, Flink 1.18 support, better Trino Hudi native connector support with newly
introduced Hadoop-agnostic storage and I/O abstractions. We encourage users to review
the <a href="#release-highlights" class="">Release Highlights</a> and <a href="#migration-guide-overview" class="">Migration Guide</a> down below on
relevant <a href="#module-and-api-changes" class="">module and API changes</a> and
<a href="#behavior-changes" class="">behavior changes</a> before using the 0.15.0 release.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="migration-guide">Migration Guide<a href="#migration-guide" class="hash-link" aria-label="Direct link to Migration Guide" title="Direct link to Migration Guide" translate="no">​</a></h2>
<p>This release keeps the same table version (<code>6</code>) as <a class="" href="/releases/release-0.14.0">0.14.0 release</a>, and there is no need for
a table version upgrade if you are upgrading from 0.14.0. There are a
few <a href="#module-and-api-changes" class="">module and API changes</a>
and <a href="#behavior-changes" class="">behavior changes</a> as
described below, and users are expected to take action accordingly before using 0.15.0 release.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>If migrating from an older release (pre-0.14.0), please also check the upgrade instructions from each older release in
sequence.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="bundle-updates">Bundle Updates<a href="#bundle-updates" class="hash-link" aria-label="Direct link to Bundle Updates" title="Direct link to Bundle Updates" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-spark-bundles">New Spark Bundles<a href="#new-spark-bundles" class="hash-link" aria-label="Direct link to New Spark Bundles" title="Direct link to New Spark Bundles" translate="no">​</a></h4>
<p>We have expanded Hudi support to Spark 3.5 with two new bundles:</p>
<ul>
<li class="">Spark 3.5 and Scala
2.12: <a href="https://mvnrepository.com/artifact/org.apache.hudi/hudi-spark3.5-bundle_2.12" target="_blank" rel="noopener noreferrer" class="">hudi-spark3.5-bundle_2.12</a></li>
<li class="">Spark 3.5 and Scala
2.13: <a href="https://mvnrepository.com/artifact/org.apache.hudi/hudi-spark3.5-bundle_2.13" target="_blank" rel="noopener noreferrer" class="">hudi-spark3.5-bundle_2.13</a></li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-utilities-bundles-for-scala-213">New Utilities Bundles for Scala 2.13<a href="#new-utilities-bundles-for-scala-213" class="hash-link" aria-label="Direct link to New Utilities Bundles for Scala 2.13" title="Direct link to New Utilities Bundles for Scala 2.13" translate="no">​</a></h4>
<p>Besides adding a bundle for Spark 3.5 and Scala 2.13, we have added new utilities bundles to use with Scala
2.13, <a href="https://mvnrepository.com/artifact/org.apache.hudi/hudi-utilities-bundle_2.13" target="_blank" rel="noopener noreferrer" class="">hudi-utilities-bundle_2.13</a>
and <a href="https://mvnrepository.com/artifact/org.apache.hudi/hudi-utilities-slim-bundle_2.13" target="_blank" rel="noopener noreferrer" class="">hudi-utilities-slim-bundle_2.13</a>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-and-deprecated-flink-bundles">New and Deprecated Flink Bundles<a href="#new-and-deprecated-flink-bundles" class="hash-link" aria-label="Direct link to New and Deprecated Flink Bundles" title="Direct link to New and Deprecated Flink Bundles" translate="no">​</a></h4>
<p>We have expanded Hudi support to Flink 1.18 with a new
bundle, <a href="https://mvnrepository.com/artifact/org.apache.hudi/hudi-flink1.18-bundle" target="_blank" rel="noopener noreferrer" class="">hudi-flink1.18-bundle</a>. This release
removes Hudi support on Flink 1.13.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="module-and-api-changes">Module and API Changes<a href="#module-and-api-changes" class="hash-link" aria-label="Direct link to Module and API Changes" title="Direct link to Module and API Changes" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="hudi-storage-and-io-abstractions">Hudi Storage and I/O Abstractions<a href="#hudi-storage-and-io-abstractions" class="hash-link" aria-label="Direct link to Hudi Storage and I/O Abstractions" title="Direct link to Hudi Storage and I/O Abstractions" translate="no">​</a></h4>
<p>This release introduces new storage and I/O abstractions that are Hadoop-agnostic to improve integration with query
engines, including <a href="https://trino.io/" target="_blank" rel="noopener noreferrer" class="">Trino</a>, which uses its own native File System APIs. Core Hudi classes
including <a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-common/src/main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java" target="_blank" rel="noopener noreferrer" class=""><code>HoodieTableMetaClient</code></a>,
<a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-common/src/main/java/org/apache/hudi/common/model/HoodieBaseFile.java" target="_blank" rel="noopener noreferrer" class=""><code>HoodieBaseFile</code></a>,
<a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-common/src/main/java/org/apache/hudi/common/model/HoodieLogFile.java" target="_blank" rel="noopener noreferrer" class=""><code>HoodieLogFile</code></a>,
<a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-common/src/main/java/org/apache/hudi/common/engine/HoodieEngineContext.java" target="_blank" rel="noopener noreferrer" class=""><code>HoodieEngineContext</code></a>,
etc., now depend on new
storage and I/O classes. If you’re using these classes directly in your applications, you need to change your
integration code and usage. For more details, check out <a href="#hudi-storage-and-io-abstractions-1" class="">this section</a>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="module-changes">Module Changes<a href="#module-changes" class="hash-link" aria-label="Direct link to Module Changes" title="Direct link to Module Changes" translate="no">​</a></h4>
<p>As part of introducing new storage and I/O abstractions and making core reader logic Hadoop-agnostic, this release
restructures the Hudi modules to clearly reflect the layering. Specifically,</p>
<ul>
<li class=""><a href="https://github.com/apache/hudi/tree/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-io" target="_blank" rel="noopener noreferrer" class=""><code>hudi-io</code> module</a> is added
for I/O related functionality, and the Hudi-native HFile reader implementation sits inside this new module;</li>
<li class=""><a href="https://github.com/apache/hudi/tree/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-common" target="_blank" rel="noopener noreferrer" class=""><code>hudi-common</code> module</a>
contains the core
implementation of the <a href="https://hudi.apache.org/tech-specs" target="_blank" rel="noopener noreferrer" class="">Apache Hudi Technical Specification</a> and is now
Hadoop-independent;</li>
<li class=""><a href="https://github.com/apache/hudi/tree/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-hadoop-common" target="_blank" rel="noopener noreferrer" class=""><code>hudi-hadoop-common</code> module</a>
contains
implementation based on Hadoop file system APIs to be used
with <a href="https://github.com/apache/hudi/tree/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-common" target="_blank" rel="noopener noreferrer" class=""><code>hudi-common</code> module</a>
on engines
including Spark,
Flink, Hive, and Presto.</li>
</ul>
<p>If you
use <a href="https://github.com/apache/hudi/tree/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-common" target="_blank" rel="noopener noreferrer" class=""><code>hudi-common</code> module</a> as
the dependency before and Hadoop file system APIs and implementations, you should include all three
modules, <a href="https://github.com/apache/hudi/tree/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-io" target="_blank" rel="noopener noreferrer" class=""><code>hudi-io</code></a>, <a href="https://github.com/apache/hudi/tree/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-common" target="_blank" rel="noopener noreferrer" class=""><code>hudi-common</code></a>,
and <a href="https://github.com/apache/hudi/tree/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-hadoop-common" target="_blank" rel="noopener noreferrer" class=""><code>hudi-hadoop-common</code></a>,
as the dependency now. Note that, Presto and Trino will be released based on Hudi 0.15.0 release with such changes.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="lock-provider-api-change">Lock Provider API Change<a href="#lock-provider-api-change" class="hash-link" aria-label="Direct link to Lock Provider API Change" title="Direct link to Lock Provider API Change" translate="no">​</a></h4>
<p>The <a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-client/hudi-client-common/src/main/java/org/apache/hudi/client/transaction/lock/LockManager.java#L125" target="_blank" rel="noopener noreferrer" class=""><code>LockProvider</code></a>
instantiation now expects
the <a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-io/src/main/java/org/apache/hudi/storage/StorageConfiguration.java" target="_blank" rel="noopener noreferrer" class=""><code>StorageConfiguration</code></a>
instance as the second argument of the constructor. If you
extend <a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-common/src/main/java/org/apache/hudi/common/lock/LockProvider.java" target="_blank" rel="noopener noreferrer" class=""><code>LockProvider</code></a>
to implement a custom lock provider
before, you need to change the constructor to match the aforementioned constructor signature. Here&#x27;s an example:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">public class XYZLockProvider implements LockProvider&lt;String&gt;, Serializable {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public XYZLockProvider(final LockConfiguration lockConfiguration, final StorageConfiguration&lt;?&gt; conf) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="behavior-changes">Behavior Changes<a href="#behavior-changes" class="hash-link" aria-label="Direct link to Behavior Changes" title="Direct link to Behavior Changes" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="improving-cleaning-table-service">Improving Cleaning Table Service<a href="#improving-cleaning-table-service" class="hash-link" aria-label="Direct link to Improving Cleaning Table Service" title="Direct link to Improving Cleaning Table Service" translate="no">​</a></h4>
<p>We have improved the default cleaner behavior to only schedule a new cleaner plan if there is no inflight plan, by
flipping the default of <a class="" href="/docs/configurations#hoodiecleanallowmultiple"><code>hoodie.clean.allow.multiple</code></a> from <code>true</code>
to <code>false</code>. This simplifies cleaning table service when the metadata table is enabled. The config is deprecated now and
will be removed after the next release.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="allowing-duplicates-on-inserts">Allowing Duplicates on Inserts<a href="#allowing-duplicates-on-inserts" class="hash-link" aria-label="Direct link to Allowing Duplicates on Inserts" title="Direct link to Allowing Duplicates on Inserts" translate="no">​</a></h4>
<p>We now allow duplicate keys on <code>INSERT</code> operation by default, even if inserts are routed to merge with an existing
file (for ensuring file sizing), by flipping the default
of <a class="" href="/docs/configurations#hoodiemergeallowduplicateoninserts"><code>hoodie.merge.allow.duplicate.on.inserts</code></a> from <code>false</code>
to <code>true</code>. This is only relevant for <code>INSERT</code> operation, since <code>UPSERT</code>, and <code>DELETE</code> operations always ensure unique
key constraint.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sync-mor-snapshot-to-the-metastore">Sync MOR Snapshot to The Metastore<a href="#sync-mor-snapshot-to-the-metastore" class="hash-link" aria-label="Direct link to Sync MOR Snapshot to The Metastore" title="Direct link to Sync MOR Snapshot to The Metastore" translate="no">​</a></h4>
<p>To better support snapshot queries on MOR tables on OLAP engines, the MOR snapshot or RT is synced to the metastore with
the table name by default, by flipping the default
of <a class="" href="/docs/configurations#hoodiemetasyncsync_snapshot_with_table_name"><code>hoodie.meta.sync.sync_snapshot_with_table_name</code></a>
from <code>false</code>
to <code>true</code>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="flink-option-default-flips">Flink Option Default Flips<a href="#flink-option-default-flips" class="hash-link" aria-label="Direct link to Flink Option Default Flips" title="Direct link to Flink Option Default Flips" translate="no">​</a></h4>
<p>The default value of <a class="" href="/docs/configurations#readstreamingskip_clustering"><code>read.streaming.skip_clustering</code></a> is <code>false</code>
before this release, which could cause the situation that Flink streaming reading reads the replaced file slices of
clustering and duplicated data (same concern
for <a class="" href="/docs/configurations#readstreamingskip_compaction"><code>read.streaming.skip_compaction</code></a>). The
0.15.0 release makes Flink streaming read to skip clustering and compaction instants for all cases to avoid reading the
relevant file slices, by flipping the default
of <a class="" href="/docs/configurations#readstreamingskip_clustering"><code>read.streaming.skip_clustering</code></a>
and <a class="" href="/docs/configurations#readstreamingskip_compaction"><code>read.streaming.skip_compaction</code></a>
from <code>false</code> to <code>true</code>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="release-highlights">Release Highlights<a href="#release-highlights" class="hash-link" aria-label="Direct link to Release Highlights" title="Direct link to Release Highlights" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="hudi-storage-and-io-abstractions-1">Hudi Storage and I/O Abstractions<a href="#hudi-storage-and-io-abstractions-1" class="hash-link" aria-label="Direct link to Hudi Storage and I/O Abstractions" title="Direct link to Hudi Storage and I/O Abstractions" translate="no">​</a></h3>
<p>To provide better integration experience with query engines including <a href="https://trino.io/" target="_blank" rel="noopener noreferrer" class="">Trino</a> which uses its own
native File System APIs, this release introduces new storage and I/O abstractions that are Hadoop-agnostic.</p>
<p>To be specific, the release introduces Hudi storage
abstraction <a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-io/src/main/java/org/apache/hudi/storage/HoodieStorage.java" target="_blank" rel="noopener noreferrer" class=""><code>HoodieStorage</code></a>
which provides all I/O APIs to read and write files and directories on storage, such as <code>open</code>, <code>read</code>, etc. This class
can be extended to implement storage layer optimizations like caching, federated storage layout, hot/cold storage
separation, etc. This class needs to be implemented based on particular systems, such as
Hadoop’s <a href="https://hadoop.apache.org/docs/stable/api/org/apache/hadoop/fs/FileSystem.html" target="_blank" rel="noopener noreferrer" class=""><code>FileSystem</code></a> and
Trino’s <a href="https://github.com/trinodb/trino/blob/450/lib/trino-filesystem/src/main/java/io/trino/filesystem/TrinoFileSystem.java" target="_blank" rel="noopener noreferrer" class=""><code>TrinoFileSystem</code></a>.
Core classes are introduced for accessing file systems:</p>
<ul>
<li class=""><a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-io/src/main/java/org/apache/hudi/storage/StoragePath.java" target="_blank" rel="noopener noreferrer" class=""><code>StoragePath</code></a>:
represents a path of a file or directory on storage, which replaces
Hadoop&#x27;s <a href="https://hadoop.apache.org/docs/stable/api/org/apache/hadoop/fs/Path.html" target="_blank" rel="noopener noreferrer" class=""><code>Path</code></a>.</li>
<li class=""><a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-io/src/main/java/org/apache/hudi/storage/StoragePathInfo.java" target="_blank" rel="noopener noreferrer" class=""><code>StoragePathInfo</code></a>:
keeps the path, length, isDirectory, modification time, and other information which are used by Hudi, which replaces
Hadoop&#x27;s <a href="https://hadoop.apache.org/docs/stable/api/org/apache/hadoop/fs/FileStatus.html" target="_blank" rel="noopener noreferrer" class=""><code>FileStatus</code></a>.</li>
<li class=""><a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-io/src/main/java/org/apache/hudi/storage/StorageConfiguration.java" target="_blank" rel="noopener noreferrer" class=""><code>StorageConfiguration</code></a>:
provides the storage configuration by wrapping the particular configuration class object used by the corresponding
file system.</li>
</ul>
<p>The <a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieIOFactory.java" target="_blank" rel="noopener noreferrer" class=""><code>HoodieIOFactory</code></a>
abstraction is introduced to provide APIs to create readers and writers for I/O without depending on Hadoop classes.</p>
<p>By using the new storage and I/O abstractions, we make
the <a href="https://github.com/apache/hudi/tree/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-common" target="_blank" rel="noopener noreferrer" class=""><code>hudi-common</code> module</a> and
core reader logic in Hudi
Hadoop-independent in this release. We have introduced a
new <a href="https://github.com/apache/hudi/tree/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-hadoop-common" target="_blank" rel="noopener noreferrer" class=""><code>hudi-hadoop-common</code> module</a>
which contains
the implementation
of <a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-io/src/main/java/org/apache/hudi/storage/HoodieStorage.java" target="_blank" rel="noopener noreferrer" class=""><code>HoodieStorage</code></a>
and <a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieIOFactory.java" target="_blank" rel="noopener noreferrer" class=""><code>HoodieIOFactory</code></a>
based on Hadoop’s file system APIs and implementation, and
existing reader and writer logic that depends on Hadoop-dependent APIs.
The <a href="https://github.com/apache/hudi/tree/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-hadoop-common" target="_blank" rel="noopener noreferrer" class=""><code>hudi-hadoop-common</code> module</a>
is used by
Spark, Flink, Hive, and Presto integration where the logic remains unchanged.</p>
<p>For the engine that is independent of Hadoop, the integration should use
the <a href="https://github.com/apache/hudi/tree/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-common" target="_blank" rel="noopener noreferrer" class=""><code>hudi-common</code> module</a> and
plug in its own
implementation
of <a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-io/src/main/java/org/apache/hudi/storage/HoodieStorage.java" target="_blank" rel="noopener noreferrer" class=""><code>HoodieStorage</code></a>
and <a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-common/src/main/java/org/apache/hudi/io/storage/HoodieIOFactory.java" target="_blank" rel="noopener noreferrer" class=""><code>HoodieIOFactory</code></a>
by setting the new
configs <a class="" href="/docs/configurations#hoodiestorageclass"><code>hoodie.storage.class</code></a>
and <a class="" href="/docs/configurations#hoodieiofactoryclass"><code>hoodie.io.factory.class</code></a> through the storage configuration.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="engine-support">Engine Support<a href="#engine-support" class="hash-link" aria-label="Direct link to Engine Support" title="Direct link to Engine Support" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="spark-35-and-scala-213-support">Spark 3.5 and Scala 2.13 Support<a href="#spark-35-and-scala-213-support" class="hash-link" aria-label="Direct link to Spark 3.5 and Scala 2.13 Support" title="Direct link to Spark 3.5 and Scala 2.13 Support" translate="no">​</a></h4>
<p>This release has added the Spark 3.5 support and Scala 2.13 support; users who are on Spark 3.5 can use the new Spark
bundle based on the Scala
version: <a href="https://mvnrepository.com/artifact/org.apache.hudi/hudi-spark3.5-bundle_2.12" target="_blank" rel="noopener noreferrer" class="">hudi-spark3.5-bundle_2.12</a> and
<a href="https://mvnrepository.com/artifact/org.apache.hudi/hudi-spark3.5-bundle_2.13" target="_blank" rel="noopener noreferrer" class="">hudi-spark3.5-bundle_2.13</a>. Spark 3.4,
3.3, 3.2, 3.1, 3.0 and 2.4 continue to be supported in this release. To quickly get started with Hudi and Spark 3.5, you
can explore our <a class="" href="/docs/quick-start-guide">quick start guide</a>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="flink-118-support">Flink 1.18 Support<a href="#flink-118-support" class="hash-link" aria-label="Direct link to Flink 1.18 Support" title="Direct link to Flink 1.18 Support" translate="no">​</a></h4>
<p>This release has added the Flink 1.18 support with a new compile maven profile <code>flink1.18</code> and new Flink
bundle <a href="https://mvnrepository.com/artifact/org.apache.hudi/hudi-flink1.18-bundle" target="_blank" rel="noopener noreferrer" class="">hudi-flink1.18-bundle</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="hudi-native-hfile-reader">Hudi-Native HFile Reader<a href="#hudi-native-hfile-reader" class="hash-link" aria-label="Direct link to Hudi-Native HFile Reader" title="Direct link to Hudi-Native HFile Reader" translate="no">​</a></h3>
<p>Hudi uses <a href="https://hbase.apache.org/book.html#_hfile_format_2" target="_blank" rel="noopener noreferrer" class="">HFile format</a> as the base file format for storing various
metadata, e.g., file listing, column stats, and bloom filters, in the metadata table (MDT), as HFile format is optimized
for range scans and point lookups.  <a href="https://hbase.apache.org/book.html#_hfile_format_2" target="_blank" rel="noopener noreferrer" class="">HFile format</a> is originally
designed and implemented by <a href="https://hbase.apache.org/" target="_blank" rel="noopener noreferrer" class="">HBase</a>. To avoid HBase dependency conflict and make engine
integration easy with Hadoop-independent implementation, we have implemented a
new <a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-io/src/main/java/org/apache/hudi/io/hfile/HFileReaderImpl.java" target="_blank" rel="noopener noreferrer" class="">HFile reader in Java</a>
which is independent of HBase or Hadoop dependencies. This HFile reader is backwards compatible with existing Hudi
releases and storage format.</p>
<p>We have also written
a <a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-io/hfile_format.md" target="_blank" rel="noopener noreferrer" class="">HFile Format Specification</a>,
that defines
the HFile Format required by Hudi. This makes HFile reader and writer implementation possible in any language, for
example, C++ or Rust, by following this Spec.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-features-in-hudi-utilities">New Features in Hudi Utilities<a href="#new-features-in-hudi-utilities" class="hash-link" aria-label="Direct link to New Features in Hudi Utilities" title="Direct link to New Features in Hudi Utilities" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="streamcontext-and-sourceprofile-interfaces">StreamContext and SourceProfile Interfaces<a href="#streamcontext-and-sourceprofile-interfaces" class="hash-link" aria-label="Direct link to StreamContext and SourceProfile Interfaces" title="Direct link to StreamContext and SourceProfile Interfaces" translate="no">​</a></h4>
<p>For the Hudi streamer, we have introduced the
new <a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-utilities/src/main/java/org/apache/hudi/utilities/streamer/StreamContext.java" target="_blank" rel="noopener noreferrer" class=""><code>StreamContext</code></a>
and <a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-utilities/src/main/java/org/apache/hudi/utilities/streamer/SourceProfile.java" target="_blank" rel="noopener noreferrer" class=""><code>SourceProfile</code></a>
Interfaces. These are
designed to contain details about how the data should be consumed from the source and written (e.g., parallelism) in the
next sync round in StreamSync. This allows users to control the behavior and performance of source reading and data
writing to the target Hudi table.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="enhanced-proto-kafka-source-support">Enhanced Proto Kafka Source Support<a href="#enhanced-proto-kafka-source-support" class="hash-link" aria-label="Direct link to Enhanced Proto Kafka Source Support" title="Direct link to Enhanced Proto Kafka Source Support" translate="no">​</a></h4>
<p>We have added the support for deserializing with the Confluent proto deserializer, through a new
config <a class="" href="/docs/configurations#hoodiestreamersourcekafkaprotovaluedeserializerclass"><code>hoodie.streamer.source.kafka.proto.value.deserializer.class</code></a>
to specify the Kafka Proto payload deserializer
class.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ignoring-checkpoint-in-hudi-streamer">Ignoring Checkpoint in Hudi Streamer<a href="#ignoring-checkpoint-in-hudi-streamer" class="hash-link" aria-label="Direct link to Ignoring Checkpoint in Hudi Streamer" title="Direct link to Ignoring Checkpoint in Hudi Streamer" translate="no">​</a></h4>
<p>Hudi streamer has a new option, <code>--ignore-checkpoint</code>, to ignore the last committed checkpoint for the source. This
options should be set with a unique value, a timestamp value or UUID as recommended. Setting this config indicates that
the subsequent sync should ignore the last committed checkpoint for the source. The config value is stored in the commit
history, so setting the config with same values would not have any affect. This config can be used in scenarios like
kafka topic change where we would want to start ingesting from the latest or earliest offset after switching the topic
(in this case we would want to ignore the previously committed checkpoint, and rely on other configs to pick the
starting offset).</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="meta-sync-improvements">Meta Sync Improvements<a href="#meta-sync-improvements" class="hash-link" aria-label="Direct link to Meta Sync Improvements" title="Direct link to Meta Sync Improvements" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="paralleled-listing-in-glue-catalog-sync">Paralleled Listing in Glue Catalog Sync<a href="#paralleled-listing-in-glue-catalog-sync" class="hash-link" aria-label="Direct link to Paralleled Listing in Glue Catalog Sync" title="Direct link to Paralleled Listing in Glue Catalog Sync" translate="no">​</a></h4>
<p>AWS Glue Catalog sync now supports paralleled listing of partitions to improve the listing performance and reduce meta
sync latency. Three new configs are added to control the listing parallelism:</p>
<ul>
<li class=""><a class="" href="/docs/configurations#hoodiedatasourcemetasyncglueall_partitions_read_parallelism"><code>hoodie.datasource.meta.sync.glue.all_partitions_read_parallelism</code></a>:
parallelism for listing all partitions (first time sync).</li>
<li class=""><a class="" href="/docs/configurations#hoodiedatasourcemetasyncgluechanged_partitions_read_parallelism"><code>hoodie.datasource.meta.sync.glue.changed_partitions_read_parallelism</code></a>:
parallelism for listing changed partitions (second and subsequent syncs).</li>
<li class=""><a class="" href="/docs/configurations#hoodiedatasourcemetasyncgluepartition_change_parallelism"><code>hoodie.datasource.meta.sync.glue.partition_change_parallelism</code></a>:
parallelism for change operations such as create, update, and delete.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="bigquery-sync-optimization-with-metadata-table">BigQuery Sync Optimization with Metadata Table<a href="#bigquery-sync-optimization-with-metadata-table" class="hash-link" aria-label="Direct link to BigQuery Sync Optimization with Metadata Table" title="Direct link to BigQuery Sync Optimization with Metadata Table" translate="no">​</a></h4>
<p>The BigQuery Sync now loads all partitions from the metadata table once if the metadata table is enabled, to improve the
file listing performance.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="metrics-reporting-to-m3">Metrics Reporting to M3<a href="#metrics-reporting-to-m3" class="hash-link" aria-label="Direct link to Metrics Reporting to M3" title="Direct link to Metrics Reporting to M3" translate="no">​</a></h3>
<p>A new MetricsReporter
implementation <a href="https://github.com/apache/hudi/blob/38832854be37cb78ad1edd87f515f01ca5ea6a8a/hudi-common/src/main/java/org/apache/hudi/metrics/m3/M3MetricsReporter.java" target="_blank" rel="noopener noreferrer" class=""><code>M3MetricsReporter</code></a>
is added to support emitting metrics to <a href="https://m3db.io/" target="_blank" rel="noopener noreferrer" class="">M3</a>. Users can now enable reporting metrics to M3 by
setting <a class="" href="/docs/basic_configurations#hoodiemetricsreportertype"><code>hoodie.metrics.reporter.type</code></a> as <code>M3</code> and their
corresponding
host address and port in <a class="" href="/docs/basic_configurations#hoodiemetricsreportertype"><code>hoodie.metrics.m3.host</code></a>
and <a class="" href="/docs/basic_configurations#hoodiemetricsm3port"><code>hoodie.metrics.m3.port</code></a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="other-features-and-improvements">Other Features and Improvements<a href="#other-features-and-improvements" class="hash-link" aria-label="Direct link to Other Features and Improvements" title="Direct link to Other Features and Improvements" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="schema-exception-classification">Schema Exception Classification<a href="#schema-exception-classification" class="hash-link" aria-label="Direct link to Schema Exception Classification" title="Direct link to Schema Exception Classification" translate="no">​</a></h4>
<p>This release introduces the classification of schema-related
exceptions (<a href="https://issues.apache.org/jira/browse/HUDI-7486" target="_blank" rel="noopener noreferrer" class="">HUDI-7486</a>) to make it easy for users to
understand the root cause, including the errors during converting the records from Avro to Spark Row due to illegal
schema, or the records are incompatible with the provided schema.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="record-size-estimation-improvement">Record Size Estimation Improvement<a href="#record-size-estimation-improvement" class="hash-link" aria-label="Direct link to Record Size Estimation Improvement" title="Direct link to Record Size Estimation Improvement" translate="no">​</a></h4>
<p>The record size estimation in Hudi is improved by considering replace commits and delta commits additionally
(<a href="https://issues.apache.org/jira/browse/HUDI-7429" target="_blank" rel="noopener noreferrer" class="">HUDI-7429</a>).</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-s3-scheme-for-athena">Using <code>s3</code> Scheme for Athena<a href="#using-s3-scheme-for-athena" class="hash-link" aria-label="Direct link to using-s3-scheme-for-athena" title="Direct link to using-s3-scheme-for-athena" translate="no">​</a></h4>
<p>Recent Athena version silently drops Hudi data when the partition location has a <code>s3a</code> scheme. Recreating the table with
partition <code>s3</code> scheme fixes the issue. We have added a fix to use <code>s3</code> scheme for the Hudi table partitions in AWS Glue
Catalog sync (<a href="https://issues.apache.org/jira/browse/HUDI-7362" target="_blank" rel="noopener noreferrer" class="">HUDI-7362</a>).</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="known-regressions">Known Regressions<a href="#known-regressions" class="hash-link" aria-label="Direct link to Known Regressions" title="Direct link to Known Regressions" translate="no">​</a></h2>
<p>The Hudi 0.15.0 release introduces a regression related to Complex Key generation when the record key consists of a
single field. This issue was also present in version 0.14.1. When upgrading a table from previous versions,
it may silently ingest duplicate records.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Avoid upgrading any existing table to 0.14.1 and 0.15.0 from any prior version if you are using ComplexKeyGenerator with single field as record key and multiple partition fields.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="raw-release-notes">Raw Release Notes<a href="#raw-release-notes" class="hash-link" aria-label="Direct link to Raw Release Notes" title="Direct link to Raw Release Notes" translate="no">​</a></h2>
<p>The raw release notes are
available <a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12322822&amp;version=12353381" target="_blank" rel="noopener noreferrer" class="">here</a>.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/releases/release-1.0.0-beta1"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Release 1.0.0-beta1</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/releases/release-0.14.1"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Release 0.14.1</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#release-0150" class="table-of-contents__link toc-highlight">Release 0.15.0</a></li><li><a href="#migration-guide" class="table-of-contents__link toc-highlight">Migration Guide</a><ul><li><a href="#bundle-updates" class="table-of-contents__link toc-highlight">Bundle Updates</a></li><li><a href="#module-and-api-changes" class="table-of-contents__link toc-highlight">Module and API Changes</a></li><li><a href="#behavior-changes" class="table-of-contents__link toc-highlight">Behavior Changes</a></li></ul></li><li><a href="#release-highlights" class="table-of-contents__link toc-highlight">Release Highlights</a><ul><li><a href="#hudi-storage-and-io-abstractions-1" class="table-of-contents__link toc-highlight">Hudi Storage and I/O Abstractions</a></li><li><a href="#engine-support" class="table-of-contents__link toc-highlight">Engine Support</a></li><li><a href="#hudi-native-hfile-reader" class="table-of-contents__link toc-highlight">Hudi-Native HFile Reader</a></li><li><a href="#new-features-in-hudi-utilities" class="table-of-contents__link toc-highlight">New Features in Hudi Utilities</a></li><li><a href="#meta-sync-improvements" class="table-of-contents__link toc-highlight">Meta Sync Improvements</a></li><li><a href="#metrics-reporting-to-m3" class="table-of-contents__link toc-highlight">Metrics Reporting to M3</a></li><li><a href="#other-features-and-improvements" class="table-of-contents__link toc-highlight">Other Features and Improvements</a></li></ul></li><li><a href="#known-regressions" class="table-of-contents__link toc-highlight">Known Regressions</a></li><li><a href="#raw-release-notes" class="table-of-contents__link toc-highlight">Raw Release Notes</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">About</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog/2021/07/21/streaming-data-lake-platform">Our Vision</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts">Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/community/team">Team</a></li><li class="footer__item"><a class="footer__link-item" href="/releases/release-1.0.2">Releases</a></li><li class="footer__item"><a class="footer__link-item" href="/releases/download">Download</a></li><li class="footer__item"><a class="footer__link-item" href="/powered-by">Who&#x27;s Using</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/quick-start-guide">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/tutorial-series">Tutorial Series</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/talks">Talks</a></li><li class="footer__item"><a class="footer__link-item" href="/videos">Video Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/faq">FAQ</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Hudi On Cloud</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/s3_hoodie">AWS</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/gcs_hoodie">Google Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/oss_hoodie">Alibaba Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/azure_hoodie">Microsoft Azure</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cos_hoodie">Tencent Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/ibm_cos_hoodie">IBM Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/oci_hoodie">Oracle Cloud</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community/get-involved">Get Involved</a></li><li class="footer__item"><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/apache-hudi/?viewAsMember=true" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="mailto:dev-subscribe@hudi.apache.org?Subject=SubscribeToHudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mailing List</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Apache</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks</a></li><li class="footer__item"><a href="https://www.apache.org/licenses" target="_blank" rel="noopener noreferrer" class="footer__link-item">License</a></li><li class="footer__item"><a href="https://www.apache.org/security" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security</a></li><li class="footer__item"><a class="footer__link-item" href="/asf/privacy">Privacy</a></li><li class="footer__item"><a class="footer__link-item" href="/asf/telemetry">Telemetry</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship</a></li><li class="footer__item"><a href="https://www.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foundation</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://hudi.apache.org/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/assets/images/logo-big.png" alt="Apache Hudi™" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/assets/images/logo-big.png" alt="Apache Hudi™" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Copyright © 2021 <a href="https://apache.org">The Apache Software Foundation</a>, Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0"> Apache License, Version 2.0</a>. <br>Hudi, Apache and the Apache feather logo are trademarks of The Apache Software Foundation.<img referrerpolicy="no-referrer-when-downgrade" src="https://static.scarf.sh/a.png?x-pxid=8f594acf-9b77-44fb-9475-3e82ead1910c"><img referrerpolicy="no-referrer-when-downgrade" src="https://analytics.apache.org/matomo.php?idsite=47&amp;rec=1"></div></div></div></footer></div>
</body>
</html>