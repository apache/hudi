<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-releases docs-version-current docs-doc-page docs-doc-id-release-0.13.0" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Release 0.13.0 | Apache Hudi</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hudi.apache.org/releases/release-0.13.0"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="cn"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="apache hudi, data lake, lakehouse, big data, apache spark, apache flink, presto, trino, analytics, data engineering"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-releases-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-releases-current"><meta data-rh="true" property="og:title" content="Release 0.13.0 | Apache Hudi"><meta data-rh="true" name="description" content="Release 0.13.0 (docs)"><meta data-rh="true" property="og:description" content="Release 0.13.0 (docs)"><link data-rh="true" rel="icon" href="/assets/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://hudi.apache.org/releases/release-0.13.0"><link data-rh="true" rel="alternate" href="https://hudi.apache.org/releases/release-0.13.0" hreflang="en"><link data-rh="true" rel="alternate" href="https://hudi.apache.org/cn/releases/release-0.13.0" hreflang="cn"><link data-rh="true" rel="alternate" href="https://hudi.apache.org/releases/release-0.13.0" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Release 0.13.0","item":"https://hudi.apache.org/releases/release-0.13.0"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Hudi: User-Facing Analytics RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Hudi: User-Facing Analytics Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Apache Hudi: User-Facing Analytics JSON Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Apache Hudi" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/videos/rss.xml" title="Apache Hudi RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/videos/atom.xml" title="Apache Hudi Atom Feed">





<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comfortaa|Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">
<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="9e4444ba-93cc-45ea-b143-783ae0fbeb6f" data-project-name="Apache Hudi" data-project-color="#FFFFFF" data-project-logo="https://hudi.apache.org/assets/images/logo-big.png" data-modal-disclaimer="This AI assistant answers Apache Hudi questions using your [documentation](https://hudi.apache.org/docs/quick-start-guide/), [dev setup](https://hudi.apache.org/contribute/developer-setup/), the [tech specs](https://hudi.apache.org/tech-specs-1point0/) and open GitHub Issues from the last year." data-modal-title="Apache Hudi AI Assistant" data-modal-example-questions-title="Try asking me..." data-modal-example-questions="How can I convert an existing COW table to MOR?,How do I set up incremental queries with Hudi tables?" data-modal-image="https://hudi.apache.org/assets/images/logo-big-2.png" data-modal-image-ask-ai="https://hudi.apache.org/assets/images/logo-big-2.png" data-modal-header-min-height="64px" data-modal-image-height="40" data-modal-image-width="40" data-modal-header-bg-color="#ffffff" data-modal-title-color="rgb(13, 177, 249)" data-button-text-color="rgb(41, 85, 122)" data-button-text="Ask AI" data-consent-required="true" data-consent-screen-title="Help us improve our AI assistant" data-consent-screen-disclaimer="By clicking &amp;quot;Allow tracking&amp;quot;, you consent to the use of the AI assistant in accordance with kapa.ai&#39;s [Privacy Policy](https://www.kapa.ai/content/privacy-policy). This service uses reCAPTCHA, which requires your consent to Google&#39;s [Privacy Policy](https://policies.google.com/privacy) and [Terms of Service](https://policies.google.com/terms). By proceeding, you explicitly agree to both kapa.ai&#39;s and Google&#39;s privacy policies." data-consent-screen-accept-button-text="Allow tracking" data-query-input-placeholder-text-color="rgb(41, 85, 122)" data-submit-query-button-bg-color="#000" data-user-analytics-cookie-enabled="false" async></script><link rel="stylesheet" href="/assets/css/styles.d44ac021.css">
<script src="/assets/js/runtime~main.f3ea8629.js" defer="defer"></script>
<script src="/assets/js/main.6450af5c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" role="banner"><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like <b>Apache Hudi</b>, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/apache/hudi"><b>GitHub!<svg xmlns="http://www.w3.org/2000/svg\" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 -2 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></b></a> ⭐</div></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarWrapper_j_uY"><div class="navbar__inner navbarInnerStyle_KoMw"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo navbarLogo_aghy"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/docs/overview">Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Learn</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/learn/tutorial-series">Tutorial Series</a></li><li><a class="dropdown__link" href="/talks">Talks</a></li><li><a class="dropdown__link" href="/videos">Video Guides</a></li><li><a class="dropdown__link" href="/docs/faq">FAQ</a></li><li><a class="dropdown__link" href="/tech-specs">Tech Specs</a></li><li><a class="dropdown__link" href="/tech-specs-1point0">Tech Specs 1.0</a></li><li><a href="https://cwiki.apache.org/confluence/display/HUDI" target="_blank" rel="noopener noreferrer" class="dropdown__link">Technical Wiki<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Contribute</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/contribute/developer-sync-call">Developer Sync Call</a></li><li><a class="dropdown__link" href="/contribute/how-to-contribute">How to Contribute</a></li><li><a class="dropdown__link" href="/contribute/developer-setup">Developer Setup</a></li><li><a class="dropdown__link" href="/contribute/rfc-process">RFC Process</a></li><li><a class="dropdown__link" href="/contribute/report-security-issues">Report Security Issues</a></li><li><a href="https://issues.apache.org/jira/projects/HUDI/summary" target="_blank" rel="noopener noreferrer" class="dropdown__link">Report Issues<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/community/get-involved">Get Involved</a></li><li><a class="dropdown__link" href="/community/syncs">Community Syncs</a></li><li><a class="dropdown__link" href="/community/office_hours">Office Hours</a></li><li><a class="dropdown__link" href="/community/team">Team</a></li><li><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="dropdown__link">Join Our Slack Space<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><a class="navbar__item navbar__link" href="/ecosystem">Ecosystem</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/powered-by">Who&#x27;s Using</a><a class="navbar__item navbar__link" href="/roadmap">Roadmap</a><a class="navbar__item navbar__link" href="/releases/download">Download</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/overview">1.0.2</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/overview">Current</a></li><li><a class="dropdown__link" href="/docs/overview">1.0.2</a></li><li><a class="dropdown__link" href="/docs/1.0.1/overview">1.0.1</a></li><li><a class="dropdown__link" href="/docs/1.0.0/overview">1.0.0</a></li><li><a class="dropdown__link" href="/docs/0.15.0/overview">0.15.0</a></li><li><a class="dropdown__link" href="/docs/0.14.1/overview">0.14.1</a></li><li><a class="dropdown__link" href="/docs/0.14.0/overview">0.14.0</a></li><li><a class="dropdown__link" href="/docs/0.13.1/overview">0.13.1</a></li><li><a class="dropdown__link" href="/docs/0.13.0/overview">0.13.0</a></li><li><a class="dropdown__link" href="/docs/0.12.3/overview">0.12.3</a></li><li><a class="dropdown__link" href="/docs/0.12.2/overview">0.12.2</a></li><li><a class="dropdown__link" href="/docs/0.12.1/overview">0.12.1</a></li><li><a class="dropdown__link" href="/docs/0.12.0/overview">0.12.0</a></li><li><a class="dropdown__link" href="/docs/0.11.1/overview">0.11.1</a></li><li><a class="dropdown__link" href="/docs/0.11.0/overview">0.11.0</a></li><li><a class="dropdown__link" href="/docs/0.10.1/overview">0.10.1</a></li><li><a class="dropdown__link" href="/docs/0.10.0/overview">0.10.0</a></li><li><a class="dropdown__link" href="/docs/0.9.0/overview">0.9.0</a></li><li><a class="dropdown__link" href="/docs/0.8.0/overview">0.8.0</a></li><li><a class="dropdown__link" href="/docs/0.7.0/overview">0.7.0</a></li><li><a class="dropdown__link" href="/docs/0.6.0/quick-start-guide">0.6.0</a></li><li><a class="dropdown__link" href="/docs/0.5.3/quick-start-guide">0.5.3</a></li><li><a class="dropdown__link" href="/docs/0.5.2/quick-start-guide">0.5.2</a></li><li><a class="dropdown__link" href="/docs/0.5.1/quick-start-guide">0.5.1</a></li><li><a class="dropdown__link" href="/docs/0.5.0/quick-start-guide">0.5.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link locale-dropdown-wrapper"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 14 14" class="globeIcon_RxQM"><g clip-path="url(#a)"><path fill="#1C1E21" d="M14 6.457a6.84 6.84 0 0 0-7-6.02 6.843 6.843 0 0 0-7 6.02v1.085a6.843 6.843 0 0 0 7 6.02 6.843 6.843 0 0 0 7-6.02zm-1.094 0h-2.625a10 10 0 0 0-.376-2.222 6.7 6.7 0 0 0 1.531-.875 5.25 5.25 0 0 1 1.444 3.097zm-8.032 0a8.5 8.5 0 0 1 .324-1.872 7.4 7.4 0 0 0 3.63 0c.175.61.284 1.239.325 1.872zm4.305 1.085a8.4 8.4 0 0 1-.324 1.873 7.46 7.46 0 0 0-3.658 0 8.5 8.5 0 0 1-.323-1.873zm.35-4.375A10.3 10.3 0 0 0 8.75 1.75c.627.194 1.218.49 1.75.875a5.8 5.8 0 0 1-.998.577zM7.254 1.54A8.8 8.8 0 0 1 8.46 3.552c-.48.11-.97.165-1.461.167-.492-.001-.982-.057-1.461-.167.308-.722.715-1.4 1.207-2.012zM4.498 3.202a5.8 5.8 0 0 1-.998-.577 6 6 0 0 1 1.75-.875c-.294.46-.546.947-.753 1.452m-1.873.15c.47.358.984.652 1.531.874A9.6 9.6 0 0 0 3.78 6.45H1.155a5.25 5.25 0 0 1 1.47-3.098M1.12 7.541h2.625c.038.753.164 1.5.376 2.223a6.7 6.7 0 0 0-1.531.875 5.25 5.25 0 0 1-1.47-3.098m3.377 3.255q.311.76.753 1.453a6 6 0 0 1-1.75-.875q.47-.34.997-.578m2.25 1.663a8.6 8.6 0 0 1-1.208-2.013 6.5 6.5 0 0 1 2.922 0 8.5 8.5 0 0 1-1.207 2.013zm2.755-1.663q.552.235 1.042.578a6.3 6.3 0 0 1-1.75.875q.413-.697.708-1.453m1.873-.148a6.7 6.7 0 0 0-1.531-.875 9.5 9.5 0 0 0 .376-2.223h2.625a5.25 5.25 0 0 1-1.47 3.098"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h14v14H0z"></path></clipPath></defs></svg></a><ul class="dropdown__menu"><li><a href="/releases/release-0.13.0" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/cn/releases/release-0.13.0" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="cn">Chinese</a></li></ul></div><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://twitter.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-twitter-link" aria-label="Hudi Twitter Handle"></a><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-slack-link" aria-label="Hudi Slack Channel"></a><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-youtube-link" aria-label="Hudi YouTube Channel"></a><a href="https://www.linkedin.com/company/apache-hudi/?viewAsMember=true" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-linkedin-link" aria-label="Hudi Linkedin Page"></a><div class="navbarSearchContainer_Bca1"><div><div role="button" class="searchButton_o6KI" aria-label="Search"><span class="searchText_sHOJ">Search</span><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 14 14"><circle cx="6.864" cy="6.864" r="5.243" stroke="#1C1E21" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></circle><path stroke="#1C1E21" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m10.51 10.783 2.056 2.05"></path></svg></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar navbarSideMenu_TODO"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><div class="navbar__logo navbarLogo_aghy"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><button type="button" aria-label="Close navigation bar" class="clean-btn navbar-sidebar__close"><svg viewBox="0 0 15 15" width="21" height="21"><g stroke="var(--ifm-color-emphasis-600)" stroke-width="1.2"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><div class="navbar-sidebar__items"><div class="navbar-sidebar__item menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/docs/overview">Docs</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Learn</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Contribute</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Community</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/ecosystem">Ecosystem</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/powered-by">Who&#x27;s Using</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/roadmap">Roadmap</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/releases/download">Download</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Versions</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret locale-dropdown-wrapper"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Languages<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 14 14" class="globeIcon_RxQM"><g clip-path="url(#a)"><path fill="#1C1E21" d="M14 6.457a6.84 6.84 0 0 0-7-6.02 6.843 6.843 0 0 0-7 6.02v1.085a6.843 6.843 0 0 0 7 6.02 6.843 6.843 0 0 0 7-6.02zm-1.094 0h-2.625a10 10 0 0 0-.376-2.222 6.7 6.7 0 0 0 1.531-.875 5.25 5.25 0 0 1 1.444 3.097zm-8.032 0a8.5 8.5 0 0 1 .324-1.872 7.4 7.4 0 0 0 3.63 0c.175.61.284 1.239.325 1.872zm4.305 1.085a8.4 8.4 0 0 1-.324 1.873 7.46 7.46 0 0 0-3.658 0 8.5 8.5 0 0 1-.323-1.873zm.35-4.375A10.3 10.3 0 0 0 8.75 1.75c.627.194 1.218.49 1.75.875a5.8 5.8 0 0 1-.998.577zM7.254 1.54A8.8 8.8 0 0 1 8.46 3.552c-.48.11-.97.165-1.461.167-.492-.001-.982-.057-1.461-.167.308-.722.715-1.4 1.207-2.012zM4.498 3.202a5.8 5.8 0 0 1-.998-.577 6 6 0 0 1 1.75-.875c-.294.46-.546.947-.753 1.452m-1.873.15c.47.358.984.652 1.531.874A9.6 9.6 0 0 0 3.78 6.45H1.155a5.25 5.25 0 0 1 1.47-3.098M1.12 7.541h2.625c.038.753.164 1.5.376 2.223a6.7 6.7 0 0 0-1.531.875 5.25 5.25 0 0 1-1.47-3.098m3.377 3.255q.311.76.753 1.453a6 6 0 0 1-1.75-.875q.47-.34.997-.578m2.25 1.663a8.6 8.6 0 0 1-1.208-2.013 6.5 6.5 0 0 1 2.922 0 8.5 8.5 0 0 1-1.207 2.013zm2.755-1.663q.552.235 1.042.578a6.3 6.3 0 0 1-1.75.875q.413-.697.708-1.453m1.873-.148a6.7 6.7 0 0 0-1.531-.875 9.5 9.5 0 0 0 .376-2.223h2.625a5.25 5.25 0 0 1-1.47 3.098"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h14v14H0z"></path></clipPath></defs></svg></a></li><li class="menu__list-item"><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li><li class="menu__list-item"><a href="https://twitter.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="menu__link header-twitter-link" aria-label="Hudi Twitter Handle"></a></li><li class="menu__list-item"><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="menu__link header-slack-link" aria-label="Hudi Slack Channel"></a></li><li class="menu__list-item"><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="menu__link header-youtube-link" aria-label="Hudi YouTube Channel"></a></li><li class="menu__list-item"><a href="https://www.linkedin.com/company/apache-hudi/?viewAsMember=true" target="_blank" rel="noopener noreferrer" class="menu__link header-linkedin-link" aria-label="Hudi Linkedin Page"></a></li></ul></div><div class="navbar-sidebar__item menu"><button type="button" class="clean-btn navbar-sidebar__back">← Back to main menu</button></div></div></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_bSxm"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_cWv0"><aside class="theme-doc-sidebar-container docSidebarContainer_RSuS"><div class="sidebarViewport_pYEE"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/download">Download</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-1.0.2">Release 1.0.2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-1.0.1">Release 1.0.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-1.0.0">Release 1.0.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-0.15.0">Release 0.15.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-0.14.1">Release 0.14.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-1.0.0-beta2">Release 1.0.0-beta2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-1.0.0-beta1">Release 1.0.0-beta1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-0.14.0">Release 0.14.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-0.13.1">Release 0.13.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-0.12.3">Release 0.12.3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/releases/release-0.13.0">Release 0.13.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-0.12.2">Release 0.12.2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-0.12.1">Release 0.12.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-0.12.0">Release 0.12.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-0.11.1">Release 0.11.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-0.11.0">Release 0.11.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-0.10.1">Release 0.10.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-0.10.0">Release 0.10.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-0.9.0">Release 0.9.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-0.8.0">Release 0.8.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-0.7.0">Release 0.7.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/release-0.6.0">Release 0.6.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/releases/older-releases">Older Releases</a></li></ul></nav></div></div></aside><main class="docMainContainer_hjYf"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Release 0.13.0</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Release 0.13.0</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="release-0130-docs"><a href="https://github.com/apache/hudi/releases/tag/release-0.13.0" target="_blank" rel="noopener noreferrer">Release 0.13.0</a> (<a href="/docs/quick-start-guide">docs</a>)<a href="#release-0130-docs" class="hash-link" aria-label="Direct link to release-0130-docs" title="Direct link to release-0130-docs">​</a></h2>
<p>Apache Hudi 0.13.0 release introduces a number of new features including <a href="#metaserver">Metaserver</a>,
<a href="#change-data-capture">Change Data Capture</a>, <a href="#optimizing-record-payload-handling">new Record Merge API</a>,
<a href="#new-source-support-in-deltastreamer">new sources for Deltastreamer</a> and more.  While there is no table version upgrade
required for this release, users are expected to take actions by following the <a href="#migration-guide-overview">Migration Guide</a>
down below on relevant <a href="#migration-guide-breaking-changes">breaking changes</a> and
<a href="#migration-guide-behavior-changes">behavior changes</a> before using 0.13.0 release.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="migration-guide-overview">Migration Guide: Overview<a href="#migration-guide-overview" class="hash-link" aria-label="Direct link to Migration Guide: Overview" title="Direct link to Migration Guide: Overview">​</a></h2>
<p>This release keeps the same table version (<code>5</code>) as <a href="/releases/release-0.12.0">0.12.0 release</a>, and there is no need for
a table version upgrade if you are upgrading from 0.12.0.  There are a few
<a href="#migration-guide-breaking-changes">breaking changes</a> and <a href="#migration-guide-behavior-changes">behavior changes</a> as
described below, and users are expected to take action accordingly before using 0.13.0 release.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>If migrating from an older release (pre 0.12.0), please also check the upgrade instructions from each older release in
sequence.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="migration-guide-breaking-changes">Migration Guide: Breaking Changes<a href="#migration-guide-breaking-changes" class="hash-link" aria-label="Direct link to Migration Guide: Breaking Changes" title="Direct link to Migration Guide: Breaking Changes">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bundle-updates">Bundle Updates<a href="#bundle-updates" class="hash-link" aria-label="Direct link to Bundle Updates" title="Direct link to Bundle Updates">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="spark-bundle-support">Spark bundle Support<a href="#spark-bundle-support" class="hash-link" aria-label="Direct link to Spark bundle Support" title="Direct link to Spark bundle Support">​</a></h4>
<p>From now on, <a href="https://mvnrepository.com/artifact/org.apache.hudi/hudi-spark3.2-bundle" target="_blank" rel="noopener noreferrer"><code>hudi-spark3.2-bundle</code></a> works
with Apache Spark 3.2.1 and newer versions for Spark 3.2.x.  The support for Spark 3.2.0 with
<a href="https://mvnrepository.com/artifact/org.apache.hudi/hudi-spark3.2-bundle" target="_blank" rel="noopener noreferrer"><code>hudi-spark3.2-bundle</code></a> is
dropped because of the Spark implementation change of <code>getHive</code> method of <code>HiveClientImpl</code> which is incompatible between
Spark version 3.2.0 and 3.2.1.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="utilities-bundle-change">Utilities Bundle Change<a href="#utilities-bundle-change" class="hash-link" aria-label="Direct link to Utilities Bundle Change" title="Direct link to Utilities Bundle Change">​</a></h4>
<p>The AWS and GCP bundle jars are separated from
<a href="https://mvnrepository.com/artifact/org.apache.hudi/hudi-utilities-bundle" target="_blank" rel="noopener noreferrer"><code>hudi-utilities-bundle</code></a>. The user would need
to use <a href="https://mvnrepository.com/artifact/org.apache.hudi/hudi-aws-bundle" target="_blank" rel="noopener noreferrer"><strong><code>hudi-aws-bundle</code></strong></a> or
<a href="https://mvnrepository.com/artifact/org.apache.hudi/hudi-gcp-bundle" target="_blank" rel="noopener noreferrer"><strong><code>hudi-gcp-bundle</code></strong></a> along with
<a href="https://mvnrepository.com/artifact/org.apache.hudi/hudi-utilities-bundle" target="_blank" rel="noopener noreferrer"><code>hudi-utilities-bundle</code></a> while using the
cloud services.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="new-flink-bundle">New Flink Bundle<a href="#new-flink-bundle" class="hash-link" aria-label="Direct link to New Flink Bundle" title="Direct link to New Flink Bundle">​</a></h4>
<p>Hudi is now supported on Flink 1.16.x with the new
<a href="https://mvnrepository.com/artifact/org.apache.hudi/hudi-flink1.16-bundle" target="_blank" rel="noopener noreferrer"><code>hudi-flink1.16-bundle</code></a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lazy-file-index-in-spark">Lazy File Index in Spark<a href="#lazy-file-index-in-spark" class="hash-link" aria-label="Direct link to Lazy File Index in Spark" title="Direct link to Lazy File Index in Spark">​</a></h3>
<p>Hudi&#x27;s File Index in Spark is switched to be listed lazily <em><strong>by default</strong></em>: this entails that it would <strong>only</strong> be listing
partitions that are requested by the query (i.e., after partition-pruning) as opposed to always listing the whole table
before this release. This is expected to bring considerable performance improvement for large tables.</p>
<p>A new configuration property is added if the user wants to change the listing behavior:
<code>hoodie.datasource.read.file.index.listing.mode</code> (now default to <strong><code>lazy</code></strong>). There are two possible values that you can
set:</p>
<ul>
<li>
<p><strong><code>eager</code></strong>: This lists all partition paths and corresponding file slices within them eagerly, during initialization.
This is the default behavior prior 0.13.0.</p>
<ul>
<li>If a Hudi table has 1000 partitions, the eager mode lists the files under all of them when constructing the file index.</li>
</ul>
</li>
<li>
<p><strong><code>lazy</code></strong>: The partitions and file-slices within them will be listed lazily, allowing partition pruning predicates to
be pushed down appropriately, therefore only listing partitions after these have already been pruned.</p>
<ul>
<li>The files are not listed under the partitions when the File Index is initialized. The files are listed only under
targeted partition(s) after partition pruning using predicates (e.g., <code>datestr=2023-02-19</code>) in queries.</li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>To preserve the behavior pre 0.13.0, the user needs to set <code>hoodie.datasource.read.file.index.listing.mode=eager</code>.</p></div></div>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Breaking Change</div><div class="admonitionContent_BuS1"><p>The <strong>breaking change</strong> occurs only in cases when the table has <strong>BOTH</strong>: multiple partition columns AND partition
values contain slashes that are not URL-encoded.</p></div></div>
<p>For example let&#x27;s assume we want to parse two partition columns - <code>month</code> (<code>2022/01</code>) and <code>day</code> (<code>03</code>), from the
partition path <code>2022/01/03</code>. Since there is a mismatch between the number of partition columns (2 here - <code>month</code> and
<code>day</code>) and the number of components in the partition path delimited by <code>/</code> (3 in this case - month, year and day) it
causes ambiguity. In such cases, it is not possible to recover the partition value corresponding to each partition column.</p>
<p>There are two ways to <strong>avoid</strong> the breaking changes:</p>
<ul>
<li>
<p>The first option is to change how partition values are constructed. A user can switch the partition value of column
<code>month</code> to avoid slashes in any partition column values, such as <code>202201</code>, then there is no problem parsing the
partition path (<code>202201/03</code>).</p>
</li>
<li>
<p>The second option is to switch the listing mode to <code>eager</code>.  The File Index would &quot;gracefully regress&quot; to assume the
table is non-partitioned and just sacrifice partition-pruning, but would be able to process the query as if the
table was non-partitioned (therefore potentially incurring performance penalty), instead of failing the queries.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="checkpoint-management-in-spark-structured-streaming">Checkpoint Management in Spark Structured Streaming<a href="#checkpoint-management-in-spark-structured-streaming" class="hash-link" aria-label="Direct link to Checkpoint Management in Spark Structured Streaming" title="Direct link to Checkpoint Management in Spark Structured Streaming">​</a></h3>
<p>If you are using <a href="https://spark.apache.org/docs/3.3.2/structured-streaming-programming-guide.html" target="_blank" rel="noopener noreferrer">Spark streaming</a> to
ingest into Hudi, Hudi self-manages the checkpoint internally. We are now adding support for multiple writers, each
ingesting into the same Hudi table via streaming ingest. In older versions of hudi, you can&#x27;t have multiple streaming
ingestion writers ingesting into the same hudi table (one streaming ingestion writer with a concurrent Spark datasource
writer works with lock provider; however, two Spark streaming ingestion writers are not supported). With 0.13.0, we are
adding support where multiple streaming ingestions can be done to the same table. In case of a single streaming ingestion,
users don&#x27;t have to do anything; the old pipeline will work without needing any additional changes. But, if you are
having multiple streaming writers to same Hudi table, each table has to set a unique value for the config,
<code>hoodie.datasource.write.streaming.checkpoint.identifier</code>. Also, users are expected to set the usual multi-writer
configs. More details can be found <a href="/docs/concurrency_control">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="orc-support-in-spark">ORC Support in Spark<a href="#orc-support-in-spark" class="hash-link" aria-label="Direct link to ORC Support in Spark" title="Direct link to ORC Support in Spark">​</a></h3>
<p>The <a href="https://orc.apache.org/" target="_blank" rel="noopener noreferrer">ORC</a> support for Spark 2.x is removed in this release, as the dependency of
<code>orc-core:nohive</code> in Hudi is now replaced by  <code>orc-core</code>, to be compatible with Spark 3.  <a href="https://orc.apache.org/" target="_blank" rel="noopener noreferrer">ORC</a>
support is now available for Spark 3.x, which was broken in previous releases.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mandatory-record-key-field">Mandatory Record Key Field<a href="#mandatory-record-key-field" class="hash-link" aria-label="Direct link to Mandatory Record Key Field" title="Direct link to Mandatory Record Key Field">​</a></h3>
<p>The configuration for setting the record key field, <code>hoodie.datasource.write.recordkey.field</code>, is now required to be set
and has no default value. Previously, the default value is <code>uuid</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="migration-guide-behavior-changes">Migration Guide: Behavior Changes<a href="#migration-guide-behavior-changes" class="hash-link" aria-label="Direct link to Migration Guide: Behavior Changes" title="Direct link to Migration Guide: Behavior Changes">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="schema-handling-in-write-path">Schema Handling in Write Path<a href="#schema-handling-in-write-path" class="hash-link" aria-label="Direct link to Schema Handling in Write Path" title="Direct link to Schema Handling in Write Path">​</a></h3>
<p>Many users have requested using Hudi for CDC use cases that they want to have schema auto-evolution where existing
columns might be dropped in a new schema. As of 0.13.0 release, Hudi now has this functionality. You can permit schema
auto-evolution where existing columns can be dropped in a new schema.</p>
<p>Since dropping columns in the target table based on the source schema constitutes a considerable behavior change, this
is disabled by default and is guarded by the following config: <code>hoodie.datasource.write.schema.allow.auto.evolution.column.drop</code>.
To enable automatic dropping of the columns along with new evolved schema of the incoming batch, set this to <strong><code>true</code></strong>.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>This config is <strong>NOT</strong> required to evolve schema manually by using, for example, <code>ALTER TABLE … DROP COLUMN</code> in Spark.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="removal-of-default-shuffle-parallelism">Removal of Default Shuffle Parallelism<a href="#removal-of-default-shuffle-parallelism" class="hash-link" aria-label="Direct link to Removal of Default Shuffle Parallelism" title="Direct link to Removal of Default Shuffle Parallelism">​</a></h3>
<p>This release changes how Hudi decides the shuffle parallelism of <a href="/docs/write_operations">write operations</a> including
<code>INSERT</code>, <code>BULK_INSERT</code>, <code>UPSERT</code> and <code>DELETE</code> (<strong><code>hoodie.insert|bulkinsert|upsert|delete.shuffle.parallelism</code></strong>), which
can ultimately affect the write performance.</p>
<p>Previously, if users did not configure it, Hudi would use <code>200</code> as the default shuffle parallelism. From 0.13.0 onwards
Hudi by default automatically deduces the shuffle parallelism by either using the number of output RDD partitions as
determined by Spark when available or by using the <code>spark.default.parallelism</code> value.  If the above Hudi shuffle
parallelisms are explicitly configured by the user, then the user-configured parallelism is still used in defining the
actual parallelism.  Such behavior change improves the out-of-the-box performance by 20% for workloads with reasonably
sized input.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>If the input data files are small, e.g., smaller than 10MB, we suggest configuring the Hudi shuffle parallelism
(<code>hoodie.insert|bulkinsert|upsert|delete.shuffle.parallelism</code>) explicitly, such that the parallelism is at least
total_input_data_size/500MB, to avoid potential performance regression (see <a href="/docs/tuning-guide">Tuning Guide</a> for more
information).</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="simple-write-executor-as-default">Simple Write Executor as Default<a href="#simple-write-executor-as-default" class="hash-link" aria-label="Direct link to Simple Write Executor as Default" title="Direct link to Simple Write Executor as Default">​</a></h3>
<p>For the execution of insert/upsert operations, Hudi historically used the notion of an executor, relying on in-memory
queue to decouple ingestion operations (that were previously often bound by I/O operations fetching shuffled blocks)
from writing operations. Since then, Spark architectures have evolved considerably making such writing architecture
redundant. Towards evolving this writing pattern and leveraging the changes in Spark, in 0.13.0 we introduce a new,
simplified version of the executor named (creatively) as <strong><code>SimpleExecutor</code></strong> and also make it out-of-the-box default.</p>
<p>The <strong><code>SimpleExecutor</code></strong> does not have any internal buffering (i.e., does not hold records in memory), which internally
implements simple iteration over provided iterator (similar to default Spark behavior).  It provides <strong>~10%</strong>
out-of-the-box performance improvement on modern Spark versions (3.x) and even more when used with Spark&#x27;s native
<strong><code>SparkRecordMerger</code></strong>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="none-sort-mode-for-bulk-insert-to-match-parquet-writes"><code>NONE</code> Sort Mode for Bulk Insert to Match Parquet Writes<a href="#none-sort-mode-for-bulk-insert-to-match-parquet-writes" class="hash-link" aria-label="Direct link to none-sort-mode-for-bulk-insert-to-match-parquet-writes" title="Direct link to none-sort-mode-for-bulk-insert-to-match-parquet-writes">​</a></h3>
<p>This release adjusts the parallelism for <code>NONE</code> sort mode (default sort mode) for <code>BULK_INSERT</code> write operation. From
now on, by default, the input parallelism is used instead of the shuffle parallelism (<code>hoodie.bulkinsert.shuffle.parallelism</code>)
for writing data, to match the default parquet write behavior. This does not change the behavior of clustering using the
<code>NONE</code> sort mode.</p>
<p>Such behavior change on <code>BULK_INSERT</code> write operation improves the write performance out of the box.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If you still observe small file issues with the default <code>NONE</code> sort mode, we suggest sorting the input data based on the
partition path and record key before writing to the Hudi table. You can also use <code>GLOBAL_SORT</code> to ensure the best file
size.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="meta-sync-failure-in-deltastreamer">Meta Sync Failure in Deltastreamer<a href="#meta-sync-failure-in-deltastreamer" class="hash-link" aria-label="Direct link to Meta Sync Failure in Deltastreamer" title="Direct link to Meta Sync Failure in Deltastreamer">​</a></h3>
<p>In earlier versions, we used a fail-fast approach where syncing to remaining catalogs is not attempted if any
<a href="/docs/syncing_metastore">catalog sync</a> fails. In 0.13.0, syncing to all configured catalogs is attempted before failing
the operation on any catalog sync failure.  In the case of sync failure for one catalog, the sync to other catalogs can
still succeed, so the user only needs to retry the failed one now.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="no-override-of-internal-metadata-table-configs">No Override of Internal Metadata Table Configs<a href="#no-override-of-internal-metadata-table-configs" class="hash-link" aria-label="Direct link to No Override of Internal Metadata Table Configs" title="Direct link to No Override of Internal Metadata Table Configs">​</a></h3>
<p>Since misconfiguration could lead to possible data integrity issues, in 0.13.0, we have put in efforts to make the
metadata table configuration much simpler for the users. Internally, Hudi determines the best choices for these
configurations for optimal performance and stability of the system.</p>
<p>The following metadata-table-related configurations are made internal; you can no longer configure these configs
explicitly:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.metadata.clean.async</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.metadata.cleaner.commits.retained</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.metadata.enable.full.scan.log.files</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.metadata.populate.meta.fields</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="spark-sql-ctas-performance-fix">Spark SQL CTAS Performance Fix<a href="#spark-sql-ctas-performance-fix" class="hash-link" aria-label="Direct link to Spark SQL CTAS Performance Fix" title="Direct link to Spark SQL CTAS Performance Fix">​</a></h3>
<p>Previously, CTAS write operation was incorrectly set to use <code>UPSERT</code> due to misconfiguration. In 0.13.0 release, we fix
this to make sure CTAS uses <strong><code>BULK_INSERT</code></strong> operation to boost the write performance of the first batch to a Hudi table
(there&#x27;s no real need to use <code>UPSERT</code> for it, as the table is being created).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="flink-ckpmetadata">Flink CkpMetadata<a href="#flink-ckpmetadata" class="hash-link" aria-label="Direct link to Flink CkpMetadata" title="Direct link to Flink CkpMetadata">​</a></h3>
<p>Before 0.13.0, we bootstrapped the ckp metadata (checkpoint related metadata) by cleaning all the messages. Some corner
cases were not handled correctly. For example:</p>
<ul>
<li>
<p>The write task can not fetch the pending instant correctly when restarting a job.</p>
</li>
<li>
<p>If a checkpoint succeeds and the job crashes suddenly, the instant hasn&#x27;t had time to commit. The data is lost because
the last pending instant was rolled back; however, the Flink engine still thinks the checkpoint/instant is successful.</p>
</li>
</ul>
<p>Q: Why did we clean the messages prior to the 0.13.0 release?</p>
<p>A: To prevent inconsistencies between timeline and the messages.</p>
<p>Q: Why are we retaining the messages in the 0.13.0 release?</p>
<p>A: There are two cases for the inconsistency:</p>
<ol>
<li>
<p>The timeline instant is complete but the ckp message is inflight (for committing instant).</p>
</li>
<li>
<p>The timeline instant is pending while the ckp message does not start (for starting a new instant).</p>
</li>
</ol>
<p>For case 1, there is no need to re-commit the instant, and it is fine if the write task does not get any pending instant
when recovering.</p>
<p>For case 2, the instant is basically pending. The instant would be rolled back (as expected). Thus, keeping the ckp
messages as is can actually maintain correctness.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="release-highlights">Release Highlights<a href="#release-highlights" class="hash-link" aria-label="Direct link to Release Highlights" title="Direct link to Release Highlights">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="metaserver">Metaserver<a href="#metaserver" class="hash-link" aria-label="Direct link to Metaserver" title="Direct link to Metaserver">​</a></h3>
<p>In 0.13.0, we introduce Metaserver, a centralized metadata management service. This is one of the first platform service
components we introduce from many more to come. Metaserver helps users to easily manage a large number of tables in a
data lake platform.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>This is an <em><strong>EXPERIMENTAL</strong></em> feature.</p></div></div>
<p>To set up the metaserver in your environment, use
<a href="https://mvnrepository.com/artifact/org.apache.hudi/hudi-metaserver-server-bundle" target="_blank" rel="noopener noreferrer"><code>hudi-metaserver-server-bundle</code></a> and
run it as a java server application, like <code>java -jar hudi-metaserver-server-bundle-&lt;HUDI_VERSION&gt;.jar</code>. On the client
side, add the following options to integrate with the metaserver:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.metaserver.enabled=true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.metaserver.uris=thrift://&lt;server url&gt;:9090</span><br></span></code></pre></div></div>
<p>The Metaserver stores Hudi tables&#x27; metadata like table name, database, owner; and the timeline&#x27;s metadata like commit
instants, actions, states, etc. In addition, the Metaserver supports the Spark writer and reader through Hudi Spark
bundles.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="change-data-capture">Change Data Capture<a href="#change-data-capture" class="hash-link" aria-label="Direct link to Change Data Capture" title="Direct link to Change Data Capture">​</a></h3>
<p>In cases where Hudi tables are used as streaming sources, we want to be aware of all changes for the records that belong
to a single commit.  For instance, we want to know which records were inserted, deleted and updated. For updated records,
the subsequent pipeline may want to get the old values before the update and the new ones after. Prior to 0.13.0, the
incremental query does not contain the hard-delete records, and users need to use soft deletes to stream deletes, which
may not meet the GDPR requirements.</p>
<p>The Change-Data-Capture (CDC) feature enables Hudi to show how records are changed by producing the changes and
therefore to handle CDC query use cases.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>CDC is an <em><strong>EXPERIMENTAL</strong></em> feature and is supported to work for COW tables with Spark and Flink engines. MOR tables
are not supported by CDC query yet.</p></div></div>
<p>To use CDC, users need to enable it first while writing to a table to log extra data, which are returned by CDC
incremental queries.</p>
<p>For writing, set <code>hoodie.table.cdc.enabled=true</code> and specify CDC logging mode through <code>hoodie.datasource.query.incremental.format</code>,
to control the data being logged. There are 3 modes to choose from:</p>
<ul>
<li>
<p><strong><code>data_before_after</code></strong>: This logs the changed records&#x27; operations and the whole record before and after the change. This
mode incurs the most CDC data on storage and has the least computing efforts for querying CDC results.</p>
</li>
<li>
<p><strong><code>data_before</code></strong>: This logs the changed records&#x27; operations and the whole record before the change.</p>
</li>
<li>
<p><strong><code>op_key_only</code></strong>: This only logs the changed records&#x27; operations and key. This mode incurs the least CDC data on
storage, and requires most computing efforts for querying CDC results.</p>
</li>
</ul>
<p>The default value is <strong><code>data_before_after</code></strong>.</p>
<p>For reading, set:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.datasource.query.type=incremental</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.datasource.query.incremental.format=cdc</span><br></span></code></pre></div></div>
<p>and other usual <a href="/docs/quick-start-guide#incremental-query">incremental query</a>&#x27;s options like begin and end instant
times, and CDC results are returned.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>Note that <code>hoodie.table.cdc.enabled</code> is a table configuration. Once it is enabled, it is not allowed to be turned off
for that table. Similarly, you cannot change <code>hoodie.table.cdc.supplemental.logging.mode</code>, once it&#x27;s saved as a table
configuration.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="optimizing-record-payload-handling">Optimizing Record Payload handling<a href="#optimizing-record-payload-handling" class="hash-link" aria-label="Direct link to Optimizing Record Payload handling" title="Direct link to Optimizing Record Payload handling">​</a></h3>
<p>This release introduces the long-awaited support for handling records as their engine-native representations, therefore
avoiding the need to convert them to an intermediate one (Avro).</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>This feature is in an <em><strong>EXPERIMENTAL</strong></em> mode and is currently only supported for Spark.</p></div></div>
<p>This was made possible through RFC-46 by introducing a new
<a href="https://github.com/apache/hudi/blob/release-0.13.0/hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordMerger.java" target="_blank" rel="noopener noreferrer"><code>HoodieRecordMerger</code></a>
abstraction. The <code>HoodieRecordMerger</code> is the core
and a source of truth for implementing any merging semantics in Hudi going forward. In this capacity, it replaces the
<a href="https://github.com/apache/hudi/blob/release-0.13.0/hudi-common/src/main/java/org/apache/hudi/common/model/HoodieRecordPayload.java" target="_blank" rel="noopener noreferrer"><code>HoodieRecordPayload</code></a>
hierarchy previously used for implementing custom merging semantics. By relying on the unified
component in the form of a <code>HoodieRecordMerger</code> allows us to handle records throughout the lifecycle of the write operation
in a uniform manner. This substantially reduces latency because the records are now held in the engine-native
representation, avoiding unnecessary copying, deserialization and conversion to the intermediate representation (Avro).
In our benchmarks, upsert performance improves in the ballpark of 10% against 0.13.0 default state and 20% when compared
to 0.12.2.</p>
<p>To try it today, you&#x27;d need to specify the configs differently for each Hudi table:</p>
<ul>
<li>For COW, specify <code>hoodie.datasource.write.record.merger.impls=org.apache.hudi.HoodieSparkRecordMerger</code></li>
<li>For MOR, specify <code>hoodie.datasource.write.record.merger.impls=org.apache.hudi.HoodieSparkRecordMerger</code> and
<code>hoodie.logfile.data.block.format=parquet</code></li>
</ul>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>Please note, that the current
<a href="https://github.com/apache/hudi/blob/release-0.13.0/hudi-spark-datasource/hudi-spark-common/src/main/java/org/apache/hudi/HoodieSparkRecordMerger.java" target="_blank" rel="noopener noreferrer"><code>HoodieSparkRecordMerger</code></a>
implementation only supports merging semantic equivalent to the
<a href="https://github.com/apache/hudi/blob/release-0.13.0/hudi-common/src/main/java/org/apache/hudi/common/model/OverwriteWithLatestAvroPayload.java" target="_blank" rel="noopener noreferrer"><code>OverwriteWithLatestAvroPayload</code></a>
class, which is the default <code>HoodieRecordPayload</code> implementation used for merging records
currently (set as “hoodie.compaction.payload.class”). Therefore, if you&#x27;re using any other <code>HoodieRecordPayload</code>
implementation, unfortunately, you&#x27;d need to wait until it is replaced by the corresponding <code>HoodieRecordMerger</code> implementation.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-source-support-in-deltastreamer">New Source Support in Deltastreamer<a href="#new-source-support-in-deltastreamer" class="hash-link" aria-label="Direct link to New Source Support in Deltastreamer" title="Direct link to New Source Support in Deltastreamer">​</a></h3>
<p><a href="/docs/0.13.0/hoodie_deltastreamer">Deltastreamer</a> is a fully-managed incremental ETL utility that supports a wide variety of
sources. In this release, we have added three new sources to its repertoire.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="proto-kafka-source">Proto Kafka Source<a href="#proto-kafka-source" class="hash-link" aria-label="Direct link to Proto Kafka Source" title="Direct link to Proto Kafka Source">​</a></h4>
<p>Deltastreamer already supports exactly-once ingestion of new events from Kafka using JSON and Avro formats.
<a href="https://github.com/apache/hudi/blob/release-0.13.0/hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/ProtoKafkaSource.java" target="_blank" rel="noopener noreferrer"><code>ProtoKafkaSource</code></a>
extends this support to Protobuf class-based schemas as well. With just one additional config, one
can easily set up this source. Check out the <a href="/docs/0.13.0/hoodie_deltastreamer">docs</a> for more details.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="gcs-incremental-source">GCS Incremental Source<a href="#gcs-incremental-source" class="hash-link" aria-label="Direct link to GCS Incremental Source" title="Direct link to GCS Incremental Source">​</a></h4>
<p>Along the lines of <a href="https://hudi.apache.org/blog/2021/08/23/s3-events-source" target="_blank" rel="noopener noreferrer">S3 events source</a>, we now have a reliable
and fast way of ingesting from objects in Google Cloud Storage (GCS) through
<a href="https://github.com/apache/hudi/blob/release-0.13.0/hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/GcsEventsHoodieIncrSource.java" target="_blank" rel="noopener noreferrer"><code>GcsEventsHoodieIncrSource</code></a>.
Check out the docs on how to set up this source.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="pulsar-source">Pulsar Source<a href="#pulsar-source" class="hash-link" aria-label="Direct link to Pulsar Source" title="Direct link to Pulsar Source">​</a></h4>
<p><a href="https://pulsar.apache.org/" target="_blank" rel="noopener noreferrer">Apache Pulsar</a> is an open-source, distributed messaging and streaming platform built for
the cloud. <a href="https://github.com/apache/hudi/blob/release-0.13.0/hudi-utilities/src/main/java/org/apache/hudi/utilities/sources/PulsarSource.java" target="_blank" rel="noopener noreferrer"><code>PulsarSource</code></a>
supports ingesting from Apache Pulsar through the Deltastreamer. Check out the <a href="/docs/0.13.0/hoodie_deltastreamer">docs</a> on how
to set up this source.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="support-for-partial-payload-update">Support for Partial Payload Update<a href="#support-for-partial-payload-update" class="hash-link" aria-label="Direct link to Support for Partial Payload Update" title="Direct link to Support for Partial Payload Update">​</a></h3>
<p>Partial update is a frequently asked use case from the community that requires the ability to update only certain fields
and not replace the whole record. Previously, we recommended users satisfy this use case by bringing in their own custom
record payload implementation.  With the popularity of this, in the 0.13.0 release, we added a new record payload
implementation,
<a href="https://github.com/apache/hudi/blob/release-0.13.0/hudi-common/src/main/java/org/apache/hudi/common/model/PartialUpdateAvroPayload.java" target="_blank" rel="noopener noreferrer"><code>PartialUpdateAvroPayload</code></a>,
to support this out-of-the-box so users can use this implementation instead of having to write their own custom implementation.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="consistent-hashing-index">Consistent Hashing Index<a href="#consistent-hashing-index" class="hash-link" aria-label="Direct link to Consistent Hashing Index" title="Direct link to Consistent Hashing Index">​</a></h3>
<p>We introduce the Consistent Hashing Index as yet another indexing option for your writes with Hudi. This is an
enhancement to <a href="/releases/release-0.11.0#bucket-index">Bucket Index</a> which is added in the 0.11.0 release. With Bucket
Index, buckets/file groups per partition are statically allocated, whereas with Consistent Hashing Index, buckets can
grow dynamically and so users don&#x27;t need to sweat about data skews. Buckets will expand and shrink depending on the load
factor for each partition. You can find the <a href="https://github.com/apache/hudi/blob/master/rfc/rfc-42/rfc-42.md" target="_blank" rel="noopener noreferrer">RFC</a> for
the design of this feature.</p>
<p>Here are the configs of interest if you wish to give it a try.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.index.type=bucket</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.index.bucket.engine=CONSISTENT_HASHING</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.bucket.index.max.num.buckets=128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.bucket.index.min.num.buckets=32</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.bucket.index.num.buckets=4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">## do split if the bucket size reach 1.5 * max_file_size</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.bucket.index.split.threshold=1.5</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">## do merge if the bucket size smaller than 0.2 * max_file_size</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.bucket.index.merge.threshold=0.1 </span><br></span></code></pre></div></div>
<p>To enforce shrinking or scaling up of buckets, you need to enable clustering using the following configs</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">## check resize for every 4 commit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.clustering.inline=true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.clustering.inline.max.commits=4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.clustering.plan.strategy.class=org.apache.hudi.client.clustering.plan.strategy.SparkConsistentBucketClusteringPlanStrategy</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.clustering.execution.strategy.class=org.apache.hudi.client.clustering.run.strategy.SparkConsistentBucketClusteringExecutionStrategy</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">## for supporting concurrent write &amp; resizing</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.clustering.updates.strategy=org.apache.hudi.client.clustering.update.strategy.SparkConsistentBucketDuplicateUpdateStrategy</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>Consistent Hashing Index is still an evolving feature and currently there are some limitations to use it as of 0.13.0:</p><ul>
<li>This index is supported only for Spark engine using a MOR table.</li>
<li>It does not work with metadata table enabled.</li>
<li>To scale up or shrink the buckets, users have to manually trigger clustering using above configs (at some cadence), but
they cannot have compaction concurrently running.</li>
<li>So, if compaction is enabled with your regular write pipeline, please follow this recommendation: You can choose to
trigger the scale/shrink once every 12 hours. In such cases, once every 12 hours, you might need to disable compaction,
stop your write pipeline and enable clustering. You should take extreme care to not run both concurrently because it
might result in conflicts and a failed pipeline. Once clustering is complete, you can resume your regular write pipeline,
which will have compaction enabled.</li>
</ul><p>We are working towards automating these and making it easier for users to leverage the Consistent Hashing Index. You can
follow the ongoing work on the Consistent Hashing Index <a href="https://issues.apache.org/jira/browse/HUDI-3000" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="early-conflict-detection-for-multi-writer">Early Conflict Detection for Multi-Writer<a href="#early-conflict-detection-for-multi-writer" class="hash-link" aria-label="Direct link to Early Conflict Detection for Multi-Writer" title="Direct link to Early Conflict Detection for Multi-Writer">​</a></h3><p>Hudi provides Optimistic Concurrency Control (OCC) to allow multiple writers to concurrently write and atomically commit
to the Hudi table if there is no overlapping data file to be written, to guarantee data consistency, integrity and
correctness. Prior to the 0.13.0 release, such conflict detection of overlapping data files is performed before commit
metadata and after the data writing is completed. If any conflict is detected in the final stage, it could have wasted
compute resources because the data writing is finished already.</p><p>To improve the concurrency control, the 0.13.0 release introduces a new feature, early conflict detection in OCC, to
detect the conflict during the data writing phase and abort the writing early on once a conflict is detected, using
Hudi&#x27;s marker mechanism.  Hudi can now stop a conflicting writer much earlier because of the early conflict detection
and release computing resources necessary to cluster, improving resource utilization.</p></div></div>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>The early conflict detection in OCC is <em><strong>EXPERIMENTAL</strong></em> in 0.13.0 release.</p></div></div>
<p>By default, this feature is turned off. To try this out, a user needs to set
<code>hoodie.write.concurrency.early.conflict.detection.enable</code> to <strong><code>true</code></strong>, when using OCC for concurrency control
(see the <a href="/docs/concurrency_control">Concurrency Control</a> page for more details).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lock-free-message-queue-in-writing-data">Lock-Free Message Queue in Writing Data<a href="#lock-free-message-queue-in-writing-data" class="hash-link" aria-label="Direct link to Lock-Free Message Queue in Writing Data" title="Direct link to Lock-Free Message Queue in Writing Data">​</a></h3>
<p>In previous versions, Hudi writes incoming data into a table via a bounded in-memory queue using a producer-consumer
model. In this release, we added a new type of queue, leveraging <a href="https://lmax-exchange.github.io/disruptor/user-guide/index.html" target="_blank" rel="noopener noreferrer">Disruptor</a>,
which is lock-free. This increases the write throughput when data volume is large.
<a href="https://github.com/apache/hudi/pull/5416" target="_blank" rel="noopener noreferrer">The benchmark</a> writing 100 million records to 1000 partitions in a Hudi table
on cloud storage shows <strong>20%</strong> performance improvement compared to the existing executor type of bounded in-memory queue.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p><code>DisruptorExecutor</code> is supported for Spark insert and Spark bulk insert operations as an <em><strong>EXPERIMENTAL</strong></em> feature</p></div></div>
<p>Users can set <code>hoodie.write.executor.type=DISRUPTOR_EXECUTOR</code> to enable this feature. There are other configurations
like <code>hoodie.write.wait.strategy</code> and <code>hoodie.write.buffer.size</code> to tune the performance further.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hudi-cli-bundle">Hudi CLI Bundle<a href="#hudi-cli-bundle" class="hash-link" aria-label="Direct link to Hudi CLI Bundle" title="Direct link to Hudi CLI Bundle">​</a></h3>
<p>We introduce a new Hudi CLI Bundle, <a href="https://mvnrepository.com/artifact/org.apache.hudi/hudi-cli-bundle" target="_blank" rel="noopener noreferrer"><code>hudi-cli-bundle_2.12</code></a>,
for Spark 3.x to make Hudi CLI easier and more usable.  A user can now use this single bundle jar
(published to Maven repository) along with Hudi Spark bundle to start the script
to launch the Hudi-CLI shell with Spark. This brings ease of deployment for the Hudi-CLI as the user does not need to
compile the Hudi CLI module locally, upload jars and address any dependency conflict if there is any, which was the
case before this release. Detailed instructions can be found on the <a href="/docs/cli">Hudi CLI</a> page.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="support-for-flink-116">Support for Flink 1.16<a href="#support-for-flink-116" class="hash-link" aria-label="Direct link to Support for Flink 1.16" title="Direct link to Support for Flink 1.16">​</a></h3>
<p>Flink 1.16.x is integrated with Hudi, using profile param <code>-Pflink1.16</code> when compiling the source code to activate the
version. Alternatively, use <a href="https://mvnrepository.com/artifact/org.apache.hudi/hudi-flink1.16-bundle" target="_blank" rel="noopener noreferrer"><code>hudi-flink1.16-bundle</code></a>.
Flink 1.15, Flink 1.14 and Flink 1.13 will continue to be supported. Please check the <a href="#new-flink-bundle">migration guide</a>
for bundle updates.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="json-schema-converter">Json Schema Converter<a href="#json-schema-converter" class="hash-link" aria-label="Direct link to Json Schema Converter" title="Direct link to Json Schema Converter">​</a></h3>
<p>For DeltaStreamer users who configure schema registry, a JSON schema converter is added to help convert JSON schema into
AVRO for the target Hudi table. Set <code>hoodie.deltastreamer.schemaprovider.registry.schemaconverter</code> to
<code>org.apache.hudi.utilities.schema.converter.JsonToAvroSchemaConverter</code> to use this feature. Users can also implement
this interface <code>org.apache.hudi.utilities.schema.SchemaRegistryProvider.SchemaConverter</code> to provide custom conversion
from the original schema to AVRO.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="providing-hudi-configs-via-spark-sql-config">Providing Hudi Configs via Spark SQL Config<a href="#providing-hudi-configs-via-spark-sql-config" class="hash-link" aria-label="Direct link to Providing Hudi Configs via Spark SQL Config" title="Direct link to Providing Hudi Configs via Spark SQL Config">​</a></h3>
<p>Users can now provide Hudi configs via Spark SQL conf, for example, setting</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">spark.sql(&quot;set hoodie.sql.bulk.insert.enable = true&quot;)</span><br></span></code></pre></div></div>
<p>to make sure Hudi is able to use <code>BULK_INSERT</code> operation when executing <code>INSERT INTO</code> statement.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="known-regressions">Known Regressions<a href="#known-regressions" class="hash-link" aria-label="Direct link to Known Regressions" title="Direct link to Known Regressions">​</a></h2>
<p>We discovered a regression in Hudi 0.13 release related to metadata table and timeline server interplay with streaming ingestion pipelines.</p>
<p>The FileSystemView that Hudi maintains internally could go out of sync due to a occasional race conditions when table services are involved
(compaction, clustering) and could result in updates and deletes routed to older file versions and hence resulting in missed updates and deletes.</p>
<p>Here are the user-flows that could potentially be impacted with this.</p>
<ul>
<li>This impacts pipelines using Deltastreamer in <strong>continuous mode</strong> (sync once is not impacted), Spark streaming, or if you have been directly
using write client across batches/commits instead of the standard ways to write to Hudi. In other words, batch writes should not be impacted.</li>
<li>Among these write models, this could have an impact only when table services are enabled.<!-- -->
<ul>
<li>COW: clustering enabled (inline or async)</li>
<li>MOR: compaction enabled (by default, inline or async)</li>
</ul>
</li>
<li>Also, the impact is applicable only when metadata table is enabled, and timeline server is enabled (which are defaults as of 0.13.0)</li>
</ul>
<p>Based on some production data, we expect this issue might impact roughly &lt; 1% of updates to be missed, since its a race condition
and table services are generally scheduled once every N commits. The percentage of update misses could be even less if the
frequency of table services is less.</p>
<p><a href="https://issues.apache.org/jira/browse/HUDI-5863" target="_blank" rel="noopener noreferrer">Here</a> is the jira for the issue of interest and the fix has already been landed in master.
Next minor release(0.13.1) should have the <a href="https://github.com/apache/hudi/pull/8079" target="_blank" rel="noopener noreferrer">fix</a>. Until we have a next minor release with the fix, we recommend you to disable metadata table
(<code>hoodie.metadata.enable=false</code>) to mitigate the issue.</p>
<p>We also discovered a regression for Flink streaming writer with the hive meta sync which is introduced by HUDI-3730, the refactoring to <code>HiveSyncConfig</code>
causes the Hive <code>Resources</code> config objects leaking, which finally leads to an OOM exception for the JobManager if the streaming job runs continuously for weeks.
Next minor release(0.13.1) should have the <a href="https://github.com/apache/hudi/pull/8050" target="_blank" rel="noopener noreferrer">fix</a>. Until we have a 0.13.1 release, we recommend you to cherry-pick the fix to local
if hive meta sync is required.</p>
<p>Sorry about the inconvenience caused.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="raw-release-notes">Raw Release Notes<a href="#raw-release-notes" class="hash-link" aria-label="Direct link to Raw Release Notes" title="Direct link to Raw Release Notes">​</a></h2>
<p>The raw release notes are available <a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12322822&amp;version=12352101" target="_blank" rel="noopener noreferrer">here</a>.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/releases/release-0.12.3"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Release 0.12.3</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/releases/release-0.12.2"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Release 0.12.2</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#release-0130-docs" class="table-of-contents__link toc-highlight">Release 0.13.0 (docs)</a></li><li><a href="#migration-guide-overview" class="table-of-contents__link toc-highlight">Migration Guide: Overview</a></li><li><a href="#migration-guide-breaking-changes" class="table-of-contents__link toc-highlight">Migration Guide: Breaking Changes</a><ul><li><a href="#bundle-updates" class="table-of-contents__link toc-highlight">Bundle Updates</a></li><li><a href="#lazy-file-index-in-spark" class="table-of-contents__link toc-highlight">Lazy File Index in Spark</a></li><li><a href="#checkpoint-management-in-spark-structured-streaming" class="table-of-contents__link toc-highlight">Checkpoint Management in Spark Structured Streaming</a></li><li><a href="#orc-support-in-spark" class="table-of-contents__link toc-highlight">ORC Support in Spark</a></li><li><a href="#mandatory-record-key-field" class="table-of-contents__link toc-highlight">Mandatory Record Key Field</a></li></ul></li><li><a href="#migration-guide-behavior-changes" class="table-of-contents__link toc-highlight">Migration Guide: Behavior Changes</a><ul><li><a href="#schema-handling-in-write-path" class="table-of-contents__link toc-highlight">Schema Handling in Write Path</a></li><li><a href="#removal-of-default-shuffle-parallelism" class="table-of-contents__link toc-highlight">Removal of Default Shuffle Parallelism</a></li><li><a href="#simple-write-executor-as-default" class="table-of-contents__link toc-highlight">Simple Write Executor as Default</a></li><li><a href="#none-sort-mode-for-bulk-insert-to-match-parquet-writes" class="table-of-contents__link toc-highlight"><code>NONE</code> Sort Mode for Bulk Insert to Match Parquet Writes</a></li><li><a href="#meta-sync-failure-in-deltastreamer" class="table-of-contents__link toc-highlight">Meta Sync Failure in Deltastreamer</a></li><li><a href="#no-override-of-internal-metadata-table-configs" class="table-of-contents__link toc-highlight">No Override of Internal Metadata Table Configs</a></li><li><a href="#spark-sql-ctas-performance-fix" class="table-of-contents__link toc-highlight">Spark SQL CTAS Performance Fix</a></li><li><a href="#flink-ckpmetadata" class="table-of-contents__link toc-highlight">Flink CkpMetadata</a></li></ul></li><li><a href="#release-highlights" class="table-of-contents__link toc-highlight">Release Highlights</a><ul><li><a href="#metaserver" class="table-of-contents__link toc-highlight">Metaserver</a></li><li><a href="#change-data-capture" class="table-of-contents__link toc-highlight">Change Data Capture</a></li><li><a href="#optimizing-record-payload-handling" class="table-of-contents__link toc-highlight">Optimizing Record Payload handling</a></li><li><a href="#new-source-support-in-deltastreamer" class="table-of-contents__link toc-highlight">New Source Support in Deltastreamer</a></li><li><a href="#support-for-partial-payload-update" class="table-of-contents__link toc-highlight">Support for Partial Payload Update</a></li><li><a href="#consistent-hashing-index" class="table-of-contents__link toc-highlight">Consistent Hashing Index</a></li><li><a href="#early-conflict-detection-for-multi-writer" class="table-of-contents__link toc-highlight">Early Conflict Detection for Multi-Writer</a></li><li><a href="#lock-free-message-queue-in-writing-data" class="table-of-contents__link toc-highlight">Lock-Free Message Queue in Writing Data</a></li><li><a href="#hudi-cli-bundle" class="table-of-contents__link toc-highlight">Hudi CLI Bundle</a></li><li><a href="#support-for-flink-116" class="table-of-contents__link toc-highlight">Support for Flink 1.16</a></li><li><a href="#json-schema-converter" class="table-of-contents__link toc-highlight">Json Schema Converter</a></li><li><a href="#providing-hudi-configs-via-spark-sql-config" class="table-of-contents__link toc-highlight">Providing Hudi Configs via Spark SQL Config</a></li></ul></li><li><a href="#known-regressions" class="table-of-contents__link toc-highlight">Known Regressions</a></li><li><a href="#raw-release-notes" class="table-of-contents__link toc-highlight">Raw Release Notes</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">About</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog/2021/07/21/streaming-data-lake-platform">Our Vision</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts">Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/community/team">Team</a></li><li class="footer__item"><a class="footer__link-item" href="/releases/release-1.0.2">Releases</a></li><li class="footer__item"><a class="footer__link-item" href="/releases/download">Download</a></li><li class="footer__item"><a class="footer__link-item" href="/powered-by">Who&#x27;s Using</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/quick-start-guide">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/tutorial-series">Tutorial Series</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/talks">Talks</a></li><li class="footer__item"><a class="footer__link-item" href="/videos">Video Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/faq">FAQ</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Hudi On Cloud</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/s3_hoodie">AWS</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/gcs_hoodie">Google Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/oss_hoodie">Alibaba Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/azure_hoodie">Microsoft Azure</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cos_hoodie">Tencent Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/ibm_cos_hoodie">IBM Cloud</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community/get-involved">Get Involved</a></li><li class="footer__item"><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/apache-hudi/?viewAsMember=true" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="mailto:dev-subscribe@hudi.apache.org?Subject=SubscribeToHudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mailing List</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Apache</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks</a></li><li class="footer__item"><a href="https://www.apache.org/licenses" target="_blank" rel="noopener noreferrer" class="footer__link-item">License</a></li><li class="footer__item"><a href="https://www.apache.org/security" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security</a></li><li class="footer__item"><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy</a></li><li class="footer__item"><a class="footer__link-item" href="/asf/telemetry">Telemetry</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship</a></li><li class="footer__item"><a href="https://www.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foundation</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://hudi.apache.org/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/assets/images/logo-big.png" alt="Apache Hudi™" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/assets/images/logo-big.png" alt="Apache Hudi™" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Copyright © 2021 <a href="https://apache.org">The Apache Software Foundation</a>, Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0"> Apache License, Version 2.0</a>. <br>Hudi, Apache and the Apache feather logo are trademarks of The Apache Software Foundation.<img referrerpolicy="no-referrer-when-downgrade" src="https://static.scarf.sh/a.png?x-pxid=8f594acf-9b77-44fb-9475-3e82ead1910c"><img referrerpolicy="no-referrer-when-downgrade" src="https://analytics.apache.org/matomo.php?idsite=47&amp;rec=1"></div></div></div></footer></div>
</body>
</html>