<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-0.14.1 docs-doc-page docs-custom-styles docs-doc-id-clustering" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Clustering | Apache Hudi</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hudi.apache.org/docs/0.14.1/clustering"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="apache hudi, data lake, lakehouse, big data, apache spark, apache flink, presto, trino, analytics, data engineering"><meta data-rh="true" name="docusaurus_version" content="0.14.1"><meta data-rh="true" name="docusaurus_tag" content="docs-default-0.14.1"><meta data-rh="true" name="docsearch:version" content="0.14.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-0.14.1"><meta data-rh="true" property="og:title" content="Clustering | Apache Hudi"><meta data-rh="true" name="description" content="Background"><meta data-rh="true" property="og:description" content="Background"><link data-rh="true" rel="icon" href="/assets/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://hudi.apache.org/docs/0.14.1/clustering"><link data-rh="true" rel="alternate" href="https://hudi.apache.org/docs/0.14.1/clustering" hreflang="en"><link data-rh="true" rel="alternate" href="https://hudi.apache.org/docs/0.14.1/clustering" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Clustering","item":"https://hudi.apache.org/docs/0.14.1/clustering"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Hudi: User-Facing Analytics RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Hudi: User-Facing Analytics Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Apache Hudi: User-Facing Analytics JSON Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Apache Hudi" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/videos/rss.xml" title="Apache Hudi RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/videos/atom.xml" title="Apache Hudi Atom Feed">





<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="9e4444ba-93cc-45ea-b143-783ae0fbeb6f" data-project-name="Apache Hudi" data-project-color="#FFFFFF" data-project-logo="https://hudi.apache.org/assets/images/logo-big.png" data-modal-disclaimer="This AI assistant answers Apache Hudi questions using your [documentation](https://hudi.apache.org/docs/quick-start-guide/), [dev setup](https://hudi.apache.org/contribute/developer-setup/), the [tech specs](https://hudi.apache.org/tech-specs-1point0/) and open GitHub Issues from the last year." data-modal-title="Apache Hudi AI Assistant" data-modal-example-questions-title="Try asking me..." data-modal-example-questions="How can I convert an existing COW table to MOR?,How do I set up incremental queries with Hudi tables?" data-modal-image="https://hudi.apache.org/assets/images/logo-big-2.png" data-modal-image-ask-ai="https://hudi.apache.org/assets/images/logo-big-2.png" data-modal-header-min-height="64px" data-modal-image-height="40" data-modal-image-width="40" data-modal-header-bg-color="#f8f9fa" data-modal-title-color="#0db1f9" data-button-text-color="#29557a" data-button-text="Ask AI" data-consent-required="true" data-consent-screen-title="Help us improve our AI assistant" data-consent-screen-disclaimer="By clicking &amp;quot;Allow tracking&amp;quot;, you consent to the use of the AI assistant in accordance with kapa.ai&#39;s [Privacy Policy](https://www.kapa.ai/content/privacy-policy). This service uses reCAPTCHA, which requires your consent to Google&#39;s [Privacy Policy](https://policies.google.com/privacy) and [Terms of Service](https://policies.google.com/terms). By proceeding, you explicitly agree to both kapa.ai&#39;s and Google&#39;s privacy policies." data-consent-screen-accept-button-text="Allow tracking" data-modal-disclaimer-font-size="0.80rem" data-query-input-placeholder-text-color="#29557a" data-submit-query-button-bg-color="#0db1f9" data-query-input-text-color="#29557a" data-user-analytics-cookie-enabled="false" data-query-input-border-color="#211b0e" data-question-text-color="#0db1f9" data-answer-text-color="#000" data-thread-clear-button-bg-color="#000000" data-thread-clear-button-text-color="#FFFFFF" data-answer-feedback-button-bg-color="#000000" data-answer-feedback-button-text-color="#FFFFFF" data-answer-feedback-button-active-bg-color="#000000" data-answer-feedback-button-active-text-color="#FFFFFF" data-answer-copy-button-bg-color="#000000" data-answer-copy-button-text-color="#FFFFFF" data-example-question-button-text-color="#29557a" data-modal-disclaimer-bg-color="#f8f9fa" data-modal-disclaimer-text-color="#0db1f9" data-deep-thinking-button-bg-color="#0db1f9" data-deep-thinking-button-text-color="#FFFFFF" data-deep-thinking-button-active-bg-color="#0db1f9" data-deep-thinking-button-hover-bg-color="#FFFFFF" data-deep-thinking-button-active-hover-bg-color="#29557a" data-deep-thinking-button-active-text-color="#FFFFFF" async></script><link rel="stylesheet" href="/assets/css/styles.8d703ffa.css">
<script src="/assets/js/runtime~main.3d5014dd.js" defer="defer"></script>
<script src="/assets/js/main.3741e724.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" role="banner"><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like <b>Apache Hudi</b>, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/apache/hudi"><b>GitHub!<svg xmlns="http://www.w3.org/2000/svg\" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 -2 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></b></a> ⭐</div></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarWrapper_j_uY"><div class="navbar__inner navbarInnerStyle_KoMw"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo navbarLogo_aghy"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/docs/overview">Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Learn</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/learn/tutorial-series">Tutorial Series</a></li><li><a class="dropdown__link" href="/learn/blog">Blogs</a></li><li><a class="dropdown__link" href="/learn/talks">Talks</a></li><li><a class="dropdown__link" href="/learn/videos">Video Guides</a></li><li><a class="dropdown__link" href="/learn/faq">FAQ</a></li><li><a class="dropdown__link" href="/learn/tech-specs">Tech Specs</a></li><li><a class="dropdown__link" href="/learn/tech-specs-1point0">Tech Specs 1.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Contribute</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/contribute/developer-sync-call">Developer Sync Call</a></li><li><a class="dropdown__link" href="/contribute/how-to-contribute">How to Contribute</a></li><li><a class="dropdown__link" href="/contribute/developer-setup">Developer Setup</a></li><li><a class="dropdown__link" href="/contribute/rfc-process">RFC Process</a></li><li><a class="dropdown__link" href="/contribute/report-security-issues">Report Issues</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/community/get-involved">Get Involved</a></li><li><a class="dropdown__link" href="/community/syncs">Community Syncs</a></li><li><a class="dropdown__link" href="/community/office_hours">Office Hours</a></li><li><a class="dropdown__link" href="/community/team">Team</a></li><li><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="dropdown__link">Github<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="dropdown__link">Slack<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://www.linkedin.com/company/apache-hudi/" target="_blank" rel="noopener noreferrer" class="dropdown__link">LinkedIn<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://www.youtube.com/@apachehudi" target="_blank" rel="noopener noreferrer" class="dropdown__link">YouTube<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://x.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="dropdown__link">X<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Ecosystem</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/powered-by">Adopters</a></li><li><a class="dropdown__link" href="/roadmap">Roadmap</a></li><li><a class="dropdown__link" href="/ecosystem">Integrations</a></li></ul></div><a class="navbar__item navbar__link" href="/releases/download">Download</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div><div role="button" class="searchButton_o6KI" aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 14 14"><circle cx="6.864" cy="6.864" r="5.243" stroke="#15467D" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></circle><path stroke="#15467D" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m10.51 10.783 2.056 2.05"></path></svg></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar navbarSideMenu_TODO"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><div class="navbar__logo navbarLogo_aghy"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><button type="button" aria-label="Close navigation bar" class="clean-btn navbar-sidebar__close"><svg viewBox="0 0 15 15" width="21" height="21"><g stroke="var(--ifm-color-emphasis-600)" stroke-width="1.2"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><div class="navbar-sidebar__items"><div class="navbar-sidebar__item menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/docs/overview">Docs</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Learn</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Contribute</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Community</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Ecosystem</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/releases/download">Download</a></li></ul></div><div class="navbar-sidebar__item menu"><button type="button" class="clean-btn navbar-sidebar__back">← Back to main menu</button></div></div></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_bSxm"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_cWv0"><aside class="theme-doc-sidebar-container docSidebarContainer_RSuS"><div class="sidebarViewport_pYEE"><div class="sidebar_mhZE"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Y1UP menuWithAnnouncementBar_fPny"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.14.1/overview"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/0.14.1/quick-start-guide"><span title="Quick Start" class="categoryLinkLabel_W154">Quick Start</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14.1/quick-start-guide"><span title="Spark Guide" class="linkLabel_WmDU">Spark Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14.1/flink-quick-start-guide"><span title="Flink Guide" class="linkLabel_WmDU">Flink Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14.1/docker_demo"><span title="Docker Demo" class="linkLabel_WmDU">Docker Demo</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.14.1/timeline"><span title="Concepts" class="categoryLinkLabel_W154">Concepts</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.14.1/sql_ddl"><span title="How To" class="categoryLinkLabel_W154">How To</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/0.14.1/migration_guide"><span title="Services" class="categoryLinkLabel_W154">Services</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14.1/migration_guide"><span title="Bootstrapping" class="linkLabel_WmDU">Bootstrapping</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14.1/compaction"><span title="Compaction" class="linkLabel_WmDU">Compaction</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/0.14.1/clustering"><span title="Clustering" class="linkLabel_WmDU">Clustering</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14.1/metadata_indexing"><span title="Metadata Indexing" class="linkLabel_WmDU">Metadata Indexing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14.1/hoodie_cleaner"><span title="Cleaning" class="linkLabel_WmDU">Cleaning</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14.1/transforms"><span title="Transformers" class="linkLabel_WmDU">Transformers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14.1/rollbacks"><span title="Rollback Mechanism" class="linkLabel_WmDU">Rollback Mechanism</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14.1/markers"><span title="Marker Mechanism" class="linkLabel_WmDU">Marker Mechanism</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14.1/file_sizing"><span title="File Sizing" class="linkLabel_WmDU">File Sizing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14.1/disaster_recovery"><span title="Disaster Recovery" class="linkLabel_WmDU">Disaster Recovery</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14.1/snapshot_exporter"><span title="Exporter" class="linkLabel_WmDU">Exporter</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14.1/precommit_validator"><span title="Data Quality" class="linkLabel_WmDU">Data Quality</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.14.1/basic_configurations"><span title="Configurations" class="categoryLinkLabel_W154">Configurations</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.14.1/performance"><span title="Guides" class="categoryLinkLabel_W154">Guides</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.14.1/faq"><span title="Frequently Asked Questions(FAQs)" class="categoryLinkLabel_W154">Frequently Asked Questions(FAQs)</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.14.1/use_cases"><span title="Use Cases" class="linkLabel_WmDU">Use Cases</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.14.1/faq"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.14.1/privacy"><span title="Privacy Policy" class="linkLabel_WmDU">Privacy Policy</span></a></li><li class="menu__list-item" style="margin-top:8px"><div class="versions_OQ6m"><hr class="divider_j8Te"><button class="header_Yg1K">Version 0.14.1<span class="caret_E30t"></span></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_hjYf"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Apache Hudi<!-- --> <b>0.14.1</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/clustering">latest version</a></b> (<!-- -->1.1.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Services</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Clustering</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 0.14.1</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Clustering</h1></header><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="background">Background<a href="#background" class="hash-link" aria-label="Direct link to Background" title="Direct link to Background" translate="no">​</a></h2>
<p>Apache Hudi brings stream processing to big data, providing fresh data while being an order of magnitude efficient over traditional batch processing. In a data lake/warehouse, one of the key trade-offs is between ingestion speed and query performance. Data ingestion typically prefers small files to improve parallelism and make data available to queries as soon as possible. However, query performance degrades poorly with a lot of small files. Also, during ingestion, data is typically co-located based on arrival time. However, the query engines perform better when the data frequently queried is co-located together. In most architectures each of these systems tend to add optimizations independently to improve performance which hits limitations due to un-optimized data layouts. This doc introduces a new kind of table service called clustering <a href="https://cwiki.apache.org/confluence/display/HUDI/RFC+-+19+Clustering+data+for+freshness+and+query+performance" target="_blank" rel="noopener noreferrer" class="">[RFC-19]</a> to reorganize data for improved query performance without compromising on ingestion speed.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-is-compaction-different-from-clustering">How is compaction different from clustering?<a href="#how-is-compaction-different-from-clustering" class="hash-link" aria-label="Direct link to How is compaction different from clustering?" title="Direct link to How is compaction different from clustering?" translate="no">​</a></h2>
<p>Hudi is modeled like a log-structured storage engine with multiple versions of the data.
Particularly, <a class="" href="/docs/0.14.1/table_types#merge-on-read-table">Merge-On-Read</a>
tables in Hudi store data using a combination of base file in columnar format and row-based delta logs that contain
updates. Compaction is a way to merge the delta logs with base files to produce the latest file slices with the most
recent snapshot of data. Compaction helps to keep the query performance in check (larger delta log files would incur
longer merge times on query side). On the other hand, clustering is a data layout optimization technique. One can stitch
together small files into larger files using clustering. Additionally, data can be clustered by sort key so that queries
can take advantage of data locality.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="clustering-architecture">Clustering Architecture<a href="#clustering-architecture" class="hash-link" aria-label="Direct link to Clustering Architecture" title="Direct link to Clustering Architecture" translate="no">​</a></h2>
<p>At a high level, Hudi provides different operations such as insert/upsert/bulk_insert through it’s write client API to be able to write data to a Hudi table. To be able to choose a trade-off between file size and ingestion speed, Hudi provides a knob <code>hoodie.parquet.small.file.limit</code> to be able to configure the smallest allowable file size. Users are able to configure the small file <a href="https://hudi.apache.org/docs/configurations/#hoodieparquetsmallfilelimit" target="_blank" rel="noopener noreferrer" class="">soft limit</a> to <code>0</code> to force new data to go into a new set of filegroups or set it to a higher value to ensure new data gets “padded” to existing files until it meets that limit that adds to ingestion latencies.</p>
<p>To be able to support an architecture that allows for fast ingestion without compromising query performance, we have introduced a ‘clustering’ service to rewrite the data to optimize Hudi data lake file layout.</p>
<p>Clustering table service can run asynchronously or synchronously adding a new action type called “REPLACE”, that will mark the clustering action in the Hudi metadata timeline.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="overall-there-are-2-steps-to-clustering">Overall, there are 2 steps to clustering<a href="#overall-there-are-2-steps-to-clustering" class="hash-link" aria-label="Direct link to Overall, there are 2 steps to clustering" title="Direct link to Overall, there are 2 steps to clustering" translate="no">​</a></h3>
<ol>
<li class="">Scheduling clustering: Create a clustering plan using a pluggable clustering strategy.</li>
<li class="">Execute clustering: Process the plan using an execution strategy to create new files and replace old files.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="schedule-clustering">Schedule clustering<a href="#schedule-clustering" class="hash-link" aria-label="Direct link to Schedule clustering" title="Direct link to Schedule clustering" translate="no">​</a></h3>
<p>Following steps are followed to schedule clustering.</p>
<ol>
<li class="">Identify files that are eligible for clustering: Depending on the clustering strategy chosen, the scheduling logic will identify the files eligible for clustering.</li>
<li class="">Group files that are eligible for clustering based on specific criteria. Each group is expected to have data size in multiples of ‘targetFileSize’. Grouping is done as part of ‘strategy’ defined in the plan. Additionally, there is an option to put a cap on group size to improve parallelism and avoid shuffling large amounts of data.</li>
<li class="">Finally, the clustering plan is saved to the timeline in an avro <a href="https://github.com/apache/hudi/blob/master/hudi-common/src/main/avro/HoodieClusteringPlan.avsc" target="_blank" rel="noopener noreferrer" class="">metadata format</a>.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="execute-clustering">Execute clustering<a href="#execute-clustering" class="hash-link" aria-label="Direct link to Execute clustering" title="Direct link to Execute clustering" translate="no">​</a></h3>
<ol>
<li class="">Read the clustering plan and get the ‘clusteringGroups’ that mark the file groups that need to be clustered.</li>
<li class="">For each group, we instantiate appropriate strategy class with strategyParams (example: sortColumns) and apply that strategy to rewrite the data.</li>
<li class="">Create a “REPLACE” commit and update the metadata in <a href="https://github.com/apache/hudi/blob/master/hudi-common/src/main/java/org/apache/hudi/common/model/HoodieReplaceCommitMetadata.java" target="_blank" rel="noopener noreferrer" class="">HoodieReplaceCommitMetadata</a>.</li>
</ol>
<p>Clustering Service builds on Hudi’s MVCC based design to allow for writers to continue to insert new data while clustering action runs in the background to reformat data layout, ensuring snapshot isolation between concurrent readers and writers.</p>
<p>NOTE: Clustering can only be scheduled for tables / partitions not receiving any concurrent updates. In the future, concurrent updates use-case will be supported as well.</p>
<p><img decoding="async" loading="lazy" alt="Clustering example" src="/assets/images/example_perf_improvement-acd223093d7c84fb6f0a896dcb571737.png" width="1200" height="600" class="img_ev3q">
<em>Figure: Illustrating query performance improvements by clustering</em></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="clustering-usecases">Clustering Usecases<a href="#clustering-usecases" class="hash-link" aria-label="Direct link to Clustering Usecases" title="Direct link to Clustering Usecases" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="batching-small-files">Batching small files<a href="#batching-small-files" class="hash-link" aria-label="Direct link to Batching small files" title="Direct link to Batching small files" translate="no">​</a></h3>
<p>As mentioned in the intro, streaming ingestion generally results in smaller files in your data lake. But having a lot of
such small files could lead to higher query latency. From our experience supporting community users, there are quite a
few users who are using Hudi just for small file handling capabilities. So, you could employ clustering to batch a lot
of such small files into larger ones.</p>
<p><img decoding="async" loading="lazy" alt="Batching small files" src="/assets/images/clustering_small_files-060489fdacfa64a9c16c82a06e7d6c50.gif" width="1280" height="720" class="img_ev3q"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cluster-by-sort-key">Cluster by sort key<a href="#cluster-by-sort-key" class="hash-link" aria-label="Direct link to Cluster by sort key" title="Direct link to Cluster by sort key" translate="no">​</a></h3>
<p>Another classic problem in data lake is the arrival time vs event time problem. Generally you write data based on
arrival time, while query predicates do not sit well with it. With clustering, you can re-write your data by sorting
based on query predicates and so, your data skipping will be very efficient and your query can ignore scanning a lot of
unnecessary data.</p>
<p><img decoding="async" loading="lazy" alt="Batching small files" src="/assets/images/clustering_sort-727259cb20686386dcf5406b53d67ee5.gif" width="1280" height="720" class="img_ev3q"></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="clustering-strategies">Clustering Strategies<a href="#clustering-strategies" class="hash-link" aria-label="Direct link to Clustering Strategies" title="Direct link to Clustering Strategies" translate="no">​</a></h2>
<p>On a high level, clustering creates a plan based on a configurable strategy, groups eligible files based on specific
criteria and then executes the plan. As mentioned before, clustering plan as well as execution depends on configurable
strategy. These strategies can be broadly classified into three types: clustering plan strategy, execution strategy and
update strategy.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="plan-strategy">Plan Strategy<a href="#plan-strategy" class="hash-link" aria-label="Direct link to Plan Strategy" title="Direct link to Plan Strategy" translate="no">​</a></h3>
<p>This strategy comes into play while creating clustering plan. It helps to decide what file groups should be clustered
and how many output file groups should the clustering produce. Note that these strategies are easily pluggable using the
config <a class="" href="/docs/0.14.1/configurations#hoodieclusteringplanstrategyclass">hoodie.clustering.plan.strategy.class</a>.</p>
<p>Different plan strategies are as follows:</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="size-based-clustering-strategies">Size-based clustering strategies<a href="#size-based-clustering-strategies" class="hash-link" aria-label="Direct link to Size-based clustering strategies" title="Direct link to Size-based clustering strategies" translate="no">​</a></h4>
<p>This strategy creates clustering groups based on max size allowed per group. Also, it excludes files that are greater
than the small file limit from the clustering plan. Available strategies depending on write client
are: <code>SparkSizeBasedClusteringPlanStrategy</code>, <code>FlinkSizeBasedClusteringPlanStrategy</code>
and <code>JavaSizeBasedClusteringPlanStrategy</code>. Furthermore, Hudi provides flexibility to include or exclude partitions for
clustering, tune the file size limits, maximum number of output groups. Please refer to <a href="https://hudi.apache.org/docs/next/configurations/#hoodieclusteringplanstrategysmallfilelimit" target="_blank" rel="noopener noreferrer" class="">hoodie.clustering.plan.strategy.small.file.limit</a>
, <a href="https://hudi.apache.org/docs/next/configurations/#hoodieclusteringplanstrategymaxnumgroups" target="_blank" rel="noopener noreferrer" class="">hoodie.clustering.plan.strategy.max.num.groups</a>, <a href="https://hudi.apache.org/docs/next/configurations/#hoodieclusteringplanstrategymaxbytespergroup" target="_blank" rel="noopener noreferrer" class="">hoodie.clustering.plan.strategy.max.bytes.per.group</a>
, <a href="https://hudi.apache.org/docs/next/configurations/#hoodieclusteringplanstrategytargetfilemaxbytes" target="_blank" rel="noopener noreferrer" class="">hoodie.clustering.plan.strategy.target.file.max.bytes</a> for more details.</p>
<table><thead><tr><th>Config Name</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>hoodie.clustering.plan.strategy.partition.selected</td><td>N/A <strong>(Required)</strong></td><td>Comma separated list of partitions to run clustering<br><br><code>Config Param: PARTITION_SELECTED</code><br><code>Since Version: 0.11.0</code></td></tr><tr><td>hoodie.clustering.plan.strategy.partition.regex.pattern</td><td>N/A <strong>(Required)</strong></td><td>Filter clustering partitions that matched regex pattern<br><br><code>Config Param: PARTITION_REGEX_PATTERN</code><br><code>Since Version: 0.11.0</code></td></tr><tr><td>hoodie.clustering.plan.partition.filter.mode</td><td>NONE (Optional)</td><td>Partition filter mode used in the creation of clustering plan. Possible values:<br><ul><li><code>NONE</code>: Do not filter partitions. The clustering plan will include all partitions that have clustering candidates.</li><li><code>RECENT_DAYS</code>: This filter assumes that your data is partitioned by date. The clustering plan will only include partitions from K days ago to N days ago, where K &gt;= N. K is determined by <code>hoodie.clustering.plan.strategy.daybased.lookback.partitions</code> and N is determined by <code>hoodie.clustering.plan.strategy.daybased.skipfromlatest.partitions</code>.</li><li><code>SELECTED_PARTITIONS</code>: The clustering plan will include only partition paths with names that sort within the inclusive range [<code>hoodie.clustering.plan.strategy.cluster.begin.partition</code>, <code>hoodie.clustering.plan.strategy.cluster.end.partition</code>].</li><li><code>DAY_ROLLING</code>: To determine the partitions in the clustering plan, the eligible partitions will be sorted in ascending order. Each partition will have an index i in that list. The clustering plan will only contain partitions such that i mod 24 = H, where H is the current hour of the day (from 0 to 23).</li></ul><br><code>Config Param: PLAN_PARTITION_FILTER_MODE_NAME</code><br><code>Since Version: 0.11.0</code></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sparksinglefilesortplanstrategy">SparkSingleFileSortPlanStrategy<a href="#sparksinglefilesortplanstrategy" class="hash-link" aria-label="Direct link to SparkSingleFileSortPlanStrategy" title="Direct link to SparkSingleFileSortPlanStrategy" translate="no">​</a></h4>
<p>In this strategy, clustering group for each partition is built in the same way as <code>SparkSizeBasedClusteringPlanStrategy</code>
. The difference is that the output group is 1 and file group id remains the same,
while <code>SparkSizeBasedClusteringPlanStrategy</code> can create multiple file groups with newer fileIds.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sparkconsistentbucketclusteringplanstrategy">SparkConsistentBucketClusteringPlanStrategy<a href="#sparkconsistentbucketclusteringplanstrategy" class="hash-link" aria-label="Direct link to SparkConsistentBucketClusteringPlanStrategy" title="Direct link to SparkConsistentBucketClusteringPlanStrategy" translate="no"> ​</a></h4>
<p>This strategy is specifically used for consistent bucket index. This will be leveraged to expand your bucket index (from
static partitioning to dynamic). Typically, users don’t need to use this strategy. Hudi internally uses this for
dynamically expanding the buckets for bucket index datasets.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>The latter two strategies are applicable only for the Spark engine.</div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="execution-strategy">Execution Strategy<a href="#execution-strategy" class="hash-link" aria-label="Direct link to Execution Strategy" title="Direct link to Execution Strategy" translate="no">​</a></h3>
<p>After building the clustering groups in the planning phase, Hudi applies execution strategy, for each group, primarily
based on sort columns and size. The strategy can be specified using the
config <a class="" href="/docs/0.14.1/configurations/#hoodieclusteringexecutionstrategyclass">hoodie.clustering.execution.strategy.class</a>. By
default, Hudi sorts the file groups in the plan by the specified columns, while meeting the configured target file
sizes.</p>
<table><thead><tr><th>Config Name</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>hoodie.clustering.execution.strategy.class</td><td>org.apache.hudi.client.clustering.run.strategy.SparkSortAndSizeExecutionStrategy (Optional)</td><td>Config to provide a strategy class (subclass of RunClusteringStrategy) to define how the  clustering plan is executed. By default, we sort the file groups in th plan by the specified columns, while  meeting the configured target file sizes.<br><br><code>Config Param: EXECUTION_STRATEGY_CLASS_NAME</code><br><code>Since Version: 0.7.0</code></td></tr></tbody></table>
<p>The available strategies are as follows:</p>
<ol>
<li class=""><code>SPARK_SORT_AND_SIZE_EXECUTION_STRATEGY</code>: Uses bulk_insert to re-write data from input file groups.<!-- -->
<ol>
<li class="">Set <code>hoodie.clustering.execution.strategy.class</code>
to <code>org.apache.hudi.client.clustering.run.strategy.SparkSortAndSizeExecutionStrategy</code>.</li>
<li class=""><code>hoodie.clustering.plan.strategy.sort.columns</code>: Columns to sort the data while clustering. This goes in
conjunction with layout optimization strategies depending on your query predicates. One can set comma separated
list of columns that needs to be sorted in this config.</li>
</ol>
</li>
<li class=""><code>JAVA_SORT_AND_SIZE_EXECUTION_STRATEGY</code>: Similar to <code>SPARK_SORT_AND_SIZE_EXECUTION_STRATEGY</code>, for the Java and Flink
engines. Set <code>hoodie.clustering.execution.strategy.class</code>
to <code>org.apache.hudi.client.clustering.run.strategy.JavaSortAndSizeExecutionStrategy</code>.</li>
<li class=""><code>SPARK_CONSISTENT_BUCKET_EXECUTION_STRATEGY</code>: As the name implies, this is applicable to dynamically expand
consistent bucket index and only applicable to the Spark engine. Set <code>hoodie.clustering.execution.strategy.class</code>
to <code>org.apache.hudi.client.clustering.run.strategy.SparkConsistentBucketClusteringExecutionStrategy</code>.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="update-strategy">Update Strategy<a href="#update-strategy" class="hash-link" aria-label="Direct link to Update Strategy" title="Direct link to Update Strategy" translate="no">​</a></h3>
<p>Currently, clustering can only be scheduled for tables/partitions not receiving any concurrent updates. By default,
the config for update strategy - <a class="" href="/docs/0.14.1/configurations/#hoodieclusteringupdatesstrategy"><code>hoodie.clustering.updates.strategy</code></a> is set to <em><strong>SparkRejectUpdateStrategy</strong></em>. If some file group has updates during clustering then it will reject updates and throw an
exception. However, in some use-cases updates are very sparse and do not touch most file groups. The default strategy to
simply reject updates does not seem fair. In such use-cases, users can set the config to <em><strong>SparkAllowUpdateStrategy</strong></em>.</p>
<p>We discussed the critical strategy configurations. All other configurations related to clustering are
listed <a class="" href="/docs/0.14.1/configurations/#Clustering-Configs">here</a>. Out of this list, a few configurations that will be very useful
for inline or async clustering are shown below with code samples.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="inline-clustering">Inline clustering<a href="#inline-clustering" class="hash-link" aria-label="Direct link to Inline clustering" title="Direct link to Inline clustering" translate="no">​</a></h2>
<p>Inline clustering happens synchronously with the regular ingestion writer, which means the next round of ingestion
cannot proceed until the clustering is complete. Inline clustering can be setup easily using spark dataframe options.
See sample below</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.apache.hudi.QuickstartUtils._</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import scala.collection.JavaConversions._</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.apache.spark.sql.SaveMode._</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.apache.hudi.DataSourceReadOptions._</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.apache.hudi.DataSourceWriteOptions._</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.apache.hudi.config.HoodieWriteConfig._</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">val df =  //generate data frame</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">df.write.format(&quot;org.apache.hudi&quot;).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        options(getQuickstartWriteConfigs).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        option(PRECOMBINE_FIELD_OPT_KEY, &quot;ts&quot;).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        option(RECORDKEY_FIELD_OPT_KEY, &quot;uuid&quot;).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        option(PARTITIONPATH_FIELD_OPT_KEY, &quot;partitionpath&quot;).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        option(TABLE_NAME, &quot;tableName&quot;).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        option(&quot;hoodie.parquet.small.file.limit&quot;, &quot;0&quot;).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        option(&quot;hoodie.clustering.inline&quot;, &quot;true&quot;).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        option(&quot;hoodie.clustering.inline.max.commits&quot;, &quot;4&quot;).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        option(&quot;hoodie.clustering.plan.strategy.target.file.max.bytes&quot;, &quot;1073741824&quot;).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        option(&quot;hoodie.clustering.plan.strategy.small.file.limit&quot;, &quot;629145600&quot;).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        option(&quot;hoodie.clustering.plan.strategy.sort.columns&quot;, &quot;column1,column2&quot;). //optional, if sorting is needed as part of rewriting data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        mode(Append).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        save(&quot;dfs://location&quot;);</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="async-clustering">Async Clustering<a href="#async-clustering" class="hash-link" aria-label="Direct link to Async Clustering" title="Direct link to Async Clustering" translate="no">​</a></h2>
<p>Async clustering runs the clustering table service in the background without blocking the regular ingestions writers.
Hudi supports <a href="https://hudi.apache.org/docs/concurrency_control#enabling-multi-writing" target="_blank" rel="noopener noreferrer" class="">multi-writers</a> which provides
snapshot isolation between multiple table services, thus allowing writers to continue with ingestion while clustering
runs in the background.</p>
<table><thead><tr><th>Config Name</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>hoodie.clustering.async.enabled</td><td>false (Optional)</td><td>Enable running of clustering service, asynchronously as inserts happen on the table.<br><br><code>Config Param: ASYNC_CLUSTERING_ENABLE</code><br><code>Since Version: 0.7.0</code></td></tr><tr><td>hoodie.clustering.async.max.commits</td><td>4 (Optional)</td><td>Config to control frequency of async clustering<br><br><code>Config Param: ASYNC_CLUSTERING_MAX_COMMITS</code><br><code>Since Version: 0.9.0</code></td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="setup-asynchronous-clustering">Setup Asynchronous Clustering<a href="#setup-asynchronous-clustering" class="hash-link" aria-label="Direct link to Setup Asynchronous Clustering" title="Direct link to Setup Asynchronous Clustering" translate="no">​</a></h2>
<p>Users can leverage <a href="https://cwiki.apache.org/confluence/display/HUDI/RFC+-+19+Clustering+data+for+freshness+and+query+performance#RFC19Clusteringdataforfreshnessandqueryperformance-SetupforAsyncclusteringJob" target="_blank" rel="noopener noreferrer" class="">HoodieClusteringJob</a>
to setup 2-step asynchronous clustering.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="hoodieclusteringjob">HoodieClusteringJob<a href="#hoodieclusteringjob" class="hash-link" aria-label="Direct link to HoodieClusteringJob" title="Direct link to HoodieClusteringJob" translate="no">​</a></h3>
<p>By specifying the <code>scheduleAndExecute</code> mode both schedule as well as clustering can be achieved in the same step.
The appropriate mode can be specified using <code>-mode</code> or <code>-m</code> option. There are three modes:</p>
<ol>
<li class=""><code>schedule</code>: Make a clustering plan. This gives an instant which can be passed in execute mode.</li>
<li class=""><code>execute</code>: Execute a clustering plan at a particular instant. If no instant-time is specified, HoodieClusteringJob will execute for the earliest instant on the Hudi timeline.</li>
<li class=""><code>scheduleAndExecute</code>: Make a clustering plan first and execute that plan immediately.</li>
</ol>
<p>Note that to run this job while the original writer is still running, please enable multi-writing:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.write.concurrency.mode=optimistic_concurrency_control</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.write.lock.provider=org.apache.hudi.client.transaction.lock.ZookeeperBasedLockProvider</span><br></span></code></pre></div></div>
<p>A sample spark-submit command to setup HoodieClusteringJob is as below:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">spark-submit \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--class org.apache.hudi.utilities.HoodieClusteringJob \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/path/to/hudi-utilities-bundle/target/hudi-utilities-bundle_2.12-0.9.0-SNAPSHOT.jar \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--props /path/to/config/clusteringjob.properties \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--mode scheduleAndExecute \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--base-path /path/to/hudi_table/basePath \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--table-name hudi_table_schedule_clustering \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--spark-memory 1g</span><br></span></code></pre></div></div>
<p>A sample <code>clusteringjob.properties</code> file:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.clustering.async.enabled=true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.clustering.async.max.commits=4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.clustering.plan.strategy.target.file.max.bytes=1073741824</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.clustering.plan.strategy.small.file.limit=629145600</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.clustering.execution.strategy.class=org.apache.hudi.client.clustering.run.strategy.SparkSortAndSizeExecutionStrategy</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.clustering.plan.strategy.sort.columns=column1,column2</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="hoodiestreamer">HoodieStreamer<a href="#hoodiestreamer" class="hash-link" aria-label="Direct link to HoodieStreamer" title="Direct link to HoodieStreamer" translate="no">​</a></h3>
<p>This brings us to our users&#x27; favorite utility in Hudi. Now, we can trigger asynchronous clustering with Hudi Streamer.
Just set the <code>hoodie.clustering.async.enabled</code> config to true and specify other clustering config in properties file
whose location can be pased as <code>—props</code> when starting the Hudi Streamer (just like in the case of HoodieClusteringJob).</p>
<p>A sample spark-submit command to setup HoodieStreamer is as below:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">spark-submit \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--class org.apache.hudi.utilities.streamer.HoodieStreamer \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/path/to/hudi-utilities-bundle/target/hudi-utilities-bundle_2.12-0.9.0-SNAPSHOT.jar \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--props /path/to/config/clustering_kafka.properties \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--schemaprovider-class org.apache.hudi.utilities.schema.SchemaRegistryProvider \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--source-class org.apache.hudi.utilities.sources.AvroKafkaSource \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--source-ordering-field impresssiontime \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--table-type COPY_ON_WRITE \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--target-base-path /path/to/hudi_table/basePath \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--target-table impressions_cow_cluster \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--op INSERT \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--hoodie-conf hoodie.clustering.async.enabled=true \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--continuous</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="spark-structured-streaming">Spark Structured Streaming<a href="#spark-structured-streaming" class="hash-link" aria-label="Direct link to Spark Structured Streaming" title="Direct link to Spark Structured Streaming" translate="no">​</a></h3>
<p>We can also enable asynchronous clustering with Spark structured streaming sink as shown below.</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">val commonOpts = Map(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   &quot;hoodie.insert.shuffle.parallelism&quot; -&gt; &quot;4&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   &quot;hoodie.upsert.shuffle.parallelism&quot; -&gt; &quot;4&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   DataSourceWriteOptions.RECORDKEY_FIELD.key -&gt; &quot;_row_key&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   DataSourceWriteOptions.PARTITIONPATH_FIELD.key -&gt; &quot;partition&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   DataSourceWriteOptions.PRECOMBINE_FIELD.key -&gt; &quot;timestamp&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   HoodieWriteConfig.TBL_NAME.key -&gt; &quot;hoodie_test&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def getAsyncClusteringOpts(isAsyncClustering: String, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                           clusteringNumCommit: String, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                           executionStrategy: String):Map[String, String] = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   commonOpts + (DataSourceWriteOptions.ASYNC_CLUSTERING_ENABLE.key -&gt; isAsyncClustering,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">           HoodieClusteringConfig.ASYNC_CLUSTERING_MAX_COMMITS.key -&gt; clusteringNumCommit,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">           HoodieClusteringConfig.EXECUTION_STRATEGY_CLASS_NAME.key -&gt; executionStrategy</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def initStreamingWriteFuture(hudiOptions: Map[String, String]): Future[Unit] = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   val streamingInput = // define the source of streaming</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   Future {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      println(&quot;streaming starting&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      streamingInput</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              .writeStream</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              .format(&quot;org.apache.hudi&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              .options(hudiOptions)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              .option(&quot;checkpointLocation&quot;, basePath + &quot;/checkpoint&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              .mode(Append)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              .start()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              .awaitTermination(10000)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      println(&quot;streaming ends&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">def structuredStreamingWithClustering(): Unit = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   val df = //generate data frame</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   val hudiOptions = getClusteringOpts(&quot;true&quot;, &quot;1&quot;, &quot;org.apache.hudi.client.clustering.run.strategy.SparkSortAndSizeExecutionStrategy&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   val f1 = initStreamingWriteFuture(hudiOptions)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   Await.result(f1, Duration.Inf)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="related-resources">Related Resources<a href="#related-resources" class="hash-link" aria-label="Direct link to Related Resources" title="Direct link to Related Resources" translate="no">​</a></h2>
<h3>Videos</h3>
<ul>
<li class=""><a href="https://www.youtube.com/watch?v=R_sm4wlGXuE" target="_blank" rel="noopener noreferrer" class="">Understanding Clustering in Apache Hudi and the Benefits of Asynchronous Clustering</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/apache/hudi/tree/asf-site/website/versioned_docs/version-0.14.1/clustering.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/0.14.1/compaction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Compaction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/0.14.1/metadata_indexing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Metadata Indexing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#background" class="table-of-contents__link toc-highlight">Background</a></li><li><a href="#how-is-compaction-different-from-clustering" class="table-of-contents__link toc-highlight">How is compaction different from clustering?</a></li><li><a href="#clustering-architecture" class="table-of-contents__link toc-highlight">Clustering Architecture</a><ul><li><a href="#overall-there-are-2-steps-to-clustering" class="table-of-contents__link toc-highlight">Overall, there are 2 steps to clustering</a></li><li><a href="#schedule-clustering" class="table-of-contents__link toc-highlight">Schedule clustering</a></li><li><a href="#execute-clustering" class="table-of-contents__link toc-highlight">Execute clustering</a></li></ul></li><li><a href="#clustering-usecases" class="table-of-contents__link toc-highlight">Clustering Usecases</a><ul><li><a href="#batching-small-files" class="table-of-contents__link toc-highlight">Batching small files</a></li><li><a href="#cluster-by-sort-key" class="table-of-contents__link toc-highlight">Cluster by sort key</a></li></ul></li><li><a href="#clustering-strategies" class="table-of-contents__link toc-highlight">Clustering Strategies</a><ul><li><a href="#plan-strategy" class="table-of-contents__link toc-highlight">Plan Strategy</a></li><li><a href="#execution-strategy" class="table-of-contents__link toc-highlight">Execution Strategy</a></li><li><a href="#update-strategy" class="table-of-contents__link toc-highlight">Update Strategy</a></li></ul></li><li><a href="#inline-clustering" class="table-of-contents__link toc-highlight">Inline clustering</a></li><li><a href="#async-clustering" class="table-of-contents__link toc-highlight">Async Clustering</a></li><li><a href="#setup-asynchronous-clustering" class="table-of-contents__link toc-highlight">Setup Asynchronous Clustering</a><ul><li><a href="#hoodieclusteringjob" class="table-of-contents__link toc-highlight">HoodieClusteringJob</a></li><li><a href="#hoodiestreamer" class="table-of-contents__link toc-highlight">HoodieStreamer</a></li><li><a href="#spark-structured-streaming" class="table-of-contents__link toc-highlight">Spark Structured Streaming</a></li></ul></li><li><a href="#related-resources" class="table-of-contents__link toc-highlight">Related Resources</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footerCustom_j_zv"><div class="container container-fluid container_y1z5"><div class="brand_kMBW"><a href="https://hudi.apache.org/" rel="noopener noreferrer" class="footerLogoLink_DDai"><img src="/assets/images/hudi.png" alt="Apache Hudi™" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/assets/images/hudi.png" alt="Apache Hudi™" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="links_AXCu"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">About</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog/2021/07/21/streaming-data-lake-platform">Our Vision</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts">Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/community/team">Team</a></li><li class="footer__item"><a class="footer__link-item" href="/releases/release-1.1.0">Releases</a></li><li class="footer__item"><a class="footer__link-item" href="/releases/download">Download</a></li><li class="footer__item"><a class="footer__link-item" href="/powered-by">Adopters</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/quick-start-guide">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/tutorial-series">Tutorial Series</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/talks">Talks</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/videos">Video Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/faq">FAQ</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Hudi On Cloud</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/s3_hoodie">AWS</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/gcs_hoodie">Google Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/oss_hoodie">Alibaba Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/azure_hoodie">Microsoft Azure</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cos_hoodie">Tencent Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/ibm_cos_hoodie">IBM Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/oci_hoodie">Oracle Cloud</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community/get-involved">Get Involved</a></li><li class="footer__item"><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/apache-hudi/?viewAsMember=true" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="mailto:dev-subscribe@hudi.apache.org?Subject=SubscribeToHudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mailing List</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Apache</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks</a></li><li class="footer__item"><a href="https://www.apache.org/licenses" target="_blank" rel="noopener noreferrer" class="footer__link-item">License</a></li><li class="footer__item"><a href="https://www.apache.org/security" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security</a></li><li class="footer__item"><a class="footer__link-item" href="/asf/privacy">Privacy</a></li><li class="footer__item"><a class="footer__link-item" href="/asf/telemetry">Telemetry</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship</a></li><li class="footer__item"><a href="https://www.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foundation</a></li></ul></div></div></div><div class="legal_MFbX"><div class="footer__copyright">Copyright © 2021 <a href="https://apache.org">The Apache Software Foundation</a>, Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0"> Apache License, Version 2.0</a>. Hudi, Apache and the Apache feather logo are trademarks of The Apache Software Foundation.<img referrerpolicy="no-referrer-when-downgrade" src="https://static.scarf.sh/a.png?x-pxid=8f594acf-9b77-44fb-9475-3e82ead1910c"><img referrerpolicy="no-referrer-when-downgrade" src="https://analytics.apache.org/matomo.php?idsite=47&amp;rec=1"></div></div></div></footer></div>
</body>
</html>