<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-record_merger" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Record Merger | Apache Hudi</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hudi.apache.org/docs/next/record_merger"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Record Merger | Apache Hudi"><meta data-rh="true" name="description" content="Hudi handles mutations to records and streaming data as briefly touched upon in the timeline ordering section."><meta data-rh="true" property="og:description" content="Hudi handles mutations to records and streaming data as briefly touched upon in the timeline ordering section."><meta data-rh="true" name="keywords" content="hudi,merge,upsert,precombine"><link data-rh="true" rel="icon" href="/assets/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://hudi.apache.org/docs/next/record_merger"><link data-rh="true" rel="alternate" href="https://hudi.apache.org/docs/next/record_merger" hreflang="en"><link data-rh="true" rel="alternate" href="https://hudi.apache.org/docs/next/record_merger" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Record Merger","item":"https://hudi.apache.org/docs/next/record_merger"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Hudi: User-Facing Analytics RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Hudi: User-Facing Analytics Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Apache Hudi: User-Facing Analytics JSON Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Apache Hudi" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/videos/rss.xml" title="Apache Hudi RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/videos/atom.xml" title="Apache Hudi Atom Feed">





<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="9e4444ba-93cc-45ea-b143-783ae0fbeb6f" data-project-name="Apache Hudi" data-project-color="#FFFFFF" data-project-logo="/assets/images/logo-big.png" data-modal-disclaimer="This AI assistant answers Apache Hudi questions using your [documentation](https://hudi.apache.org/docs/quick-start-guide/), [dev setup](https://hudi.apache.org/contribute/developer-setup/), the [tech specs](https://hudi.apache.org/tech-specs-1point0/) and [open GitHub Issues](https://github.com/apache/hudi/issues/`) from the last year." data-modal-title="Apache Hudi AI Assistant" data-modal-example-questions-title="Try asking me..." data-modal-example-questions="How can I convert an existing COW table to MOR?,How do I set up incremental queries with Hudi tables?" data-modal-image="/assets/images/logo-small.png" data-modal-image-ask-ai="/assets/images/logo-small.png" data-modal-header-min-height="64px" data-modal-image-height="44" data-modal-image-width="64" data-modal-header-bg-color="#f8f9fa" data-modal-title-color="#15467D" data-button-text-color="#29557a" data-button-text="Ask AI" data-consent-required="true" data-consent-screen-title="Help us improve our AI assistant" data-consent-screen-disclaimer="By clicking &amp;quot;Allow tracking&amp;quot;, you consent to the use of the AI assistant in accordance with kapa.ai&#39;s [Privacy Policy](https://www.kapa.ai/content/privacy-policy). This service uses reCAPTCHA, which requires your consent to Google&#39;s [Privacy Policy](https://policies.google.com/privacy) and [Terms of Service](https://policies.google.com/terms). By proceeding, you explicitly agree to both kapa.ai&#39;s and Google&#39;s privacy policies." data-consent-screen-accept-button-text="Allow tracking" data-modal-disclaimer-font-size="0.80rem" data-query-input-placeholder-text-color="#29557a" data-submit-query-button-bg-color="#228EDE" data-query-input-text-color="#29557a" data-user-analytics-cookie-enabled="false" data-query-input-border-color="#211b0e" data-question-text-color="#0db1f9" data-answer-text-color="#000" data-thread-clear-button-bg-color="#000000" data-thread-clear-button-text-color="#FFFFFF" data-answer-feedback-button-bg-color="#000000" data-answer-feedback-button-text-color="#FFFFFF" data-answer-feedback-button-active-bg-color="#000000" data-answer-feedback-button-active-text-color="#FFFFFF" data-answer-copy-button-bg-color="#000000" data-answer-copy-button-text-color="#FFFFFF" data-example-question-button-text-color="#29557a" data-modal-disclaimer-bg-color="#f8f9fa" data-modal-disclaimer-text-color="#15467D" data-deep-thinking-button-bg-color="#228EDE" data-deep-thinking-button-text-color="#FFFFFF" data-deep-thinking-button-active-bg-color="#0478C0" data-deep-thinking-button-hover-bg-color="#0478C0" data-deep-thinking-button-active-hover-bg-color="#0478C0" data-deep-thinking-button-active-text-color="#FFFFFF" async></script><link rel="stylesheet" href="/assets/css/styles.010b2389.css">
<script src="/assets/js/runtime~main.5b29edda.js" defer="defer"></script>
<script src="/assets/js/main.2dc4f331.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" role="banner"><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like <b>Apache Hudi</b>, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/apache/hudi"><b>GitHub!<svg xmlns="http://www.w3.org/2000/svg\" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 -2 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></b></a> ⭐</div></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarWrapper_j_uY"><div class="navbar__inner navbarInnerStyle_KoMw"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo navbarLogo_aghy"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/docs/overview">Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Learn</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/learn/tutorial-series">Tutorial Series</a></li><li><a class="dropdown__link" href="/learn/blog">Blogs</a></li><li><a class="dropdown__link" href="/learn/talks">Talks</a></li><li><a class="dropdown__link" href="/learn/videos">Video Guides</a></li><li><a class="dropdown__link" href="/learn/faq">FAQ</a></li><li><a class="dropdown__link" href="/learn/tech-specs">Tech Specs</a></li><li><a class="dropdown__link" href="/learn/tech-specs-1point0">Tech Specs 1.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Contribute</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/contribute/developer-sync-call">Developer Sync Call</a></li><li><a class="dropdown__link" href="/contribute/how-to-contribute">How to Contribute</a></li><li><a class="dropdown__link" href="/contribute/developer-setup">Developer Setup</a></li><li><a class="dropdown__link" href="/contribute/rfc-process">RFC Process</a></li><li><a class="dropdown__link" href="/contribute/security">Security</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/community/get-involved">Get Involved</a></li><li><a class="dropdown__link" href="/community/syncs">Community Syncs</a></li><li><a class="dropdown__link" href="/community/office_hours">Office Hours</a></li><li><a class="dropdown__link" href="/community/team">Team</a></li><li><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="dropdown__link">Github<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="dropdown__link">Slack<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://www.linkedin.com/company/apache-hudi/" target="_blank" rel="noopener noreferrer" class="dropdown__link">LinkedIn<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://www.youtube.com/@apachehudi" target="_blank" rel="noopener noreferrer" class="dropdown__link">YouTube<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://x.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="dropdown__link">X<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Ecosystem</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/powered-by">Adopters</a></li><li><a class="dropdown__link" href="/roadmap">Roadmap</a></li><li><a class="dropdown__link" href="/ecosystem">Integrations</a></li></ul></div><a class="navbar__item navbar__link" href="/releases/download">Download</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div><div role="button" class="searchButton_o6KI" aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 14 14"><circle cx="6.864" cy="6.864" r="5.243" stroke="#15467D" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></circle><path stroke="#15467D" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m10.51 10.783 2.056 2.05"></path></svg></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar navbarSideMenu_TODO"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><div class="navbar__logo navbarLogo_aghy"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><button type="button" aria-label="Close navigation bar" class="clean-btn navbar-sidebar__close"><svg viewBox="0 0 15 15" width="21" height="21"><g stroke="var(--ifm-color-emphasis-600)" stroke-width="1.2"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><div class="navbar-sidebar__items"><div class="navbar-sidebar__item menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/docs/overview">Docs</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Learn</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Contribute</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Community</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Ecosystem</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/releases/download">Download</a></li></ul></div><div class="navbar-sidebar__item menu"><button type="button" class="clean-btn navbar-sidebar__back">← Back to main menu</button></div></div></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_bSxm"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_cWv0"><aside class="theme-doc-sidebar-container docSidebarContainer_RSuS"><div class="sidebarViewport_pYEE"><div class="sidebar_mhZE"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Y1UP menuWithAnnouncementBar_fPny"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/next/overview"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/overview"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/quick-start-guide"><span title="Spark Quick Start" class="linkLabel_WmDU">Spark Quick Start</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/flink-quick-start-guide"><span title="Flink Quick Start" class="linkLabel_WmDU">Flink Quick Start</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/python-rust-quick-start-guide"><span title="Python/Rust Quick Start" class="linkLabel_WmDU">Python/Rust Quick Start</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/docker_demo"><span title="Docker Demo" class="linkLabel_WmDU">Docker Demo</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/notebooks"><span title="Notebooks" class="linkLabel_WmDU">Notebooks</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/use_cases"><span title="Use Cases" class="linkLabel_WmDU">Use Cases</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/next/hudi_stack"><span title="Design &amp; Concepts" class="categoryLinkLabel_W154">Design &amp; Concepts</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/hudi_stack"><span title="The Hudi Stack" class="linkLabel_WmDU">The Hudi Stack</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/timeline"><span title="Timeline" class="linkLabel_WmDU">Timeline</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/storage_layouts"><span title="Storage Layouts" class="linkLabel_WmDU">Storage Layouts</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/write_operations"><span title="Write Operations" class="linkLabel_WmDU">Write Operations</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/table_types"><span title="Table &amp; Query Types" class="linkLabel_WmDU">Table &amp; Query Types</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/key_generation"><span title="Key Generation" class="linkLabel_WmDU">Key Generation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/next/record_merger"><span title="Record Merger" class="linkLabel_WmDU">Record Merger</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/metadata"><span title="Table Metadata" class="linkLabel_WmDU">Table Metadata</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/indexes"><span title="Indexes" class="linkLabel_WmDU">Indexes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/concurrency_control"><span title="Concurrency Control" class="linkLabel_WmDU">Concurrency Control</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/schema_evolution"><span title="Schema Evolution" class="linkLabel_WmDU">Schema Evolution</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/hoodie_streaming_ingestion"><span title="Ingestion" class="categoryLinkLabel_W154">Ingestion</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/sql_ddl"><span title="Writing Tables" class="categoryLinkLabel_W154">Writing Tables</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/sql_queries"><span title="Reading Tables" class="categoryLinkLabel_W154">Reading Tables</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/compaction"><span title="Table Services" class="categoryLinkLabel_W154">Table Services</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/syncing_aws_glue_data_catalog"><span title="Data Catalogs" class="categoryLinkLabel_W154">Data Catalogs</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/snapshot_exporter"><span title="Platform &amp; Tools" class="categoryLinkLabel_W154">Platform &amp; Tools</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/performance"><span title="Operating Hudi" class="categoryLinkLabel_W154">Operating Hudi</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/basic_configurations"><span title="Configurations" class="categoryLinkLabel_W154">Configurations</span></a></div></li><li class="menu__list-item" style="margin-top:8px"><div class="versions_OQ6m"><hr class="divider_j8Te"><button class="header_Yg1K">Version Current<span class="caret_E30t"></span></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_hjYf"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Apache Hudi<!-- --> <b>Current</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/record_merger">latest version</a></b> (<!-- -->1.1.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Design &amp; Concepts</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Record Merger</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Current</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Record Merger</h1></header><p>Hudi handles mutations to records and streaming data as briefly touched upon in the <a class="" href="/docs/next/timeline#ordering-of-actions">timeline ordering</a> section.
To provide users with full-fledged support for stream processing, Hudi goes to great lengths to make the storage engine and the underlying storage format understand how to merge changes to the same record key, which may arrive in different orders at different times. With the rise of mobile applications and IoT, these scenarios have become the norm rather than an exception. For example, a social networking application may upload user events several hours after they occur when the user reconnects to Wi‑Fi.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="merge-modes">Merge Modes<a href="#merge-modes" class="hash-link" aria-label="Direct link to Merge Modes" title="Direct link to Merge Modes" translate="no">​</a></h2>
<p>To address these challenges, Hudi supports merge modes, which define how the base and log files are ordered in a file slice and how different records with the same record key within that file slice are merged consistently to produce the same deterministic results for snapshot queries, writers, and table services.</p>
<p>The merge mode is a table-level configuration used in the following code paths:</p>
<ul>
<li class="">
<p><strong>(writing)</strong> Combining multiple change records for the same record key while reading input data during writes. This is an optional optimization that reduces the number of records written to log files to improve query and write performance subsequently.</p>
</li>
<li class="">
<p><strong>(writing)</strong> Merging the final change record (partial/full update/delete) against the existing record in storage for COW tables.</p>
</li>
<li class="">
<p><strong>(compaction)</strong> Compaction service merges all change records in log files against base files, respecting the merge mode.</p>
</li>
<li class="">
<p><strong>(query)</strong> Merging change records in log files, after filtering and projections against the base file for MOR table queries.</p>
</li>
</ul>
<p>There are three merge modes: <code>COMMIT_TIME_ORDERING</code>, <code>EVENT_TIME_ORDERING</code>, and <code>CUSTOM</code>. The default merge mode is automatically inferred based on whether any ordering field is configured. If you do not specify an ordering field (e.g., <code>hoodie.table.ordering.fields</code>), the merge mode defaults to <code>COMMIT_TIME_ORDERING</code>, which replaces the old record with the new one from the incoming batch. If you do specify one or more ordering fields, the merge mode defaults to <code>EVENT_TIME_ORDERING</code>, which compares records based on the ordering field values to handle out-of-order data.</p>
<p>You can explicitly configure the merge mode using the write config <code>hoodie.write.record.merge.mode</code>. When you create or write to a table with this config, it will be persisted to the table&#x27;s configuration file (<code>hoodie.properties</code>) as <code>hoodie.record.merge.mode</code>. Once persisted, all subsequent reads and writes will use this merge mode unless explicitly overridden in the write config.</p>
<p>Merge mode is the way to choose and configure the record merger for your tables. For most use cases, you can choose <code>COMMIT_TIME_ORDERING</code> or <code>EVENT_TIME_ORDERING</code> by setting the appropriate ordering field(s) without any additional configuration or implementation. These modes provide standard merging behaviors that cover the majority of scenarios. For advanced use cases requiring custom merge logic, you can use the <code>CUSTOM</code> merge mode and implement the <code>HoodieRecordMerger</code> interface.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The merge mode should not be altered once a table is created to avoid inconsistent behavior due to compaction producing different merge results when switching between modes.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="commit_time_ordering"><code>COMMIT_TIME_ORDERING</code><a href="#commit_time_ordering" class="hash-link" aria-label="Direct link to commit_time_ordering" title="Direct link to commit_time_ordering" translate="no">​</a></h3>
<p>Here, we expect the input records to arrive in strict order such that arrival order matches their
delta commit order on the table. Merging picks the record belonging to the latest write as the merged result. In relational data model terms,
this provides overwrite semantics aligned with serializable writes on the timeline.</p>
<figure><img class="docimage" src="/assets/images/commit-time-ordering-merge-mode-e9b6af3dcdb508053202617218f3ffe6.png" alt="upsert_path.png"></figure>
<p>In the example above, the writer process consumes a database change log, expected to be in strict order of a logical sequence number (lsn)
that denotes the ordering of the writes in the upstream database.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="event_time_ordering"><code>EVENT_TIME_ORDERING</code><a href="#event_time_ordering" class="hash-link" aria-label="Direct link to event_time_ordering" title="Direct link to event_time_ordering" translate="no">​</a></h3>
<p>This is the default merge mode. While commit time ordering provides a well-understood standard behavior, it&#x27;s hardly sufficient. The commit time is unrelated to the actual
ordering of data that a user may care about and strict ordering of input in complex distributed systems is difficult to achieve.
With event time ordering, the merging picks the record with the highest value on a user-specified <em><strong>ordering or precombine field</strong></em> as the merged result.</p>
<figure><img class="docimage" src="/assets/images/event-time-ordering-merge-mode-c8164e035840388bf4290fa81ac6262a.png" alt="upsert_path.png"></figure>
<p>In the example above, two microservices produce change records about orders at different times that can arrive out of order. As color-coded,
this can lead to application-level inconsistent states in the table if simply merged in commit time order like a canceled order being re-created or
a paid order moved back to just-created state expecting payment again. Event time ordering helps by ignoring older state changes that arrive late and
avoiding order status from &quot;jumping back&quot; in time. Combined with <a class="" href="/docs/next/concurrency_control#non-blocking-concurrency-control-mode">non-blocking concurrency control</a>,
this provides a very powerful way to process such data streams efficiently and correctly.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="custom"><code>CUSTOM</code><a href="#custom" class="hash-link" aria-label="Direct link to custom" title="Direct link to custom" translate="no">​</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p><strong>For most users:</strong> The built-in <code>COMMIT_TIME_ORDERING</code> and <code>EVENT_TIME_ORDERING</code> merge modes should be sufficient. Only use <code>CUSTOM</code> mode if you need specialized merge logic that cannot be achieved with the standard modes.</p></div></div>
<p>In some cases, even more control and customization may be needed. Extending the example above, the two microservices could be updating two different
sets of columns &quot;order_info&quot; and &quot;payment_info&quot;, along with order state. The merge logic is then expected to not only resolve the correct status, but merge
order_info from the record in created state into the record in the canceled state that already has payment_info fields populated with reasons payment failed.
Such reconciliation provides a simple denormalized data model for downstream consumption where queries (for example, fraud detection) can simply filter fields
across order_info and payment_info without costly self-joins on each access.</p>
<p>To implement custom merge logic, you need to implement the <code>HoodieRecordMerger</code> interface. Hudi allows the authoring of cross-language custom record mergers on top of a standard record merger API, which supports full and partial merges. The <code>HoodieRecordMerger</code> interface uses the <code>BufferedRecord</code> class to provide better performance and consistency by working directly with engine-native record formats without requiring conversion to Avro.</p>
<p>The <code>BufferedRecord</code> class wraps the record data along with key information such as the record key, ordering value, schema identifier, and <code>HoodieOperation</code>. The <code>RecordContext</code> provides a common interface for accessing and manipulating records across different engines (Spark, Flink, etc.), making custom mergers engine-agnostic.</p>
<p>The Java APIs are sketched below at a high level. The interface takes older/newer records wrapped in <code>BufferedRecord</code> instances and produces a merged <code>BufferedRecord</code>. The record merger is configured using a <code>hoodie.write.record.merge.strategy.id</code> write config whose value is a UUID, which is taken by the writer to persist in the table config, and is expected to be returned by <code>getMergingStrategy()</code>
method below. Using this mechanism, Hudi can automatically deduce the record merger to use for the table across different language and engine runtimes.</p>
<div class="language-Java language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface HoodieRecordMerger {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;T&gt; BufferedRecord&lt;T&gt; merge(BufferedRecord&lt;T&gt; older, BufferedRecord&lt;T&gt; newer,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                RecordContext&lt;T&gt; recordContext, TypedProperties props) throws IOException {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Merges full records. Returns a non-null BufferedRecord.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // If the result represents a deletion, set HoodieOperation.DELETE on the returned record.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Ordering values must always be set if there are ordering fields for the table.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;T&gt; BufferedRecord&lt;T&gt; partialMerge(BufferedRecord&lt;T&gt; older, BufferedRecord&lt;T&gt; newer,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                       Schema readerSchema, RecordContext&lt;T&gt; recordContext,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                       TypedProperties props) throws IOException {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Merges records which can contain partial updates.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Returns a non-null BufferedRecord with only changed fields included.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // If the result represents a deletion, set HoodieOperation.DELETE on the returned record.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Ordering values must always be set if there are ordering fields for the table.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    HoodieRecordType getRecordType() {...}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    String getMergingStrategy() {...}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="implementation-guidelines">Implementation Guidelines<a href="#implementation-guidelines" class="hash-link" aria-label="Direct link to Implementation Guidelines" title="Direct link to Implementation Guidelines" translate="no">​</a></h4>
<p>When implementing the <code>HoodieRecordMerger</code> interface, follow these guidelines to ensure consistent results:</p>
<ol>
<li class="">
<p><strong>Return non-null records</strong>: Both <code>merge()</code> and <code>partialMerge()</code> methods must return a non-null <code>BufferedRecord</code>. The returned record should contain the merged data whenever possible, even if it represents a deletion. This allows future merge operations to reference the previous value of the data. However, if the data is not available or not needed, it is acceptable to return a <code>BufferedRecord</code> with null data (e.g., when using <code>BufferedRecords.createDelete()</code>).</p>
</li>
<li class="">
<p><strong>Handle deletions</strong>: If the merged result should delete the row matching the record key, set the <code>HoodieOperation</code> to <code>DELETE</code> on the returned <code>BufferedRecord</code> using <code>setHoodieOperation(HoodieOperation.DELETE)</code>.</p>
</li>
<li class="">
<p><strong>Preserve ordering values</strong>: Always set ordering values in the result if there are any ordering fields configured for the table. This ensures that future merge operations can reference these values correctly.</p>
</li>
<li class="">
<p><strong>Use RecordContext</strong>: The <code>RecordContext</code> parameter provides engine-agnostic methods to access field values, extract record keys, and manipulate records. Use methods like <code>getValue()</code>, <code>getRecordKey()</code>, and <code>mergeWithEngineRecord()</code> to work with the underlying data.</p>
</li>
<li class="">
<p><strong>Associative property</strong>: The <code>merge()</code> method should be associative: <code>merge(a, merge(b, c))</code> should yield the same result as <code>merge(merge(a, b), c)</code> for any three versions A, B, C of the same record.</p>
</li>
</ol>
<p>For more details on the implementation, see <a href="https://github.com/apache/hudi/blob/master/rfc/rfc-101/rfc-101.md" target="_blank" rel="noopener noreferrer" class="">RFC 101</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="merge-mode-configs">Merge Mode Configs<a href="#merge-mode-configs" class="hash-link" aria-label="Direct link to Merge Mode Configs" title="Direct link to Merge Mode Configs" translate="no">​</a></h3>
<p>The record merge mode and optional record merge strategy ID and custom merge implementation classes can be specified using the below configs.</p>
<table><thead><tr><th>Config Name</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>hoodie.write.record.merge.mode</td><td>EVENT_TIME_ORDERING (when ordering field is set)<br>COMMIT_TIME_ORDERING (when ordering field is not set)</td><td>Determines the logic of merging different records with the same record key. Valid values: (1) <code>COMMIT_TIME_ORDERING</code>: use commit time to merge records, i.e., the record from later commit overwrites the earlier record with the same key. (2) <code>EVENT_TIME_ORDERING</code>: use event time as the ordering to merge records, i.e., the record with the larger event time overwrites the record with the smaller event time on the same key, regardless of commit time. The event time or preCombine field needs to be specified by the user. This is the default when an ordering field is configured. (3) <code>CUSTOM</code>: use custom merging logic specified by the user.<br><code>Config Param: RECORD_MERGE_MODE</code><br><code>Since Version: 1.0.0</code></td></tr><tr><td>hoodie.write.record.merge.strategy.id</td><td>N/A (Optional)</td><td>ID of record merge strategy. Hudi will pick <code>HoodieRecordMerger</code> implementations from <code>hoodie.write.record.merge.custom.implementation.classes</code> that have the same merge strategy ID. When using custom merge logic, you need to specify both this config and <code>hoodie.write.record.merge.custom.implementation.classes</code>.<br><code>Config Param: RECORD_MERGE_STRATEGY_ID</code><br><code>Since Version: 0.13.0</code><br><code>Alternative: hoodie.datasource.write.record.merger.strategy</code> (deprecated)</td></tr><tr><td>hoodie.write.record.merge.custom.implementation.classes</td><td>N/A (Optional)</td><td>List of <code>HoodieRecordMerger</code> implementations constituting Hudi&#x27;s merging strategy based on the engine used. Hudi selects the first implementation from this list that matches the following criteria: (1) has the same merge strategy ID as specified in <code>hoodie.write.record.merge.strategy.id</code> (if provided), (2) is compatible with the execution engine (e.g., SPARK merger for Spark, FLINK merger for Flink, AVRO for Java/Hive). The order in the list matters - place your preferred implementation first. Engine-specific implementations (SPARK, FLINK) are more efficient as they avoid Avro serialization/deserialization overhead.<br><code>Config Param: RECORD_MERGE_IMPL_CLASSES</code><br><code>Since Version: 0.13.0</code><br><code>Alternative: hoodie.datasource.write.record.merger.impls</code> (deprecated)</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="record-payloads-deprecated">Record Payloads (deprecated)<a href="#record-payloads-deprecated" class="hash-link" aria-label="Direct link to Record Payloads (deprecated)" title="Direct link to Record Payloads (deprecated)" translate="no">​</a></h2>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p><strong>Deprecation Notice:</strong> As of release 1.1.0, the payload-based approach for record merging is deprecated. This approach is closely tied to Avro-formatted records, making it less compatible with native query engine formats (e.g., Spark InternalRow) and more challenging to maintain. We strongly recommends migrating to <a href="#merge-modes" class="">merge modes</a>, which offer better flexibility, performance, and maintainability for modern lakehouse architectures.</p><p>Existing payload-based configurations will continue to work through backwards compatibility, but users are encouraged to migrate their implementations. For details, see <a href="https://github.com/apache/hudi/pull/13499" target="_blank" rel="noopener noreferrer" class="">RFC 97</a>.</p></div></div>
<p>Record payload is an older abstraction/API for achieving similar record-level merge capabilities. While record payloads were very useful and popular,
they had drawbacks like lower performance due to conversion of engine-native record formats to Apache Avro for merging and lack of cross-language support.
As we shall see below, Hudi provides out-of-the-box support for different payloads for different use cases. Hudi implements fallback from
record merger APIs to payload APIs internally, to provide backwards compatibility for existing payload implementations.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="overwritewithlatestavropayload-deprecated">OverwriteWithLatestAvroPayload (deprecated)<a href="#overwritewithlatestavropayload-deprecated" class="hash-link" aria-label="Direct link to OverwriteWithLatestAvroPayload (deprecated)" title="Direct link to OverwriteWithLatestAvroPayload (deprecated)" translate="no">​</a></h3>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.datasource.write.payload.class=org.apache.hudi.common.model.OverwriteWithLatestAvroPayload</span><br></span></code></pre></div></div>
<p>This is the default record payload implementation. It picks the record with the greatest value (determined by calling
<code>.compareTo()</code> on the value of precombine key) to break ties and simply picks the latest record while merging. This gives
latest-write-wins style semantics.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="defaulthoodierecordpayload-deprecated">DefaultHoodieRecordPayload (deprecated)<a href="#defaulthoodierecordpayload-deprecated" class="hash-link" aria-label="Direct link to DefaultHoodieRecordPayload (deprecated)" title="Direct link to DefaultHoodieRecordPayload (deprecated)" translate="no">​</a></h3>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.datasource.write.payload.class=org.apache.hudi.common.model.DefaultHoodieRecordPayload</span><br></span></code></pre></div></div>
<p>While <code>OverwriteWithLatestAvroPayload</code> precombines based on an ordering field and picks the latest record while merging,
<code>DefaultHoodieRecordPayload</code> honors the ordering field for both precombining and merging. Let&#x27;s understand the difference with an example:</p>
<p>Let&#x27;s say the ordering field is <code>ts</code> and record key is <code>id</code> and schema is:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;id&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;ts&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;long&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;name&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;price&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<p>Current record in storage:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    id      ts      name    price</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    1       2       name_2  price_2</span><br></span></code></pre></div></div>
<p>Incoming record:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    id      ts      name    price</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    1       1       name_1    price_1</span><br></span></code></pre></div></div>
<p>Result data after merging using <code>OverwriteWithLatestAvroPayload</code> (latest-write-wins):</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    id      ts      name    price</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    1       1       name_1  price_1</span><br></span></code></pre></div></div>
<p>Result data after merging using <code>DefaultHoodieRecordPayload</code> (always honors ordering field):</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    id      ts      name    price</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    1       2       name_2  price_2</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eventtimeavropayload-deprecated">EventTimeAvroPayload (deprecated)<a href="#eventtimeavropayload-deprecated" class="hash-link" aria-label="Direct link to EventTimeAvroPayload (deprecated)" title="Direct link to EventTimeAvroPayload (deprecated)" translate="no">​</a></h3>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.datasource.write.payload.class=org.apache.hudi.common.model.EventTimeAvroPayload</span><br></span></code></pre></div></div>
<p>This is the default record payload for Flink-based writing. Some use cases require merging records by event time and
thus event time plays the role of an ordering field. This payload is particularly useful in the case of late-arriving data.
For such use cases, users need to set the <a class="" href="/docs/next/configurations#RECORD_PAYLOAD">payload event time field</a> configuration.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="overwritenondefaultswithlatestavropayload-deprecated">OverwriteNonDefaultsWithLatestAvroPayload (deprecated)<a href="#overwritenondefaultswithlatestavropayload-deprecated" class="hash-link" aria-label="Direct link to OverwriteNonDefaultsWithLatestAvroPayload (deprecated)" title="Direct link to OverwriteNonDefaultsWithLatestAvroPayload (deprecated)" translate="no">​</a></h3>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.datasource.write.payload.class=org.apache.hudi.common.model.OverwriteNonDefaultsWithLatestAvroPayload</span><br></span></code></pre></div></div>
<p>This payload is quite similar to <code>OverwriteWithLatestAvroPayload</code> with slight difference while merging records. For
precombining, just like <code>OverwriteWithLatestAvroPayload</code>, it picks the latest record for a key, based on an ordering
field. While merging, it overwrites the existing record on storage only for the specified <strong>fields that don&#x27;t equal
default value</strong> for that field.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="partialupdateavropayload-deprecated">PartialUpdateAvroPayload (deprecated)<a href="#partialupdateavropayload-deprecated" class="hash-link" aria-label="Direct link to PartialUpdateAvroPayload (deprecated)" title="Direct link to PartialUpdateAvroPayload (deprecated)" translate="no">​</a></h3>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hoodie.datasource.write.payload.class=org.apache.hudi.common.model.PartialUpdateAvroPayload</span><br></span></code></pre></div></div>
<p>This payload supports partial update. Typically, once the merge step resolves which record to pick, then the record on
storage is fully replaced by the resolved record. But, in some cases, the requirement is to update only certain fields
and not replace the whole record. This is called partial update. <code>PartialUpdateAvroPayload</code> provides out-of-the-box support
for such use cases. To illustrate the point, let us look at a simple example:</p>
<p>Let&#x27;s say the ordering field is <code>ts</code> and record key is <code>id</code> and schema is:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;id&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;ts&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;long&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;name&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;price&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<p>Current record in storage:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    id      ts      name    price</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    1       2       name_1  null</span><br></span></code></pre></div></div>
<p>Incoming record:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    id      ts      name    price</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    1       1       null    price_1</span><br></span></code></pre></div></div>
<p>Result data after merging using <code>PartialUpdateAvroPayload</code>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    id      ts      name    price</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    1       2       name_1  price_1</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="record-payload-configs-deprecated">Record Payload Configs (deprecated)<a href="#record-payload-configs-deprecated" class="hash-link" aria-label="Direct link to Record Payload Configs (deprecated)" title="Direct link to Record Payload Configs (deprecated)" translate="no">​</a></h3>
<p>Payload class can be specified using the below configs. For more advanced configs, refer to <a href="https://hudi.apache.org/docs/configurations#RECORD_PAYLOAD" target="_blank" rel="noopener noreferrer" class="">the configurations page</a></p>
<p><strong>Spark based configs:</strong></p>
<table><thead><tr><th>Config Name</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>hoodie.datasource.write.payload.class</td><td>org.apache.hudi.common.model.OverwriteWithLatestAvroPayload (Optional)</td><td>Payload class used. Override this, if you like to roll your own merge logic, when upserting/inserting. This will render any value set for PRECOMBINE_FIELD_OPT_VAL in-effective<br><br><code>Config Param: WRITE_PAYLOAD_CLASS_NAME</code></td></tr></tbody></table>
<p><strong>Flink-based configs:</strong></p>
<table><thead><tr><th>Config Name</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>payload.class</td><td>org.apache.hudi.common.model.EventTimeAvroPayload (Optional)</td><td>Payload class used. Override this, if you like to roll your own merge logic, when upserting/inserting. This will render any value set for the option in-effective<br><br> <code>Config Param: PAYLOAD_CLASS_NAME</code></td></tr></tbody></table>
<p>There are also quite a few other implementations. Developers may be interested in looking at the hierarchy of <code>HoodieRecordPayload</code> interface. For
example, <a href="https://github.com/apache/hudi/blob/e76dd102bcaf8aec5a932e7277ccdbfd73ce1a32/hudi-common/src/main/java/org/apache/hudi/common/model/debezium/MySqlDebeziumAvroPayload.java" target="_blank" rel="noopener noreferrer" class=""><code>MySqlDebeziumAvroPayload</code></a> and <a href="https://github.com/apache/hudi/blob/e76dd102bcaf8aec5a932e7277ccdbfd73ce1a32/hudi-common/src/main/java/org/apache/hudi/common/model/debezium/PostgresDebeziumAvroPayload.java" target="_blank" rel="noopener noreferrer" class=""><code>PostgresDebeziumAvroPayload</code></a> provide support for seamlessly applying changes
captured via Debezium for MySQL and PostgresDB. <a href="https://github.com/apache/hudi/blob/e76dd102bcaf8aec5a932e7277ccdbfd73ce1a32/hudi-common/src/main/java/org/apache/hudi/common/model/AWSDmsAvroPayload.java" target="_blank" rel="noopener noreferrer" class=""><code>AWSDmsAvroPayload</code></a> provides support for applying changes captured via Amazon Database Migration Service onto S3.
For full configurations, see <a class="" href="/docs/next/configurations#RECORD_PAYLOAD">the configurations page</a> and please check out <a class="" href="/faq/writing_tables/#can-i-implement-my-own-logic-for-how-input-records-are-merged-with-record-on-storage">the FAQ</a> if you want to implement your own custom payloads.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="related-resources">Related Resources<a href="#related-resources" class="hash-link" aria-label="Direct link to Related Resources" title="Direct link to Related Resources" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="blogs">Blogs<a href="#blogs" class="hash-link" aria-label="Direct link to Blogs" title="Direct link to Blogs" translate="no">​</a></h3>
<ul>
<li class=""><a href="https://medium.com/@simpsons/how-to-define-your-own-merge-logic-with-apache-hudi-622ee5ccab1e" target="_blank" rel="noopener noreferrer" class="">How to define your own merge logic with Apache Hudi</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/apache/hudi/tree/asf-site/website/docs/record_merger.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/next/key_generation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Key Generation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/next/metadata"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Table Metadata</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#merge-modes" class="table-of-contents__link toc-highlight">Merge Modes</a><ul><li><a href="#commit_time_ordering" class="table-of-contents__link toc-highlight"><code>COMMIT_TIME_ORDERING</code></a></li><li><a href="#event_time_ordering" class="table-of-contents__link toc-highlight"><code>EVENT_TIME_ORDERING</code></a></li><li><a href="#custom" class="table-of-contents__link toc-highlight"><code>CUSTOM</code></a><ul><li><a href="#implementation-guidelines" class="table-of-contents__link toc-highlight">Implementation Guidelines</a></li></ul></li><li><a href="#merge-mode-configs" class="table-of-contents__link toc-highlight">Merge Mode Configs</a></li></ul></li><li><a href="#record-payloads-deprecated" class="table-of-contents__link toc-highlight">Record Payloads (deprecated)</a><ul><li><a href="#overwritewithlatestavropayload-deprecated" class="table-of-contents__link toc-highlight">OverwriteWithLatestAvroPayload (deprecated)</a></li><li><a href="#defaulthoodierecordpayload-deprecated" class="table-of-contents__link toc-highlight">DefaultHoodieRecordPayload (deprecated)</a></li><li><a href="#eventtimeavropayload-deprecated" class="table-of-contents__link toc-highlight">EventTimeAvroPayload (deprecated)</a></li><li><a href="#overwritenondefaultswithlatestavropayload-deprecated" class="table-of-contents__link toc-highlight">OverwriteNonDefaultsWithLatestAvroPayload (deprecated)</a></li><li><a href="#partialupdateavropayload-deprecated" class="table-of-contents__link toc-highlight">PartialUpdateAvroPayload (deprecated)</a></li><li><a href="#record-payload-configs-deprecated" class="table-of-contents__link toc-highlight">Record Payload Configs (deprecated)</a></li></ul></li><li><a href="#related-resources" class="table-of-contents__link toc-highlight">Related Resources</a><ul><li><a href="#blogs" class="table-of-contents__link toc-highlight">Blogs</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footerCustom_j_zv"><div class="container container-fluid container_y1z5"><div class="brand_kMBW"><a href="https://hudi.apache.org/" rel="noopener noreferrer" class="footerLogoLink_DDai"><img src="/assets/images/hudi.png" alt="Apache Hudi™" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/assets/images/hudi.png" alt="Apache Hudi™" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="links_AXCu"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">About</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog/2021/07/21/streaming-data-lake-platform">Our Vision</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts">Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/community/team">Team</a></li><li class="footer__item"><a class="footer__link-item" href="/releases/release-1.1.0">Releases</a></li><li class="footer__item"><a class="footer__link-item" href="/releases/download">Download</a></li><li class="footer__item"><a class="footer__link-item" href="/powered-by">Adopters</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/quick-start-guide">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/tutorial-series">Tutorial Series</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/talks">Talks</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/videos">Video Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/faq">FAQ</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Hudi On Cloud</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/s3_hoodie">AWS</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/gcs_hoodie">Google Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/oss_hoodie">Alibaba Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/azure_hoodie">Microsoft Azure</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cos_hoodie">Tencent Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/ibm_cos_hoodie">IBM Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/oci_hoodie">Oracle Cloud</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community/get-involved">Get Involved</a></li><li class="footer__item"><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/apache-hudi/?viewAsMember=true" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="mailto:dev-subscribe@hudi.apache.org?Subject=SubscribeToHudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mailing List</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Apache</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks</a></li><li class="footer__item"><a href="https://www.apache.org/licenses" target="_blank" rel="noopener noreferrer" class="footer__link-item">License</a></li><li class="footer__item"><a href="https://www.apache.org/security" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security</a></li><li class="footer__item"><a class="footer__link-item" href="/asf/privacy">Privacy</a></li><li class="footer__item"><a class="footer__link-item" href="/asf/telemetry">Telemetry</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship</a></li><li class="footer__item"><a href="https://www.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foundation</a></li></ul></div></div></div><div class="legal_MFbX"><div class="footer__copyright">Copyright © 2021 <a href="https://apache.org">The Apache Software Foundation</a>, Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0"> Apache License, Version 2.0</a>. Hudi, Apache and the Apache feather logo are trademarks of The Apache Software Foundation.<img referrerpolicy="no-referrer-when-downgrade" src="https://static.scarf.sh/a.png?x-pxid=8f594acf-9b77-44fb-9475-3e82ead1910c"><img referrerpolicy="no-referrer-when-downgrade" src="https://analytics.apache.org/matomo.php?idsite=47&amp;rec=1"></div></div></div></footer></div>
</body>
</html>