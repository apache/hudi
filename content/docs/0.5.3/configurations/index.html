<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-0.5.3 docs-doc-page docs-custom-styles docs-doc-id-configurations" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Configurations | Apache Hudi</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hudi.apache.org/docs/0.5.3/configurations"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="cn"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="0.5.3"><meta data-rh="true" name="docusaurus_tag" content="docs-default-0.5.3"><meta data-rh="true" name="docsearch:version" content="0.5.3"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-0.5.3"><meta data-rh="true" property="og:title" content="Configurations | Apache Hudi"><meta data-rh="true" name="description" content="This page covers the different ways of configuring your job to write/read Hudi tables."><meta data-rh="true" property="og:description" content="This page covers the different ways of configuring your job to write/read Hudi tables."><meta data-rh="true" name="keywords" content="garbage collection,hudi,jvm,configs,tuning"><link data-rh="true" rel="icon" href="/assets/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://hudi.apache.org/docs/0.5.3/configurations"><link data-rh="true" rel="alternate" href="https://hudi.apache.org/docs/0.5.3/configurations" hreflang="en"><link data-rh="true" rel="alternate" href="https://hudi.apache.org/cn/docs/0.5.3/configurations" hreflang="cn"><link data-rh="true" rel="alternate" href="https://hudi.apache.org/docs/0.5.3/configurations" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Configurations","item":"https://hudi.apache.org/docs/0.5.3/configurations"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Hudi: User-Facing Analytics RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Hudi: User-Facing Analytics Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Apache Hudi: User-Facing Analytics JSON Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Apache Hudi" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/videos/rss.xml" title="Apache Hudi RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/videos/atom.xml" title="Apache Hudi Atom Feed">





<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comfortaa|Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">
<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="9e4444ba-93cc-45ea-b143-783ae0fbeb6f" data-project-name="Apache Hudi" data-project-color="#FFFFFF" data-project-logo="https://hudi.apache.org/assets/images/logo-big.png" data-modal-disclaimer="This AI assistant answers Apache Hudi questions using your [documentation](https://hudi.apache.org/docs/quick-start-guide/), [dev setup](https://hudi.apache.org/contribute/developer-setup/), the [tech specs](https://hudi.apache.org/tech-specs-1point0/) and open GitHub Issues from the last year." data-modal-title="Apache Hudi AI Assistant" data-modal-example-questions-title="Try asking me..." data-modal-example-questions="How can I convert an existing COW table to MOR?,How do I set up incremental queries with Hudi tables?" data-modal-image="https://hudi.apache.org/assets/images/logo-big-2.png" data-modal-image-ask-ai="https://hudi.apache.org/assets/images/logo-big-2.png" data-modal-header-min-height="64px" data-modal-image-height="40" data-modal-image-width="40" data-modal-header-bg-color="#ffffff" data-modal-title-color="rgb(13, 177, 249)" data-button-text-color="rgb(41, 85, 122)" data-button-text="Ask AI" data-consent-required="true" data-consent-screen-title="Help us improve our AI assistant" data-consent-screen-disclaimer="By clicking &amp;quot;Allow tracking&amp;quot;, you consent to the use of the AI assistant in accordance with kapa.ai&#39;s [Privacy Policy](https://www.kapa.ai/content/privacy-policy). This service uses reCAPTCHA, which requires your consent to Google&#39;s [Privacy Policy](https://policies.google.com/privacy) and [Terms of Service](https://policies.google.com/terms). By proceeding, you explicitly agree to both kapa.ai&#39;s and Google&#39;s privacy policies." data-consent-screen-accept-button-text="Allow tracking" data-query-input-placeholder-text-color="rgb(41, 85, 122)" data-submit-query-button-bg-color="#000" data-user-analytics-cookie-enabled="false" async></script><link rel="stylesheet" href="/assets/css/styles.d08ff122.css">
<script src="/assets/js/runtime~main.313c9c4b.js" defer="defer"></script>
<script src="/assets/js/main.3ac92b10.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" role="banner"><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like <b>Apache Hudi</b>, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/apache/hudi"><b>GitHub!<svg xmlns="http://www.w3.org/2000/svg\" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 -2 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></b></a> ⭐</div></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarWrapper_j_uY"><div class="navbar__inner navbarInnerStyle_KoMw"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo navbarLogo_aghy"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/docs/overview">Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Learn</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/learn/tutorial-series">Tutorial Series</a></li><li><a class="dropdown__link" href="/talks">Talks</a></li><li><a class="dropdown__link" href="/videos">Video Guides</a></li><li><a class="dropdown__link" href="/docs/faq">FAQ</a></li><li><a class="dropdown__link" href="/tech-specs">Tech Specs</a></li><li><a class="dropdown__link" href="/tech-specs-1point0">Tech Specs 1.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Contribute</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/contribute/developer-sync-call">Developer Sync Call</a></li><li><a class="dropdown__link" href="/contribute/how-to-contribute">How to Contribute</a></li><li><a class="dropdown__link" href="/contribute/developer-setup">Developer Setup</a></li><li><a class="dropdown__link" href="/contribute/rfc-process">RFC Process</a></li><li><a class="dropdown__link" href="/contribute/report-security-issues">Report Issues</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/community/get-involved">Get Involved</a></li><li><a class="dropdown__link" href="/community/syncs">Community Syncs</a></li><li><a class="dropdown__link" href="/community/office_hours">Office Hours</a></li><li><a class="dropdown__link" href="/community/team">Team</a></li><li><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="dropdown__link">Join Our Slack Space<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><a class="navbar__item navbar__link" href="/ecosystem">Ecosystem</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/powered-by">Who&#x27;s Using</a><a class="navbar__item navbar__link" href="/roadmap">Roadmap</a><a class="navbar__item navbar__link" href="/releases/download">Download</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/0.5.3/configurations">0.5.3</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/configurations">Current</a></li><li><a class="dropdown__link" href="/docs/configurations">1.0.2</a></li><li><a class="dropdown__link" href="/docs/1.0.1/configurations">1.0.1</a></li><li><a class="dropdown__link" href="/docs/1.0.0/configurations">1.0.0</a></li><li><a class="dropdown__link" href="/docs/0.15.0/configurations">0.15.0</a></li><li><a class="dropdown__link" href="/docs/0.14.1/configurations">0.14.1</a></li><li><a class="dropdown__link" href="/docs/0.14.0/configurations">0.14.0</a></li><li><a class="dropdown__link" href="/docs/0.13.1/configurations">0.13.1</a></li><li><a class="dropdown__link" href="/docs/0.13.0/configurations">0.13.0</a></li><li><a class="dropdown__link" href="/docs/0.12.3/configurations">0.12.3</a></li><li><a class="dropdown__link" href="/docs/0.12.2/configurations">0.12.2</a></li><li><a class="dropdown__link" href="/docs/0.12.1/configurations">0.12.1</a></li><li><a class="dropdown__link" href="/docs/0.12.0/configurations">0.12.0</a></li><li><a class="dropdown__link" href="/docs/0.11.1/configurations">0.11.1</a></li><li><a class="dropdown__link" href="/docs/0.11.0/configurations">0.11.0</a></li><li><a class="dropdown__link" href="/docs/0.10.1/configurations">0.10.1</a></li><li><a class="dropdown__link" href="/docs/0.10.0/configurations">0.10.0</a></li><li><a class="dropdown__link" href="/docs/0.9.0/configurations">0.9.0</a></li><li><a class="dropdown__link" href="/docs/0.8.0/configurations">0.8.0</a></li><li><a class="dropdown__link" href="/docs/0.7.0/configurations">0.7.0</a></li><li><a class="dropdown__link" href="/docs/0.6.0/configurations">0.6.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/0.5.3/configurations">0.5.3</a></li><li><a class="dropdown__link" href="/docs/0.5.2/configurations">0.5.2</a></li><li><a class="dropdown__link" href="/docs/0.5.1/configurations">0.5.1</a></li><li><a class="dropdown__link" href="/docs/0.5.0/configurations">0.5.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link locale-dropdown-wrapper"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 14 14" class="globeIcon_RxQM"><g clip-path="url(#a)"><path fill="#1C1E21" d="M14 6.457a6.84 6.84 0 0 0-7-6.02 6.843 6.843 0 0 0-7 6.02v1.085a6.843 6.843 0 0 0 7 6.02 6.843 6.843 0 0 0 7-6.02zm-1.094 0h-2.625a10 10 0 0 0-.376-2.222 6.7 6.7 0 0 0 1.531-.875 5.25 5.25 0 0 1 1.444 3.097zm-8.032 0a8.5 8.5 0 0 1 .324-1.872 7.4 7.4 0 0 0 3.63 0c.175.61.284 1.239.325 1.872zm4.305 1.085a8.4 8.4 0 0 1-.324 1.873 7.46 7.46 0 0 0-3.658 0 8.5 8.5 0 0 1-.323-1.873zm.35-4.375A10.3 10.3 0 0 0 8.75 1.75c.627.194 1.218.49 1.75.875a5.8 5.8 0 0 1-.998.577zM7.254 1.54A8.8 8.8 0 0 1 8.46 3.552c-.48.11-.97.165-1.461.167-.492-.001-.982-.057-1.461-.167.308-.722.715-1.4 1.207-2.012zM4.498 3.202a5.8 5.8 0 0 1-.998-.577 6 6 0 0 1 1.75-.875c-.294.46-.546.947-.753 1.452m-1.873.15c.47.358.984.652 1.531.874A9.6 9.6 0 0 0 3.78 6.45H1.155a5.25 5.25 0 0 1 1.47-3.098M1.12 7.541h2.625c.038.753.164 1.5.376 2.223a6.7 6.7 0 0 0-1.531.875 5.25 5.25 0 0 1-1.47-3.098m3.377 3.255q.311.76.753 1.453a6 6 0 0 1-1.75-.875q.47-.34.997-.578m2.25 1.663a8.6 8.6 0 0 1-1.208-2.013 6.5 6.5 0 0 1 2.922 0 8.5 8.5 0 0 1-1.207 2.013zm2.755-1.663q.552.235 1.042.578a6.3 6.3 0 0 1-1.75.875q.413-.697.708-1.453m1.873-.148a6.7 6.7 0 0 0-1.531-.875 9.5 9.5 0 0 0 .376-2.223h2.625a5.25 5.25 0 0 1-1.47 3.098"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h14v14H0z"></path></clipPath></defs></svg></a><ul class="dropdown__menu"><li><a href="/docs/0.5.3/configurations" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/cn/docs/0.5.3/configurations" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="cn">Chinese</a></li></ul></div><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://x.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-twitter-link" aria-label="Hudi Twitter Handle"></a><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-slack-link" aria-label="Hudi Slack Channel"></a><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-youtube-link" aria-label="Hudi YouTube Channel"></a><a href="https://www.linkedin.com/company/apache-hudi/?viewAsMember=true" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-linkedin-link" aria-label="Hudi Linkedin Page"></a><div class="navbarSearchContainer_Bca1"><div><div role="button" class="searchButton_o6KI" aria-label="Search"><span class="searchText_sHOJ">Search</span><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 14 14"><circle cx="6.864" cy="6.864" r="5.243" stroke="#1C1E21" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></circle><path stroke="#1C1E21" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m10.51 10.783 2.056 2.05"></path></svg></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar navbarSideMenu_TODO"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><div class="navbar__logo navbarLogo_aghy"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/assets/images/hudi.png" alt="Apache Hudi" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><button type="button" aria-label="Close navigation bar" class="clean-btn navbar-sidebar__close"><svg viewBox="0 0 15 15" width="21" height="21"><g stroke="var(--ifm-color-emphasis-600)" stroke-width="1.2"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><div class="navbar-sidebar__items"><div class="navbar-sidebar__item menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/docs/overview">Docs</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Learn</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Contribute</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Community</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/ecosystem">Ecosystem</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/powered-by">Who&#x27;s Using</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/roadmap">Roadmap</a></li><li class="menu__list-item"><a class="menu__link navbarFontSize_pR5Q" href="/releases/download">Download</a></li><li class="menu__list-item"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret navbarFontSize_pR5Q">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/next/configurations">Current</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/configurations">1.0.2</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/1.0.1/configurations">1.0.1</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/1.0.0/configurations">1.0.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.15.0/configurations">0.15.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.14.1/configurations">0.14.1</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.14.0/configurations">0.14.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.13.1/configurations">0.13.1</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.13.0/configurations">0.13.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.12.3/configurations">0.12.3</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.12.2/configurations">0.12.2</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.12.1/configurations">0.12.1</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.12.0/configurations">0.12.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.11.1/configurations">0.11.1</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.11.0/configurations">0.11.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.10.1/configurations">0.10.1</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.10.0/configurations">0.10.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.9.0/configurations">0.9.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.8.0/configurations">0.8.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.7.0/configurations">0.7.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.6.0/configurations">0.6.0</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/0.5.3/configurations">0.5.3</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.5.2/configurations">0.5.2</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.5.1/configurations">0.5.1</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.5.0/configurations">0.5.0</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="dropdownNavbarItemMobile_JUhd menu__link menu__link--sublist menu__link--sublist-caret locale-dropdown-wrapper"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Languages<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 14 14" class="globeIcon_RxQM"><g clip-path="url(#a)"><path fill="#1C1E21" d="M14 6.457a6.84 6.84 0 0 0-7-6.02 6.843 6.843 0 0 0-7 6.02v1.085a6.843 6.843 0 0 0 7 6.02 6.843 6.843 0 0 0 7-6.02zm-1.094 0h-2.625a10 10 0 0 0-.376-2.222 6.7 6.7 0 0 0 1.531-.875 5.25 5.25 0 0 1 1.444 3.097zm-8.032 0a8.5 8.5 0 0 1 .324-1.872 7.4 7.4 0 0 0 3.63 0c.175.61.284 1.239.325 1.872zm4.305 1.085a8.4 8.4 0 0 1-.324 1.873 7.46 7.46 0 0 0-3.658 0 8.5 8.5 0 0 1-.323-1.873zm.35-4.375A10.3 10.3 0 0 0 8.75 1.75c.627.194 1.218.49 1.75.875a5.8 5.8 0 0 1-.998.577zM7.254 1.54A8.8 8.8 0 0 1 8.46 3.552c-.48.11-.97.165-1.461.167-.492-.001-.982-.057-1.461-.167.308-.722.715-1.4 1.207-2.012zM4.498 3.202a5.8 5.8 0 0 1-.998-.577 6 6 0 0 1 1.75-.875c-.294.46-.546.947-.753 1.452m-1.873.15c.47.358.984.652 1.531.874A9.6 9.6 0 0 0 3.78 6.45H1.155a5.25 5.25 0 0 1 1.47-3.098M1.12 7.541h2.625c.038.753.164 1.5.376 2.223a6.7 6.7 0 0 0-1.531.875 5.25 5.25 0 0 1-1.47-3.098m3.377 3.255q.311.76.753 1.453a6 6 0 0 1-1.75-.875q.47-.34.997-.578m2.25 1.663a8.6 8.6 0 0 1-1.208-2.013 6.5 6.5 0 0 1 2.922 0 8.5 8.5 0 0 1-1.207 2.013zm2.755-1.663q.552.235 1.042.578a6.3 6.3 0 0 1-1.75.875q.413-.697.708-1.453m1.873-.148a6.7 6.7 0 0 0-1.531-.875 9.5 9.5 0 0 0 .376-2.223h2.625a5.25 5.25 0 0 1-1.47 3.098"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h14v14H0z"></path></clipPath></defs></svg></a></li><li class="menu__list-item"><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li><li class="menu__list-item"><a href="https://x.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="menu__link header-twitter-link" aria-label="Hudi Twitter Handle"></a></li><li class="menu__list-item"><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="menu__link header-slack-link" aria-label="Hudi Slack Channel"></a></li><li class="menu__list-item"><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="menu__link header-youtube-link" aria-label="Hudi YouTube Channel"></a></li><li class="menu__list-item"><a href="https://www.linkedin.com/company/apache-hudi/?viewAsMember=true" target="_blank" rel="noopener noreferrer" class="menu__link header-linkedin-link" aria-label="Hudi Linkedin Page"></a></li></ul></div><div class="navbar-sidebar__item menu"><button type="button" class="clean-btn navbar-sidebar__back">← Back to main menu</button></div></div></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_bSxm"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_cWv0"><aside class="theme-doc-sidebar-container docSidebarContainer_RSuS"><div class="sidebarViewport_pYEE"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.5.3/quick-start-guide">Quick-Start Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.5.3/use_cases">Use Cases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.5.3/writing_data">Writing Hudi Tables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.5.3/querying_data">Querying Hudi Tables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/0.5.3/configurations">Configurations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.5.3/performance">Performance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.5.3/deployment">Deployment Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.5.3/cloud">Storage Configurations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.5.3/docker_demo">Resources</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_hjYf"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Apache Hudi<!-- --> <b>0.5.3</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/configurations">latest version</a></b> (<!-- -->1.0.2<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Configurations</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 0.5.3</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Configurations</h1></header><p>This page covers the different ways of configuring your job to write/read Hudi tables.
At a high level, you can control behaviour at few levels.</p>
<ul>
<li><strong><a href="#spark-datasource">Spark Datasource Configs</a></strong> : These configs control the Hudi Spark Datasource, providing ability to define keys/partitioning, pick out the write operation, specify how to merge records or choosing query type to read.</li>
<li><strong><a href="#writeclient-configs">WriteClient Configs</a></strong> : Internally, the Hudi datasource uses a RDD based <code>HoodieWriteClient</code> api to actually perform writes to storage. These configs provide deep control over lower level aspects like
file sizing, compression, parallelism, compaction, write schema, cleaning etc. Although Hudi provides sane defaults, from time-time these configs may need to be tweaked to optimize for specific workloads.</li>
<li><strong><a href="#PAYLOAD_CLASS_OPT_KEY">RecordPayload Config</a></strong> : This is the lowest level of customization offered by Hudi. Record payloads define how to produce new values to upsert based on incoming new record and
stored old record. Hudi provides default implementations such as <code>OverwriteWithLatestAvroPayload</code> which simply update table with the latest/last-written record.
This can be overridden to a custom class extending <code>HoodieRecordPayload</code> class, on both datasource and WriteClient levels.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="spark-datasource-configs">Spark Datasource Configs<a href="#spark-datasource-configs" class="hash-link" aria-label="Direct link to Spark Datasource Configs" title="Direct link to Spark Datasource Configs">​</a></h2>
<p>Spark jobs using the datasource can be configured by passing the below options into the <code>option(k,v)</code> method as usual.
The actual datasource level configs are listed below.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="write-options">Write Options<a href="#write-options" class="hash-link" aria-label="Direct link to Write Options" title="Direct link to Write Options">​</a></h3>
<p>Additionally, you can pass down any of the WriteClient level configs directly using <code>options()</code> or <code>option(k,v)</code> methods.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">inputDF.write()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.format(&quot;org.apache.hudi&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.options(clientOpts) // any of the Hudi client opts can be passed in as well</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.option(DataSourceWriteOptions.RECORDKEY_FIELD_OPT_KEY(), &quot;_row_key&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.option(DataSourceWriteOptions.PARTITIONPATH_FIELD_OPT_KEY(), &quot;partition&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.option(DataSourceWriteOptions.PRECOMBINE_FIELD_OPT_KEY(), &quot;timestamp&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.option(HoodieWriteConfig.TABLE_NAME, tableName)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.mode(SaveMode.Append)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.save(basePath);</span><br></span></code></pre></div></div>
<p>Options useful for writing tables via <code>write.format.option(...)</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="table_name_opt_key">TABLE_NAME_OPT_KEY<a href="#table_name_opt_key" class="hash-link" aria-label="Direct link to TABLE_NAME_OPT_KEY" title="Direct link to TABLE_NAME_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.write.table.name</code> [Required]<br>
Hive table name, to register the table into.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="operation_opt_key">OPERATION_OPT_KEY<a href="#operation_opt_key" class="hash-link" aria-label="Direct link to OPERATION_OPT_KEY" title="Direct link to OPERATION_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.write.operation</code>, Default: <code>upsert</code><br>
whether to do upsert, insert or bulkinsert for the write operation. Use <code>bulkinsert</code> to load new data into a table, and there on use <code>upsert</code>/<code>insert</code>.
bulk insert uses a disk based write path to scale to load large inputs without need to cache it.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="table_type_opt_key">TABLE_TYPE_OPT_KEY<a href="#table_type_opt_key" class="hash-link" aria-label="Direct link to TABLE_TYPE_OPT_KEY" title="Direct link to TABLE_TYPE_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.write.table.type</code>, Default: <code>COPY_ON_WRITE</code> <br>
The table type for the underlying data, for this write. This can&#x27;t change between writes.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="precombine_field_opt_key">PRECOMBINE_FIELD_OPT_KEY<a href="#precombine_field_opt_key" class="hash-link" aria-label="Direct link to PRECOMBINE_FIELD_OPT_KEY" title="Direct link to PRECOMBINE_FIELD_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.write.precombine.field</code>, Default: <code>ts</code> <br>
Field used in preCombining before actual write. When two records have the same key value,
we will pick the one with the largest value for the precombine field, determined by Object.compareTo(..)</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="payload_class_opt_key">PAYLOAD_CLASS_OPT_KEY<a href="#payload_class_opt_key" class="hash-link" aria-label="Direct link to PAYLOAD_CLASS_OPT_KEY" title="Direct link to PAYLOAD_CLASS_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.write.payload.class</code>, Default: <code>org.apache.hudi.OverwriteWithLatestAvroPayload</code> <br>
Payload class used. Override this, if you like to roll your own merge logic, when upserting/inserting.
This will render any value set for <code>PRECOMBINE_FIELD_OPT_VAL</code> in-effective</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="recordkey_field_opt_key">RECORDKEY_FIELD_OPT_KEY<a href="#recordkey_field_opt_key" class="hash-link" aria-label="Direct link to RECORDKEY_FIELD_OPT_KEY" title="Direct link to RECORDKEY_FIELD_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.write.recordkey.field</code>, Default: <code>uuid</code> <br>
Record key field. Value to be used as the <code>recordKey</code> component of <code>HoodieKey</code>. Actual value
will be obtained by invoking .toString() on the field value. Nested fields can be specified using
the dot notation eg: <code>a.b.c</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="partitionpath_field_opt_key">PARTITIONPATH_FIELD_OPT_KEY<a href="#partitionpath_field_opt_key" class="hash-link" aria-label="Direct link to PARTITIONPATH_FIELD_OPT_KEY" title="Direct link to PARTITIONPATH_FIELD_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.write.partitionpath.field</code>, Default: <code>partitionpath</code> <br>
Partition path field. Value to be used at the <code>partitionPath</code> component of <code>HoodieKey</code>.
Actual value ontained by invoking .toString()</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hive_style_partitioning_opt_key">HIVE_STYLE_PARTITIONING_OPT_KEY<a href="#hive_style_partitioning_opt_key" class="hash-link" aria-label="Direct link to HIVE_STYLE_PARTITIONING_OPT_KEY" title="Direct link to HIVE_STYLE_PARTITIONING_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.write.hive_style_partitioning</code>, Default: <code>false</code> <br>
When set to true, partition folder names follow the format of Hive partitions: [partition_column_name]=[partition_value]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="keygenerator_class_opt_key">KEYGENERATOR_CLASS_OPT_KEY<a href="#keygenerator_class_opt_key" class="hash-link" aria-label="Direct link to KEYGENERATOR_CLASS_OPT_KEY" title="Direct link to KEYGENERATOR_CLASS_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.write.keygenerator.class</code>, Default: <code>org.apache.hudi.SimpleKeyGenerator</code> <br>
Key generator class, that implements will extract the key out of incoming <code>Row</code> object</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="commit_metadata_keyprefix_opt_key">COMMIT_METADATA_KEYPREFIX_OPT_KEY<a href="#commit_metadata_keyprefix_opt_key" class="hash-link" aria-label="Direct link to COMMIT_METADATA_KEYPREFIX_OPT_KEY" title="Direct link to COMMIT_METADATA_KEYPREFIX_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.write.commitmeta.key.prefix</code>, Default: <code>_</code> <br>
Option keys beginning with this prefix, are automatically added to the commit/deltacommit metadata.
This is useful to store checkpointing information, in a consistent way with the hudi timeline</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="insert_drop_dups_opt_key">INSERT_DROP_DUPS_OPT_KEY<a href="#insert_drop_dups_opt_key" class="hash-link" aria-label="Direct link to INSERT_DROP_DUPS_OPT_KEY" title="Direct link to INSERT_DROP_DUPS_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.write.insert.drop.duplicates</code>, Default: <code>false</code> <br>
If set to true, filters out all duplicate records from incoming dataframe, during insert operations.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hive_sync_enabled_opt_key">HIVE_SYNC_ENABLED_OPT_KEY<a href="#hive_sync_enabled_opt_key" class="hash-link" aria-label="Direct link to HIVE_SYNC_ENABLED_OPT_KEY" title="Direct link to HIVE_SYNC_ENABLED_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.hive_sync.enable</code>, Default: <code>false</code> <br>
When set to true, register/sync the table to Apache Hive metastore</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hive_database_opt_key">HIVE_DATABASE_OPT_KEY<a href="#hive_database_opt_key" class="hash-link" aria-label="Direct link to HIVE_DATABASE_OPT_KEY" title="Direct link to HIVE_DATABASE_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.hive_sync.database</code>, Default: <code>default</code> <br>
database to sync to</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hive_table_opt_key">HIVE_TABLE_OPT_KEY<a href="#hive_table_opt_key" class="hash-link" aria-label="Direct link to HIVE_TABLE_OPT_KEY" title="Direct link to HIVE_TABLE_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.hive_sync.table</code>, [Required] <br>
table to sync to</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hive_user_opt_key">HIVE_USER_OPT_KEY<a href="#hive_user_opt_key" class="hash-link" aria-label="Direct link to HIVE_USER_OPT_KEY" title="Direct link to HIVE_USER_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.hive_sync.username</code>, Default: <code>hive</code> <br>
hive user name to use</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hive_pass_opt_key">HIVE_PASS_OPT_KEY<a href="#hive_pass_opt_key" class="hash-link" aria-label="Direct link to HIVE_PASS_OPT_KEY" title="Direct link to HIVE_PASS_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.hive_sync.password</code>, Default: <code>hive</code> <br>
hive password to use</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hive_url_opt_key">HIVE_URL_OPT_KEY<a href="#hive_url_opt_key" class="hash-link" aria-label="Direct link to HIVE_URL_OPT_KEY" title="Direct link to HIVE_URL_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.hive_sync.jdbcurl</code>, Default: <code>jdbc:hive2://localhost:10000</code> <br>
Hive metastore url</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hive_partition_fields_opt_key">HIVE_PARTITION_FIELDS_OPT_KEY<a href="#hive_partition_fields_opt_key" class="hash-link" aria-label="Direct link to HIVE_PARTITION_FIELDS_OPT_KEY" title="Direct link to HIVE_PARTITION_FIELDS_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.hive_sync.partition_fields</code>, Default: <code> </code> <br>
field in the table to use for determining hive partition columns.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hive_partition_extractor_class_opt_key">HIVE_PARTITION_EXTRACTOR_CLASS_OPT_KEY<a href="#hive_partition_extractor_class_opt_key" class="hash-link" aria-label="Direct link to HIVE_PARTITION_EXTRACTOR_CLASS_OPT_KEY" title="Direct link to HIVE_PARTITION_EXTRACTOR_CLASS_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.hive_sync.partition_extractor_class</code>, Default: <code>org.apache.hudi.hive.SlashEncodedDayPartitionValueExtractor</code> <br>
Class used to extract partition field values into hive partition columns.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hive_assume_date_partition_opt_key">HIVE_ASSUME_DATE_PARTITION_OPT_KEY<a href="#hive_assume_date_partition_opt_key" class="hash-link" aria-label="Direct link to HIVE_ASSUME_DATE_PARTITION_OPT_KEY" title="Direct link to HIVE_ASSUME_DATE_PARTITION_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.hive_sync.assume_date_partitioning</code>, Default: <code>false</code> <br>
Assume partitioning is yyyy/mm/dd</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="read-options">Read Options<a href="#read-options" class="hash-link" aria-label="Direct link to Read Options" title="Direct link to Read Options">​</a></h3>
<p>Options useful for reading tables via <code>read.format.option(...)</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="query_type_opt_key">QUERY_TYPE_OPT_KEY<a href="#query_type_opt_key" class="hash-link" aria-label="Direct link to QUERY_TYPE_OPT_KEY" title="Direct link to QUERY_TYPE_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.query.type</code>, Default: <code>snapshot</code> <br>
Whether data needs to be read, in incremental mode (new data since an instantTime)
(or) Read Optimized mode (obtain latest view, based on columnar data)
(or) Snapshot mode (obtain latest view, based on row &amp; columnar data)</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="begin_instanttime_opt_key">BEGIN_INSTANTTIME_OPT_KEY<a href="#begin_instanttime_opt_key" class="hash-link" aria-label="Direct link to BEGIN_INSTANTTIME_OPT_KEY" title="Direct link to BEGIN_INSTANTTIME_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.read.begin.instanttime</code>, [Required in incremental mode] <br>
Instant time to start incrementally pulling data from. The instanttime here need not
necessarily correspond to an instant on the timeline. New data written with an
<code>instant_time &gt; BEGIN_INSTANTTIME</code> are fetched out. For e.g: &#x27;20170901080000&#x27; will get
all new data written after Sep 1, 2017 08:00AM.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="end_instanttime_opt_key">END_INSTANTTIME_OPT_KEY<a href="#end_instanttime_opt_key" class="hash-link" aria-label="Direct link to END_INSTANTTIME_OPT_KEY" title="Direct link to END_INSTANTTIME_OPT_KEY">​</a></h4>
<p>Property: <code>hoodie.datasource.read.end.instanttime</code>, Default: latest instant (i.e fetches all new data since begin instant time) <br>
Instant time to limit incrementally fetched data to. New data written with an
<code>instant_time &amp;lt;= END_INSTANTTIME</code> are fetched out.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="writeclient-configs">WriteClient Configs<a href="#writeclient-configs" class="hash-link" aria-label="Direct link to WriteClient Configs" title="Direct link to WriteClient Configs">​</a></h2>
<p>Jobs programming directly against the RDD level apis can build a <code>HoodieWriteConfig</code> object and pass it in to the <code>HoodieWriteClient</code> constructor.
HoodieWriteConfig can be built using a builder pattern as below.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">HoodieWriteConfig cfg = HoodieWriteConfig.newBuilder()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        .withPath(basePath)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        .forTable(tableName)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        .withSchema(schemaStr)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        .withProps(props) // pass raw k,v pairs from a property file.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        .withCompactionConfig(HoodieCompactionConfig.newBuilder().withXXX(...).build())</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        .withIndexConfig(HoodieIndexConfig.newBuilder().withXXX(...).build())</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        .build();</span><br></span></code></pre></div></div>
<p>Following subsections go over different aspects of write configs, explaining most important configs with their property names, default values.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withpathhoodie_base_path">withPath(hoodie_base_path)<a href="#withpathhoodie_base_path" class="hash-link" aria-label="Direct link to withPath(hoodie_base_path)" title="Direct link to withPath(hoodie_base_path)">​</a></h4>
<p>Property: <code>hoodie.base.path</code> [Required] <br>
Base DFS path under which all the data partitions are created. Always prefix it explicitly with the storage scheme (e.g hdfs://, s3:// etc). Hudi stores all the main meta-data about commits, savepoints, cleaning audit logs etc in .hoodie directory under the base directory.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withschemaschema_str">withSchema(schema_str)<a href="#withschemaschema_str" class="hash-link" aria-label="Direct link to withSchema(schema_str)" title="Direct link to withSchema(schema_str)">​</a></h4>
<p>Property: <code>hoodie.avro.schema</code> [Required]<br>
This is the current reader avro schema for the table. This is a string of the entire schema. HoodieWriteClient uses this schema to pass on to implementations of HoodieRecordPayload to convert from the source format to avro record. This is also used when re-writing records during an update.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fortabletable_name">forTable(table_name)<a href="#fortabletable_name" class="hash-link" aria-label="Direct link to forTable(table_name)" title="Direct link to forTable(table_name)">​</a></h4>
<p>Property: <code>hoodie.table.name</code> [Required] <br>
Table name that will be used for registering with Hive. Needs to be same across runs.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withbulkinsertparallelismbulk_insert_parallelism--1500">withBulkInsertParallelism(bulk_insert_parallelism = 1500)<a href="#withbulkinsertparallelismbulk_insert_parallelism--1500" class="hash-link" aria-label="Direct link to withBulkInsertParallelism(bulk_insert_parallelism = 1500)" title="Direct link to withBulkInsertParallelism(bulk_insert_parallelism = 1500)">​</a></h4>
<p>Property: <code>hoodie.bulkinsert.shuffle.parallelism</code><br>
Bulk insert is meant to be used for large initial imports and this parallelism determines the initial number of files in your table. Tune this to achieve a desired optimal size during initial import.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withparallelisminsert_shuffle_parallelism--1500-upsert_shuffle_parallelism--1500">withParallelism(insert_shuffle_parallelism = 1500, upsert_shuffle_parallelism = 1500)<a href="#withparallelisminsert_shuffle_parallelism--1500-upsert_shuffle_parallelism--1500" class="hash-link" aria-label="Direct link to withParallelism(insert_shuffle_parallelism = 1500, upsert_shuffle_parallelism = 1500)" title="Direct link to withParallelism(insert_shuffle_parallelism = 1500, upsert_shuffle_parallelism = 1500)">​</a></h4>
<p>Property: <code>hoodie.insert.shuffle.parallelism</code>, <code>hoodie.upsert.shuffle.parallelism</code><br>
Once data has been initially imported, this parallelism controls initial parallelism for reading input records. Ensure this value is high enough say: 1 partition for 1 GB of input data</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="combineinputon_insert--false-on_updatetrue">combineInput(on_insert = false, on_update=true)<a href="#combineinputon_insert--false-on_updatetrue" class="hash-link" aria-label="Direct link to combineInput(on_insert = false, on_update=true)" title="Direct link to combineInput(on_insert = false, on_update=true)">​</a></h4>
<p>Property: <code>hoodie.combine.before.insert</code>, <code>hoodie.combine.before.upsert</code><br>
Flag which first combines the input RDD and merges multiple partial records into a single record before inserting or updating in DFS</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withwritestatusstoragelevellevel--memory_and_disk_ser">withWriteStatusStorageLevel(level = MEMORY_AND_DISK_SER)<a href="#withwritestatusstoragelevellevel--memory_and_disk_ser" class="hash-link" aria-label="Direct link to withWriteStatusStorageLevel(level = MEMORY_AND_DISK_SER)" title="Direct link to withWriteStatusStorageLevel(level = MEMORY_AND_DISK_SER)">​</a></h4>
<p>Property: <code>hoodie.write.status.storage.level</code><br>
HoodieWriteClient.insert and HoodieWriteClient.upsert returns a persisted RDD[WriteStatus], this is because the Client can choose to inspect the WriteStatus and choose and commit or not based on the failures. This is a configuration for the storage level for this RDD</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withautocommitautocommit--true">withAutoCommit(autoCommit = true)<a href="#withautocommitautocommit--true" class="hash-link" aria-label="Direct link to withAutoCommit(autoCommit = true)" title="Direct link to withAutoCommit(autoCommit = true)">​</a></h4>
<p>Property: <code>hoodie.auto.commit</code><br>
Should HoodieWriteClient autoCommit after insert and upsert. The client can choose to turn off auto-commit and commit on a &quot;defined success condition&quot;</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withassumedatepartitioningassumedatepartitioning--false">withAssumeDatePartitioning(assumeDatePartitioning = false)<a href="#withassumedatepartitioningassumedatepartitioning--false" class="hash-link" aria-label="Direct link to withAssumeDatePartitioning(assumeDatePartitioning = false)" title="Direct link to withAssumeDatePartitioning(assumeDatePartitioning = false)">​</a></h4>
<p>Property: <code>hoodie.assume.date.partitioning</code><br>
Should HoodieWriteClient assume the data is partitioned by dates, i.e three levels from base path. This is a stop-gap to support tables created by versions &lt; 0.3.1. Will be removed eventually</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withconsistencycheckenabledenabled--false">withConsistencyCheckEnabled(enabled = false)<a href="#withconsistencycheckenabledenabled--false" class="hash-link" aria-label="Direct link to withConsistencyCheckEnabled(enabled = false)" title="Direct link to withConsistencyCheckEnabled(enabled = false)">​</a></h4>
<p>Property: <code>hoodie.consistency.check.enabled</code><br>
Should HoodieWriteClient perform additional checks to ensure written files&#x27; are listable on the underlying filesystem/storage. Set this to true, to workaround S3&#x27;s eventual consistency model and ensure all data written as a part of a commit is faithfully available for queries.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="index-configs">Index configs<a href="#index-configs" class="hash-link" aria-label="Direct link to Index configs" title="Direct link to Index configs">​</a></h3>
<p>Following configs control indexing behavior, which tags incoming records as either inserts or updates to older records.</p>
<p><a href="#withIndexConfig">withIndexConfig</a> (HoodieIndexConfig) <br>
This is pluggable to have a external index (HBase) or use the default bloom filter stored in the Parquet files</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withindexclassindexclass--xyzuserdefinedindex">withIndexClass(indexClass = &quot;x.y.z.UserDefinedIndex&quot;)<a href="#withindexclassindexclass--xyzuserdefinedindex" class="hash-link" aria-label="Direct link to withIndexClass(indexClass = &quot;x.y.z.UserDefinedIndex&quot;)" title="Direct link to withIndexClass(indexClass = &quot;x.y.z.UserDefinedIndex&quot;)">​</a></h4>
<p>Property: <code>hoodie.index.class</code> <br>
Full path of user-defined index class and must be a subclass of HoodieIndex class. It will take precedence over the <code>hoodie.index.type</code> configuration if specified</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withindextypeindextype--bloom">withIndexType(indexType = BLOOM)<a href="#withindextypeindextype--bloom" class="hash-link" aria-label="Direct link to withIndexType(indexType = BLOOM)" title="Direct link to withIndexType(indexType = BLOOM)">​</a></h4>
<p>Property: <code>hoodie.index.type</code> <br>
Type of index to use. Default is Bloom filter. Possible options are [BLOOM | HBASE | INMEMORY]. Bloom filters removes the dependency on a external system and is stored in the footer of the Parquet Data Files</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bloomfilternumentriesnumentries--60000">bloomFilterNumEntries(numEntries = 60000)<a href="#bloomfilternumentriesnumentries--60000" class="hash-link" aria-label="Direct link to bloomFilterNumEntries(numEntries = 60000)" title="Direct link to bloomFilterNumEntries(numEntries = 60000)">​</a></h4>
<p>Property: <code>hoodie.index.bloom.num_entries</code> <br>
Only applies if index type is BLOOM. <br>This is the number of entries to be stored in the bloom filter. We assume the maxParquetFileSize is 128MB and averageRecordSize is 1024B and hence we approx a total of 130K records in a file. The default (60000) is roughly half of this approximation. <a href="https://issues.apache.org/jira/browse/HUDI-56" target="_blank" rel="noopener noreferrer">HUDI-56</a> tracks computing this dynamically. Warning: Setting this very low, will generate a lot of false positives and index lookup will have to scan a lot more files than it has to and Setting this to a very high number will increase the size every data file linearly (roughly 4KB for every 50000 entries).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bloomfilterfppfpp--0000000001">bloomFilterFPP(fpp = 0.000000001)<a href="#bloomfilterfppfpp--0000000001" class="hash-link" aria-label="Direct link to bloomFilterFPP(fpp = 0.000000001)" title="Direct link to bloomFilterFPP(fpp = 0.000000001)">​</a></h4>
<p>Property: <code>hoodie.index.bloom.fpp</code> <br>
Only applies if index type is BLOOM. <br> Error rate allowed given the number of entries. This is used to calculate how many bits should be assigned for the bloom filter and the number of hash functions. This is usually set very low (default: 0.000000001), we like to tradeoff disk space for lower false positives</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bloomindexprunebyrangespruneranges--true">bloomIndexPruneByRanges(pruneRanges = true)<a href="#bloomindexprunebyrangespruneranges--true" class="hash-link" aria-label="Direct link to bloomIndexPruneByRanges(pruneRanges = true)" title="Direct link to bloomIndexPruneByRanges(pruneRanges = true)">​</a></h4>
<p>Property: <code>hoodie.bloom.index.prune.by.ranges</code> <br>
Only applies if index type is BLOOM. <br> When true, range information from files to leveraged speed up index lookups. Particularly helpful, if the key has a monotonously increasing prefix, such as timestamp.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bloomindexusecachingusecaching--true">bloomIndexUseCaching(useCaching = true)<a href="#bloomindexusecachingusecaching--true" class="hash-link" aria-label="Direct link to bloomIndexUseCaching(useCaching = true)" title="Direct link to bloomIndexUseCaching(useCaching = true)">​</a></h4>
<p>Property: <code>hoodie.bloom.index.use.caching</code> <br>
Only applies if index type is BLOOM. <br> When true, the input RDD will cached to speed up index lookup by reducing IO for computing parallelism or affected partitions</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bloomindextreebasedfilterusetreefilter--true">bloomIndexTreebasedFilter(useTreeFilter = true)<a href="#bloomindextreebasedfilterusetreefilter--true" class="hash-link" aria-label="Direct link to bloomIndexTreebasedFilter(useTreeFilter = true)" title="Direct link to bloomIndexTreebasedFilter(useTreeFilter = true)">​</a></h4>
<p>Property: <code>hoodie.bloom.index.use.treebased.filter</code> <br>
Only applies if index type is BLOOM. <br> When true, interval tree based file pruning optimization is enabled. This mode speeds-up file-pruning based on key ranges when compared with the brute-force mode</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bloomindexbucketizedcheckingbucketizedchecking--true">bloomIndexBucketizedChecking(bucketizedChecking = true)<a href="#bloomindexbucketizedcheckingbucketizedchecking--true" class="hash-link" aria-label="Direct link to bloomIndexBucketizedChecking(bucketizedChecking = true)" title="Direct link to bloomIndexBucketizedChecking(bucketizedChecking = true)">​</a></h4>
<p>Property: <code>hoodie.bloom.index.bucketized.checking</code> <br>
Only applies if index type is BLOOM. <br> When true, bucketized bloom filtering is enabled. This reduces skew seen in sort based bloom index lookup</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bloomindexkeysperbucketkeysperbucket--10000000">bloomIndexKeysPerBucket(keysPerBucket = 10000000)<a href="#bloomindexkeysperbucketkeysperbucket--10000000" class="hash-link" aria-label="Direct link to bloomIndexKeysPerBucket(keysPerBucket = 10000000)" title="Direct link to bloomIndexKeysPerBucket(keysPerBucket = 10000000)">​</a></h4>
<p>Property: <code>hoodie.bloom.index.keys.per.bucket</code> <br>
Only applies if bloomIndexBucketizedChecking is enabled and index type is bloom. <br> This configuration controls the &quot;bucket&quot; size which tracks the number of record-key checks made against a single file and is the unit of work allocated to each partition performing bloom filter lookup. A higher value would amortize the fixed cost of reading a bloom filter to memory.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bloomindexparallelism0">bloomIndexParallelism(0)<a href="#bloomindexparallelism0" class="hash-link" aria-label="Direct link to bloomIndexParallelism(0)" title="Direct link to bloomIndexParallelism(0)">​</a></h4>
<p>Property: <code>hoodie.bloom.index.parallelism</code> <br>
Only applies if index type is BLOOM. <br> This is the amount of parallelism for index lookup, which involves a Spark Shuffle. By default, this is auto computed based on input workload characteristics</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hbasezkquorumzkstring-required">hbaseZkQuorum(zkString) [Required]<a href="#hbasezkquorumzkstring-required" class="hash-link" aria-label="Direct link to hbaseZkQuorum(zkString) [Required]" title="Direct link to hbaseZkQuorum(zkString) [Required]">​</a></h4>
<p>Property: <code>hoodie.index.hbase.zkquorum</code> <br>
Only applies if index type is HBASE. HBase ZK Quorum url to connect to.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hbasezkportport-required">hbaseZkPort(port) [Required]<a href="#hbasezkportport-required" class="hash-link" aria-label="Direct link to hbaseZkPort(port) [Required]" title="Direct link to hbaseZkPort(port) [Required]">​</a></h4>
<p>Property: <code>hoodie.index.hbase.zkport</code> <br>
Only applies if index type is HBASE. HBase ZK Quorum port to connect to.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hbasezkznodeparentzkznodeparent--required">hbaseZkZnodeParent(zkZnodeParent)  [Required]<a href="#hbasezkznodeparentzkznodeparent--required" class="hash-link" aria-label="Direct link to hbaseZkZnodeParent(zkZnodeParent)  [Required]" title="Direct link to hbaseZkZnodeParent(zkZnodeParent)  [Required]">​</a></h4>
<p>Property: <code>hoodie.index.hbase.zknode.path</code> <br>
Only applies if index type is HBASE. This is the root znode that will contain all the znodes created/used by HBase.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hbasetablenametablename--required">hbaseTableName(tableName)  [Required]<a href="#hbasetablenametablename--required" class="hash-link" aria-label="Direct link to hbaseTableName(tableName)  [Required]" title="Direct link to hbaseTableName(tableName)  [Required]">​</a></h4>
<p>Property: <code>hoodie.index.hbase.table</code> <br>
Only applies if index type is HBASE. HBase Table name to use as the index. Hudi stores the row_key and [partition_path, fileID, commitTime] mapping in the table.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="bloomindexupdatepartitionpathupdatepartitionpath--false">bloomIndexUpdatePartitionPath(updatePartitionPath = false)<a href="#bloomindexupdatepartitionpathupdatepartitionpath--false" class="hash-link" aria-label="Direct link to bloomIndexUpdatePartitionPath(updatePartitionPath = false)" title="Direct link to bloomIndexUpdatePartitionPath(updatePartitionPath = false)">​</a></h5>
<p>Property: <code>hoodie.bloom.index.update.partition.path</code> <br>
Only applies if index type is GLOBAL_BLOOM. <br>When set to true, an update including the partition path of a record that already exists will result in inserting the incoming record into the new partition and deleting the original record in the old partition. When set to false, the original record will only be updated in the old partition.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="storage-configs">Storage configs<a href="#storage-configs" class="hash-link" aria-label="Direct link to Storage configs" title="Direct link to Storage configs">​</a></h3>
<p>Controls aspects around sizing parquet and log files.</p>
<p><a href="#withStorageConfig">withStorageConfig</a> (HoodieStorageConfig) <br></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="limitfilesize-size--120mb">limitFileSize (size = 120MB)<a href="#limitfilesize-size--120mb" class="hash-link" aria-label="Direct link to limitFileSize (size = 120MB)" title="Direct link to limitFileSize (size = 120MB)">​</a></h4>
<p>Property: <code>hoodie.parquet.max.file.size</code> <br>
Target size for parquet files produced by Hudi write phases. For DFS, this needs to be aligned with the underlying filesystem block size for optimal performance.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parquetblocksizerowgroupsize--120mb">parquetBlockSize(rowgroupsize = 120MB)<a href="#parquetblocksizerowgroupsize--120mb" class="hash-link" aria-label="Direct link to parquetBlockSize(rowgroupsize = 120MB)" title="Direct link to parquetBlockSize(rowgroupsize = 120MB)">​</a></h4>
<p>Property: <code>hoodie.parquet.block.size</code> <br>
Parquet RowGroup size. Its better this is same as the file size, so that a single column within a file is stored continuously on disk</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parquetpagesizepagesize--1mb">parquetPageSize(pagesize = 1MB)<a href="#parquetpagesizepagesize--1mb" class="hash-link" aria-label="Direct link to parquetPageSize(pagesize = 1MB)" title="Direct link to parquetPageSize(pagesize = 1MB)">​</a></h4>
<p>Property: <code>hoodie.parquet.page.size</code> <br>
Parquet page size. Page is the unit of read within a parquet file. Within a block, pages are compressed seperately.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parquetcompressionratioparquetcompressionratio--01">parquetCompressionRatio(parquetCompressionRatio = 0.1)<a href="#parquetcompressionratioparquetcompressionratio--01" class="hash-link" aria-label="Direct link to parquetCompressionRatio(parquetCompressionRatio = 0.1)" title="Direct link to parquetCompressionRatio(parquetCompressionRatio = 0.1)">​</a></h4>
<p>Property: <code>hoodie.parquet.compression.ratio</code> <br>
Expected compression of parquet data used by Hudi, when it tries to size new parquet files. Increase this value, if bulk_insert is producing smaller than expected sized files</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parquetcompressioncodecparquetcompressioncodec--gzip">parquetCompressionCodec(parquetCompressionCodec = gzip)<a href="#parquetcompressioncodecparquetcompressioncodec--gzip" class="hash-link" aria-label="Direct link to parquetCompressionCodec(parquetCompressionCodec = gzip)" title="Direct link to parquetCompressionCodec(parquetCompressionCodec = gzip)">​</a></h4>
<p>Property: <code>hoodie.parquet.compression.codec</code> <br>
Parquet compression codec name. Default is gzip. Possible options are [gzip | snappy | uncompressed | lzo]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="logfilemaxsizelogfilesize--1gb">logFileMaxSize(logFileSize = 1GB)<a href="#logfilemaxsizelogfilesize--1gb" class="hash-link" aria-label="Direct link to logFileMaxSize(logFileSize = 1GB)" title="Direct link to logFileMaxSize(logFileSize = 1GB)">​</a></h4>
<p>Property: <code>hoodie.logfile.max.size</code> <br>
LogFile max size. This is the maximum size allowed for a log file before it is rolled over to the next version.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="logfiledatablockmaxsizedatablocksize--256mb">logFileDataBlockMaxSize(dataBlockSize = 256MB)<a href="#logfiledatablockmaxsizedatablocksize--256mb" class="hash-link" aria-label="Direct link to logFileDataBlockMaxSize(dataBlockSize = 256MB)" title="Direct link to logFileDataBlockMaxSize(dataBlockSize = 256MB)">​</a></h4>
<p>Property: <code>hoodie.logfile.data.block.max.size</code> <br>
LogFile Data block max size. This is the maximum size allowed for a single data block to be appended to a log file. This helps to make sure the data appended to the log file is broken up into sizable blocks to prevent from OOM errors. This size should be greater than the JVM memory.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="logfiletoparquetcompressionratiologfiletoparquetcompressionratio--035">logFileToParquetCompressionRatio(logFileToParquetCompressionRatio = 0.35)<a href="#logfiletoparquetcompressionratiologfiletoparquetcompressionratio--035" class="hash-link" aria-label="Direct link to logFileToParquetCompressionRatio(logFileToParquetCompressionRatio = 0.35)" title="Direct link to logFileToParquetCompressionRatio(logFileToParquetCompressionRatio = 0.35)">​</a></h4>
<p>Property: <code>hoodie.logfile.to.parquet.compression.ratio</code> <br>
Expected additional compression as records move from log files to parquet. Used for merge_on_read table to send inserts into log files &amp; control the size of compacted parquet file.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parquetcompressioncodecparquetcompressioncodec--gzip-1">parquetCompressionCodec(parquetCompressionCodec = gzip)<a href="#parquetcompressioncodecparquetcompressioncodec--gzip-1" class="hash-link" aria-label="Direct link to parquetCompressionCodec(parquetCompressionCodec = gzip)" title="Direct link to parquetCompressionCodec(parquetCompressionCodec = gzip)">​</a></h4>
<p>Property: <code>hoodie.parquet.compression.codec</code> <br>
Compression Codec for parquet files</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="compaction-configs">Compaction configs<a href="#compaction-configs" class="hash-link" aria-label="Direct link to Compaction configs" title="Direct link to Compaction configs">​</a></h3>
<p>Configs that control compaction (merging of log files onto a new parquet base file), cleaning (reclamation of older/unused file groups).
<a href="#withCompactionConfig">withCompactionConfig</a> (HoodieCompactionConfig) <br></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withcleanerpolicypolicy--keep_latest_commits">withCleanerPolicy(policy = KEEP_LATEST_COMMITS)<a href="#withcleanerpolicypolicy--keep_latest_commits" class="hash-link" aria-label="Direct link to withCleanerPolicy(policy = KEEP_LATEST_COMMITS)" title="Direct link to withCleanerPolicy(policy = KEEP_LATEST_COMMITS)">​</a></h4>
<p>Property: <code>hoodie.cleaner.policy</code> <br>
Cleaning policy to be used. Hudi will delete older versions of parquet files to re-claim space. Any Query/Computation referring to this version of the file will fail. It is good to make sure that the data is retained for more than the maximum query execution time.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="retaincommitsno_of_commits_to_retain--24">retainCommits(no_of_commits_to_retain = 24)<a href="#retaincommitsno_of_commits_to_retain--24" class="hash-link" aria-label="Direct link to retainCommits(no_of_commits_to_retain = 24)" title="Direct link to retainCommits(no_of_commits_to_retain = 24)">​</a></h4>
<p>Property: <code>hoodie.cleaner.commits.retained</code> <br>
Number of commits to retain. So data will be retained for num_of_commits * time_between_commits (scheduled). This also directly translates into how much you can incrementally pull on this table</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="archivecommitswithmincommits--96-maxcommits--128">archiveCommitsWith(minCommits = 96, maxCommits = 128)<a href="#archivecommitswithmincommits--96-maxcommits--128" class="hash-link" aria-label="Direct link to archiveCommitsWith(minCommits = 96, maxCommits = 128)" title="Direct link to archiveCommitsWith(minCommits = 96, maxCommits = 128)">​</a></h4>
<p>Property: <code>hoodie.keep.min.commits</code>, <code>hoodie.keep.max.commits</code> <br>
Each commit is a small file in the <code>.hoodie</code> directory. Since DFS typically does not favor lots of small files, Hudi archives older commits into a sequential log. A commit is published atomically by a rename of the commit file.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withcommitsarchivalbatchsizebatch--10">withCommitsArchivalBatchSize(batch = 10)<a href="#withcommitsarchivalbatchsizebatch--10" class="hash-link" aria-label="Direct link to withCommitsArchivalBatchSize(batch = 10)" title="Direct link to withCommitsArchivalBatchSize(batch = 10)">​</a></h4>
<p>Property: <code>hoodie.commits.archival.batch</code> <br>
This controls the number of commit instants read in memory as a batch and archived together.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="compactionsmallfilesizesize--100mb">compactionSmallFileSize(size = 100MB)<a href="#compactionsmallfilesizesize--100mb" class="hash-link" aria-label="Direct link to compactionSmallFileSize(size = 100MB)" title="Direct link to compactionSmallFileSize(size = 100MB)">​</a></h4>
<p>Property: <code>hoodie.parquet.small.file.limit</code> <br>
This should be less &lt; maxFileSize and setting it to 0, turns off this feature. Small files can always happen because of the number of insert records in a partition in a batch. Hudi has an option to auto-resolve small files by masking inserts into this partition as updates to existing small files. The size here is the minimum file size considered as a &quot;small file size&quot;.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="insertsplitsizesize--500000">insertSplitSize(size = 500000)<a href="#insertsplitsizesize--500000" class="hash-link" aria-label="Direct link to insertSplitSize(size = 500000)" title="Direct link to insertSplitSize(size = 500000)">​</a></h4>
<p>Property: <code>hoodie.copyonwrite.insert.split.size</code> <br>
Insert Write Parallelism. Number of inserts grouped for a single partition. Writing out 100MB files, with atleast 1kb records, means 100K records per file. Default is to overprovision to 500K. To improve insert latency, tune this to match the number of records in a single file. Setting this to a low number, will result in small files (particularly when compactionSmallFileSize is 0)</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="autotuneinsertsplitstrue">autoTuneInsertSplits(true)<a href="#autotuneinsertsplitstrue" class="hash-link" aria-label="Direct link to autoTuneInsertSplits(true)" title="Direct link to autoTuneInsertSplits(true)">​</a></h4>
<p>Property: <code>hoodie.copyonwrite.insert.auto.split</code> <br>
Should hudi dynamically compute the insertSplitSize based on the last 24 commit&#x27;s metadata. Turned off by default.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="approxrecordsizesize--1024">approxRecordSize(size = 1024)<a href="#approxrecordsizesize--1024" class="hash-link" aria-label="Direct link to approxRecordSize(size = 1024)" title="Direct link to approxRecordSize(size = 1024)">​</a></h4>
<p>Property: <code>hoodie.copyonwrite.record.size.estimate</code> <br>
The average record size. If specified, hudi will use this and not compute dynamically based on the last 24 commit&#x27;s metadata. No value set as default. This is critical in computing the insert parallelism and bin-packing inserts into small files. See above.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withinlinecompactioninlinecompaction--false">withInlineCompaction(inlineCompaction = false)<a href="#withinlinecompactioninlinecompaction--false" class="hash-link" aria-label="Direct link to withInlineCompaction(inlineCompaction = false)" title="Direct link to withInlineCompaction(inlineCompaction = false)">​</a></h4>
<p>Property: <code>hoodie.compact.inline</code> <br>
When set to true, compaction is triggered by the ingestion itself, right after a commit/deltacommit action as part of insert/upsert/bulk_insert</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withmaxnumdeltacommitsbeforecompactionmaxnumdeltacommitsbeforecompaction--10">withMaxNumDeltaCommitsBeforeCompaction(maxNumDeltaCommitsBeforeCompaction = 10)<a href="#withmaxnumdeltacommitsbeforecompactionmaxnumdeltacommitsbeforecompaction--10" class="hash-link" aria-label="Direct link to withMaxNumDeltaCommitsBeforeCompaction(maxNumDeltaCommitsBeforeCompaction = 10)" title="Direct link to withMaxNumDeltaCommitsBeforeCompaction(maxNumDeltaCommitsBeforeCompaction = 10)">​</a></h4>
<p>Property: <code>hoodie.compact.inline.max.delta.commits</code> <br>
Number of max delta commits to keep before triggering an inline compaction</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withcompactionlazyblockreadenabledtrue">withCompactionLazyBlockReadEnabled(true)<a href="#withcompactionlazyblockreadenabledtrue" class="hash-link" aria-label="Direct link to withCompactionLazyBlockReadEnabled(true)" title="Direct link to withCompactionLazyBlockReadEnabled(true)">​</a></h4>
<p>Property: <code>hoodie.compaction.lazy.block.read</code> <br>
When a CompactedLogScanner merges all log files, this config helps to choose whether the logblocks should be read lazily or not. Choose true to use I/O intensive lazy block reading (low memory usage) or false for Memory intensive immediate block read (high memory usage)</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withcompactionreverselogreadenabledfalse">withCompactionReverseLogReadEnabled(false)<a href="#withcompactionreverselogreadenabledfalse" class="hash-link" aria-label="Direct link to withCompactionReverseLogReadEnabled(false)" title="Direct link to withCompactionReverseLogReadEnabled(false)">​</a></h4>
<p>Property: <code>hoodie.compaction.reverse.log.read</code> <br>
HoodieLogFormatReader reads a logfile in the forward direction starting from pos=0 to pos=file_length. If this config is set to true, the Reader reads the logfile in reverse direction, from pos=file_length to pos=0</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withcleanerparallelismcleanerparallelism--200">withCleanerParallelism(cleanerParallelism = 200)<a href="#withcleanerparallelismcleanerparallelism--200" class="hash-link" aria-label="Direct link to withCleanerParallelism(cleanerParallelism = 200)" title="Direct link to withCleanerParallelism(cleanerParallelism = 200)">​</a></h4>
<p>Property: <code>hoodie.cleaner.parallelism</code> <br>
Increase this if cleaning becomes slow.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withcompactionstrategycompactionstrategy--orgapachehudiiocompactstrategylogfilesizebasedcompactionstrategy">withCompactionStrategy(compactionStrategy = org.apache.hudi.io.compact.strategy.LogFileSizeBasedCompactionStrategy)<a href="#withcompactionstrategycompactionstrategy--orgapachehudiiocompactstrategylogfilesizebasedcompactionstrategy" class="hash-link" aria-label="Direct link to withCompactionStrategy(compactionStrategy = org.apache.hudi.io.compact.strategy.LogFileSizeBasedCompactionStrategy)" title="Direct link to withCompactionStrategy(compactionStrategy = org.apache.hudi.io.compact.strategy.LogFileSizeBasedCompactionStrategy)">​</a></h4>
<p>Property: <code>hoodie.compaction.strategy</code> <br>
Compaction strategy decides which file groups are picked up for compaction during each compaction run. By default. Hudi picks the log file with most accumulated unmerged data</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withtargetiopercompactioninmbtargetiopercompactioninmb--500000">withTargetIOPerCompactionInMB(targetIOPerCompactionInMB = 500000)<a href="#withtargetiopercompactioninmbtargetiopercompactioninmb--500000" class="hash-link" aria-label="Direct link to withTargetIOPerCompactionInMB(targetIOPerCompactionInMB = 500000)" title="Direct link to withTargetIOPerCompactionInMB(targetIOPerCompactionInMB = 500000)">​</a></h4>
<p>Property: <code>hoodie.compaction.target.io</code> <br>
Amount of MBs to spend during compaction run for the LogFileSizeBasedCompactionStrategy. This value helps bound ingestion latency while compaction is run inline mode.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withtargetpartitionsperdaybasedcompactiontargetpartitionspercompaction--10">withTargetPartitionsPerDayBasedCompaction(targetPartitionsPerCompaction = 10)<a href="#withtargetpartitionsperdaybasedcompactiontargetpartitionspercompaction--10" class="hash-link" aria-label="Direct link to withTargetPartitionsPerDayBasedCompaction(targetPartitionsPerCompaction = 10)" title="Direct link to withTargetPartitionsPerDayBasedCompaction(targetPartitionsPerCompaction = 10)">​</a></h4>
<p>Property: <code>hoodie.compaction.daybased.target</code> <br>
Used by org.apache.hudi.io.compact.strategy.DayBasedCompactionStrategy to denote the number of latest partitions to compact during a compaction run.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withpayloadclasspayloadclassname--orgapachehudicommonmodelhoodieavropayload">withPayloadClass(payloadClassName = org.apache.hudi.common.model.HoodieAvroPayload)<a href="#withpayloadclasspayloadclassname--orgapachehudicommonmodelhoodieavropayload" class="hash-link" aria-label="Direct link to withPayloadClass(payloadClassName = org.apache.hudi.common.model.HoodieAvroPayload)" title="Direct link to withPayloadClass(payloadClassName = org.apache.hudi.common.model.HoodieAvroPayload)">​</a></h4>
<p>Property: <code>hoodie.compaction.payload.class</code> <br>
This needs to be same as class used during insert/upserts. Just like writing, compaction also uses the record payload class to merge records in the log against each other, merge again with the base file and produce the final record to be written after compaction.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="metrics-configs">Metrics configs<a href="#metrics-configs" class="hash-link" aria-label="Direct link to Metrics configs" title="Direct link to Metrics configs">​</a></h3>
<p>Enables reporting on Hudi metrics.
<a href="#withMetricsConfig">withMetricsConfig</a> (HoodieMetricsConfig) <br>
Hudi publishes metrics on every commit, clean, rollback etc. The following sections list the supported reporters.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="graphite">GRAPHITE<a href="#graphite" class="hash-link" aria-label="Direct link to GRAPHITE" title="Direct link to GRAPHITE">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="onmetricson--false">on(metricsOn = false)<a href="#onmetricson--false" class="hash-link" aria-label="Direct link to on(metricsOn = false)" title="Direct link to on(metricsOn = false)">​</a></h5>
<p><code>hoodie.metrics.on</code> <br>
Turn on/off metrics reporting. off by default.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="withreportertypereportertype--graphite">withReporterType(reporterType = GRAPHITE)<a href="#withreportertypereportertype--graphite" class="hash-link" aria-label="Direct link to withReporterType(reporterType = GRAPHITE)" title="Direct link to withReporterType(reporterType = GRAPHITE)">​</a></h5>
<p>Property: <code>hoodie.metrics.reporter.type</code> <br>
Type of metrics reporter.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="tographitehosthost--localhost">toGraphiteHost(host = localhost)<a href="#tographitehosthost--localhost" class="hash-link" aria-label="Direct link to toGraphiteHost(host = localhost)" title="Direct link to toGraphiteHost(host = localhost)">​</a></h5>
<p>Property: <code>hoodie.metrics.graphite.host</code> <br>
Graphite host to connect to</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="ongraphiteportport--4756">onGraphitePort(port = 4756)<a href="#ongraphiteportport--4756" class="hash-link" aria-label="Direct link to onGraphitePort(port = 4756)" title="Direct link to onGraphitePort(port = 4756)">​</a></h5>
<p>Property: <code>hoodie.metrics.graphite.port</code> <br>
Graphite port to connect to</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="useprefixprefix--">usePrefix(prefix = &quot;&quot;)<a href="#useprefixprefix--" class="hash-link" aria-label="Direct link to usePrefix(prefix = &quot;&quot;)" title="Direct link to usePrefix(prefix = &quot;&quot;)">​</a></h5>
<p>Property: <code>hoodie.metrics.graphite.metric.prefix</code> <br>
Standard prefix applied to all metrics. This helps to add datacenter, environment information for e.g</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="jmx">JMX<a href="#jmx" class="hash-link" aria-label="Direct link to JMX" title="Direct link to JMX">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="onmetricson--false-1">on(metricsOn = false)<a href="#onmetricson--false-1" class="hash-link" aria-label="Direct link to on(metricsOn = false)" title="Direct link to on(metricsOn = false)">​</a></h5>
<p><code>hoodie.metrics.on</code> <br>
Turn on/off metrics reporting. off by default.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="withreportertypereportertype--jmx">withReporterType(reporterType = JMX)<a href="#withreportertypereportertype--jmx" class="hash-link" aria-label="Direct link to withReporterType(reporterType = JMX)" title="Direct link to withReporterType(reporterType = JMX)">​</a></h5>
<p>Property: <code>hoodie.metrics.reporter.type</code> <br>
Type of metrics reporter.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="tojmxhosthost--localhost">toJmxHost(host = localhost)<a href="#tojmxhosthost--localhost" class="hash-link" aria-label="Direct link to toJmxHost(host = localhost)" title="Direct link to toJmxHost(host = localhost)">​</a></h5>
<p>Property: <code>hoodie.metrics.jmx.host</code> <br>
Jmx host to connect to</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="onjmxportport--1000-5000">onJmxPort(port = 1000-5000)<a href="#onjmxportport--1000-5000" class="hash-link" aria-label="Direct link to onJmxPort(port = 1000-5000)" title="Direct link to onJmxPort(port = 1000-5000)">​</a></h5>
<p>Property: <code>hoodie.metrics.jmx.port</code> <br>
Jmx port to connect to</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="datadog">DATADOG<a href="#datadog" class="hash-link" aria-label="Direct link to DATADOG" title="Direct link to DATADOG">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="onmetricson--false-2">on(metricsOn = false)<a href="#onmetricson--false-2" class="hash-link" aria-label="Direct link to on(metricsOn = false)" title="Direct link to on(metricsOn = false)">​</a></h5>
<p><code>hoodie.metrics.on</code> <br>
Turn on/off metrics reporting. off by default.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="withreportertypereportertype--datadog">withReporterType(reporterType = DATADOG)<a href="#withreportertypereportertype--datadog" class="hash-link" aria-label="Direct link to withReporterType(reporterType = DATADOG)" title="Direct link to withReporterType(reporterType = DATADOG)">​</a></h5>
<p>Property: <code>hoodie.metrics.reporter.type</code> <br>
Type of metrics reporter.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="withdatadogreportperiodsecondsperiod--30">withDatadogReportPeriodSeconds(period = 30)<a href="#withdatadogreportperiodsecondsperiod--30" class="hash-link" aria-label="Direct link to withDatadogReportPeriodSeconds(period = 30)" title="Direct link to withDatadogReportPeriodSeconds(period = 30)">​</a></h5>
<p>Property: <code>hoodie.metrics.datadog.report.period.seconds</code> <br>
Datadog report period in seconds. Default to 30.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="withdatadogapisiteapisite">withDatadogApiSite(apiSite)<a href="#withdatadogapisiteapisite" class="hash-link" aria-label="Direct link to withDatadogApiSite(apiSite)" title="Direct link to withDatadogApiSite(apiSite)">​</a></h5>
<p>Property: <code>hoodie.metrics.datadog.api.site</code> <br>
Datadog API site: EU or US</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="withdatadogapikeyapikey">withDatadogApiKey(apiKey)<a href="#withdatadogapikeyapikey" class="hash-link" aria-label="Direct link to withDatadogApiKey(apiKey)" title="Direct link to withDatadogApiKey(apiKey)">​</a></h5>
<p>Property: <code>hoodie.metrics.datadog.api.key</code> <br>
Datadog API key</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="withdatadogapikeyskipvalidationskip--false">withDatadogApiKeySkipValidation(skip = false)<a href="#withdatadogapikeyskipvalidationskip--false" class="hash-link" aria-label="Direct link to withDatadogApiKeySkipValidation(skip = false)" title="Direct link to withDatadogApiKeySkipValidation(skip = false)">​</a></h5>
<p>Property: <code>hoodie.metrics.datadog.api.key.skip.validation</code> <br>
Before sending metrics via Datadog API, whether to skip validating Datadog API key or not. Default to false.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="withdatadogapikeysupplierapikeysupplier">withDatadogApiKeySupplier(apiKeySupplier)<a href="#withdatadogapikeysupplierapikeysupplier" class="hash-link" aria-label="Direct link to withDatadogApiKeySupplier(apiKeySupplier)" title="Direct link to withDatadogApiKeySupplier(apiKeySupplier)">​</a></h5>
<p>Property: <code>hoodie.metrics.datadog.api.key.supplier</code> <br>
Datadog API key supplier to supply the API key at runtime. This will take effect if <code>hoodie.metrics.datadog.api.key</code> is not set.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="withdatadogapitimeoutsecondstimeout--3">withDatadogApiTimeoutSeconds(timeout = 3)<a href="#withdatadogapitimeoutsecondstimeout--3" class="hash-link" aria-label="Direct link to withDatadogApiTimeoutSeconds(timeout = 3)" title="Direct link to withDatadogApiTimeoutSeconds(timeout = 3)">​</a></h5>
<p>Property: <code>hoodie.metrics.datadog.metric.prefix</code> <br>
Datadog API timeout in seconds. Default to 3.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="withdatadogprefixprefix">withDatadogPrefix(prefix)<a href="#withdatadogprefixprefix" class="hash-link" aria-label="Direct link to withDatadogPrefix(prefix)" title="Direct link to withDatadogPrefix(prefix)">​</a></h5>
<p>Property: <code>hoodie.metrics.datadog.metric.prefix</code> <br>
Datadog metric prefix to be prepended to each metric name with a dot as delimiter. For example, if it is set to <code>foo</code>, <code>foo.</code> will be prepended.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="withdatadoghosthost">withDatadogHost(host)<a href="#withdatadoghosthost" class="hash-link" aria-label="Direct link to withDatadogHost(host)" title="Direct link to withDatadogHost(host)">​</a></h5>
<p>Property: <code>hoodie.metrics.datadog.metric.host</code> <br>
Datadog metric host to be sent along with metrics data.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="withdatadogtagstags">withDatadogTags(tags)<a href="#withdatadogtagstags" class="hash-link" aria-label="Direct link to withDatadogTags(tags)" title="Direct link to withDatadogTags(tags)">​</a></h5>
<p>Property: <code>hoodie.metrics.datadog.metric.tags</code> <br>
Datadog metric tags (comma-delimited) to be sent along with metrics data.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="memory-configs">Memory configs<a href="#memory-configs" class="hash-link" aria-label="Direct link to Memory configs" title="Direct link to Memory configs">​</a></h3>
<p>Controls memory usage for compaction and merges, performed internally by Hudi
<a href="#withMemoryConfig">withMemoryConfig</a> (HoodieMemoryConfig) <br>
Memory related configs</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withmaxmemoryfractionperpartitionmergemaxmemoryfractionperpartitionmerge--06">withMaxMemoryFractionPerPartitionMerge(maxMemoryFractionPerPartitionMerge = 0.6)<a href="#withmaxmemoryfractionperpartitionmergemaxmemoryfractionperpartitionmerge--06" class="hash-link" aria-label="Direct link to withMaxMemoryFractionPerPartitionMerge(maxMemoryFractionPerPartitionMerge = 0.6)" title="Direct link to withMaxMemoryFractionPerPartitionMerge(maxMemoryFractionPerPartitionMerge = 0.6)">​</a></h4>
<p>Property: <code>hoodie.memory.merge.fraction</code> <br>
This fraction is multiplied with the user memory fraction (1 - spark.memory.fraction) to get a final fraction of heap space to use during merge</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withmaxmemorysizepercompactioninbytesmaxmemorysizepercompactioninbytes--1gb">withMaxMemorySizePerCompactionInBytes(maxMemorySizePerCompactionInBytes = 1GB)<a href="#withmaxmemorysizepercompactioninbytesmaxmemorysizepercompactioninbytes--1gb" class="hash-link" aria-label="Direct link to withMaxMemorySizePerCompactionInBytes(maxMemorySizePerCompactionInBytes = 1GB)" title="Direct link to withMaxMemorySizePerCompactionInBytes(maxMemorySizePerCompactionInBytes = 1GB)">​</a></h4>
<p>Property: <code>hoodie.memory.compaction.fraction</code> <br>
HoodieCompactedLogScanner reads logblocks, converts records to HoodieRecords and then merges these log blocks and records. At any point, the number of entries in a log block can be less than or equal to the number of entries in the corresponding parquet file. This can lead to OOM in the Scanner. Hence, a spillable map helps alleviate the memory pressure. Use this config to set the max allowable inMemory footprint of the spillable map.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="withwritestatusfailurefractionfailurefraction--01">withWriteStatusFailureFraction(failureFraction = 0.1)<a href="#withwritestatusfailurefractionfailurefraction--01" class="hash-link" aria-label="Direct link to withWriteStatusFailureFraction(failureFraction = 0.1)" title="Direct link to withWriteStatusFailureFraction(failureFraction = 0.1)">​</a></h4>
<p>Property: <code>hoodie.memory.writestatus.failure.fraction</code> <br>
This property controls what fraction of the failed record, exceptions we report back to driver</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/apache/hudi/tree/asf-site/website/versioned_docs/version-0.5.3/configurations.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/0.5.3/querying_data"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Querying Hudi Tables</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/0.5.3/performance"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Performance</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#spark-datasource-configs" class="table-of-contents__link toc-highlight">Spark Datasource Configs</a><ul><li><a href="#write-options" class="table-of-contents__link toc-highlight">Write Options</a></li><li><a href="#read-options" class="table-of-contents__link toc-highlight">Read Options</a></li></ul></li><li><a href="#writeclient-configs" class="table-of-contents__link toc-highlight">WriteClient Configs</a><ul><li><a href="#index-configs" class="table-of-contents__link toc-highlight">Index configs</a></li><li><a href="#storage-configs" class="table-of-contents__link toc-highlight">Storage configs</a></li><li><a href="#compaction-configs" class="table-of-contents__link toc-highlight">Compaction configs</a></li><li><a href="#metrics-configs" class="table-of-contents__link toc-highlight">Metrics configs</a></li><li><a href="#memory-configs" class="table-of-contents__link toc-highlight">Memory configs</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">About</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog/2021/07/21/streaming-data-lake-platform">Our Vision</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts">Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/community/team">Team</a></li><li class="footer__item"><a class="footer__link-item" href="/releases/release-1.0.2">Releases</a></li><li class="footer__item"><a class="footer__link-item" href="/releases/download">Download</a></li><li class="footer__item"><a class="footer__link-item" href="/powered-by">Who&#x27;s Using</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/quick-start-guide">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/tutorial-series">Tutorial Series</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/talks">Talks</a></li><li class="footer__item"><a class="footer__link-item" href="/videos">Video Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/faq">FAQ</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Hudi On Cloud</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/s3_hoodie">AWS</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/gcs_hoodie">Google Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/oss_hoodie">Alibaba Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/azure_hoodie">Microsoft Azure</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cos_hoodie">Tencent Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/ibm_cos_hoodie">IBM Cloud</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community/get-involved">Get Involved</a></li><li class="footer__item"><a href="https://join.slack.com/t/apache-hudi/shared_invite/zt-33fabmxb7-Q7QSUtNOHYCwUdYM8LbauA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/apache/hudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/ApacheHudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCs7AhE0BWaEPZSChrBR-Muw" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/apache-hudi/?viewAsMember=true" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="mailto:dev-subscribe@hudi.apache.org?Subject=SubscribeToHudi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mailing List</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Apache</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks</a></li><li class="footer__item"><a href="https://www.apache.org/licenses" target="_blank" rel="noopener noreferrer" class="footer__link-item">License</a></li><li class="footer__item"><a href="https://www.apache.org/security" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security</a></li><li class="footer__item"><a class="footer__link-item" href="/asf/privacy">Privacy</a></li><li class="footer__item"><a class="footer__link-item" href="/asf/telemetry">Telemetry</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship</a></li><li class="footer__item"><a href="https://www.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foundation</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://hudi.apache.org/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/assets/images/logo-big.png" alt="Apache Hudi™" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/assets/images/logo-big.png" alt="Apache Hudi™" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Copyright © 2021 <a href="https://apache.org">The Apache Software Foundation</a>, Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0"> Apache License, Version 2.0</a>. <br>Hudi, Apache and the Apache feather logo are trademarks of The Apache Software Foundation.<img referrerpolicy="no-referrer-when-downgrade" src="https://static.scarf.sh/a.png?x-pxid=8f594acf-9b77-44fb-9475-3e82ead1910c"><img referrerpolicy="no-referrer-when-downgrade" src="https://analytics.apache.org/matomo.php?idsite=47&amp;rec=1"></div></div></div></footer></div>
</body>
</html>