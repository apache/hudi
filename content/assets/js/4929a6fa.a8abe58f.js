"use strict";(globalThis.webpackChunkhudi=globalThis.webpackChunkhudi||[]).push([[4919],{26569(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/IDE_setup_annotation-71d0c391a6c7a7323debe739e48a1d6d.png"},27445(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/IDE_setup_checkstyle_1-0b5cf46f177739adf3ad2b0e154b8882.png"},28453(e,n,s){s.d(n,{R:()=>r,x:()=>o});var i=s(96540);const t={},l=i.createContext(t);function r(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(l.Provider,{value:n},e.children)}},28603(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/IDE_setup_copyright_1-f33ce2f985f7acf8bf9429e28d1a7aa8.png"},41406(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/IDE_setup_maven_1-965de4be2e1755dc82fb924e81c8e7b3.png"},42778(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/IDE_setup_maven_2-d973f6ce0c3ffccff5000702691aab79.png"},54305(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/IDE_setup_reload-b3c1f2ecfd5b7e928adae0e5184d30f9.png"},72974(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"developer-setup","title":"Developer Setup","description":"Pre-requisites","source":"@site/contribute/developer-setup.md","sourceDirName":".","slug":"/developer-setup","permalink":"/contribute/developer-setup","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Developer Setup","sidebar_position":3,"keywords":["hudi","ide","developer","setup"],"toc":true,"last_modified_at":"2024-08-12T17:47:57.000Z"},"sidebar":"contribute","previous":{"title":"How to Contribute","permalink":"/contribute/how-to-contribute"},"next":{"title":"RFC Process","permalink":"/contribute/rfc-process"}}');var t=s(74848),l=s(28453);const r={title:"Developer Setup",sidebar_position:3,keywords:["hudi","ide","developer","setup"],toc:!0,last_modified_at:new Date("2024-08-12T17:47:57.000Z")},o=void 0,d={},c=[{value:"Pre-requisites",id:"pre-requisites",level:2},{value:"Default Build Profiles",id:"default-build-profiles",level:2},{value:"Useful Maven commands for developers",id:"useful-maven-commands-for-developers",level:2},{value:"Code &amp; Project Structure",id:"code--project-structure",level:2},{value:"Code Walkthrough",id:"code-walkthrough",level:2},{value:"IntelliJ Setup",id:"intellij-setup",level:2},{value:"Running unit tests and local debugger via Intellij IDE",id:"running-unit-tests-and-local-debugger-via-intellij-ide",level:2},{value:"Docker Setup",id:"docker-setup",level:2},{value:"Remote Debugging",id:"remote-debugging",level:2},{value:"Website",id:"website",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"pre-requisites",children:"Pre-requisites"}),"\n",(0,t.jsx)(n.p,{children:"To contribute code, you need"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"a GitHub account"}),"\n",(0,t.jsx)(n.li,{children:"Git installed for version control"}),"\n",(0,t.jsx)(n.li,{children:"a Linux (or) macOS development environment with Java JDK 11, Apache Maven (3.x+) installed"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://www.docker.com/",children:"Docker"})," installed for running demo, integ tests or building website"]}),"\n",(0,t.jsxs)(n.li,{children:["for large contributions, a signed ",(0,t.jsx)(n.a,{href:"https://www.apache.org/licenses/icla.pdf",children:"Individual Contributor License Agreement"})," (ICLA) to the Apache Software Foundation (ASF)."]}),"\n",(0,t.jsxs)(n.li,{children:["(Recommended) Join our dev mailing list & slack channel, listed on ",(0,t.jsx)(n.a,{href:"/community/get-involved",children:"community"})," page."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"default-build-profiles",children:"Default Build Profiles"}),"\n",(0,t.jsx)(n.p,{children:"The following table summarizes the default build profiles and versions used by the Apache Hudi project."}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Component"}),(0,t.jsx)(n.th,{children:"Default Profile / Version"}),(0,t.jsx)(n.th,{children:"Notes"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Spark"}),(0,t.jsx)(n.td,{children:"3.5"}),(0,t.jsx)(n.td,{children:"Default Spark 3 build profile"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Scala"}),(0,t.jsx)(n.td,{children:"2.12"}),(0,t.jsx)(n.td,{children:"Default Scala version for Spark builds"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Java"}),(0,t.jsx)(n.td,{children:"11"}),(0,t.jsx)(n.td,{children:"Required Java version for building the project"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Flink"}),(0,t.jsx)(n.td,{children:"1.20"}),(0,t.jsx)(n.td,{children:"Default Flink streaming profile"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"useful-maven-commands-for-developers",children:"Useful Maven commands for developers"}),"\n",(0,t.jsx)(n.p,{children:"Listing out some of the maven commands that could be useful for developers."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Compile/build entire project"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"mvn clean package -DskipTests\n"})}),"\n",(0,t.jsx)(n.p,{children:"Default profile is Spark 3.5 and Scala 2.12"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"For continuous development, you may want to build only the modules of interest. for eg, if you have been working with\nHudi Streamer, you can build using this command instead of entire project. Majority of time goes into building all different bundles we have\nlike flink bundle, presto bundle, trino bundle etc. But if you are developing something confined to hudi-utilities, you can achieve faster\nbuild times."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"mvn package -DskipTests -pl packaging/hudi-utilities-bundle/ -am\n"})}),"\n",(0,t.jsx)(n.p,{children:"To enable multi-threaded building, you can add -T."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"mvn -T 2C package -DskipTests -pl packaging/hudi-utilities-bundle/ -am\n"})}),"\n",(0,t.jsx)(n.p,{children:"This command will use 2 parallel threads to build."}),"\n",(0,t.jsx)(n.p,{children:"You can also confine the build to just one module if need be."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"mvn -T 2C package -DskipTests -pl hudi-spark-datasource/hudi-spark -am\n"})}),"\n",(0,t.jsx)(n.p,{children:'Note: "-am" will build all dependent modules as well.\nIn local laptop, entire project build can take somewhere close to 7 to 10 mins. While building just hudi-spark-datasource/hudi-spark\nwith multi-threaded, could get your compilation in 1.5 to 2 mins.'}),"\n",(0,t.jsx)(n.p,{children:"If you wish to run any single test class in java."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"mvn test -Punit-tests -pl hudi-spark-datasource/hudi-spark/ -am -B -DfailIfNoTests=false -Dtest=TestCleaner -Dspark3.5\n"})}),"\n",(0,t.jsx)(n.p,{children:"If you wish to run a single test method in java."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"mvn test -Punit-tests -pl hudi-spark-datasource/hudi-spark/ -am -B -DfailIfNoTests=false -Dtest=TestCleaner#testKeepLatestCommitsMOR -Dspark3.5\n"})}),"\n",(0,t.jsx)(n.p,{children:"To filter particular scala test:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:'mvn -Dsuites="org.apache.spark.sql.hudi.ddl.TestSpark3DDL @Test Chinese table " -Dtest=abc -DfailIfNoTests=false test -pl packaging/hudi-spark-bundle -am -Dspark3.5\n'})}),"\n",(0,t.jsx)(n.p,{children:'-Dtest=abc will assist in skipping all java tests.\n-Dsuites="org.apache.spark.sql.hudi.ddl.TestSpark3DDL @Test Chinese table " filters for a single scala test.'}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Run an Integration Test"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"mvn -T 2C -Pintegration-tests -DfailIfNoTests=false -Dit.test=ITTestHoodieSanity#testRunHoodieJavaAppOnMultiPartitionKeysMORTable verify -Dspark3.5\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"verify"})," phase runs the integration test and cleans up the docker cluster after execution. To retain the docker cluster use\n",(0,t.jsx)(n.code,{children:"integration-test"})," phase instead."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note:"})," If you encounter ",(0,t.jsx)(n.code,{children:"unknown shorthand flag: 'H' in -H"}),", this error occurs when local environment has docker-compose version >= 2.0.\nThe latest docker-compose is accessible using ",(0,t.jsx)(n.code,{children:"docker-compose"})," whereas v1 version is accessible using ",(0,t.jsx)(n.code,{children:"docker-compose-v1"})," locally.\nYou can use ",(0,t.jsx)(n.code,{children:"alt def"})," command to define different docker-compose versions. Refer ",(0,t.jsx)(n.a,{href:"https://github.com/dotboris/alt",children:"alt"}),".\nUse ",(0,t.jsx)(n.code,{children:"alt use"})," to use v1 version of docker-compose while running integration test locally."]}),"\n",(0,t.jsx)(n.h2,{id:"code--project-structure",children:"Code & Project Structure"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"docker"})," : Docker containers used by demo and integration tests. Brings up a mini data ecosystem locally"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"hudi-cli"})," : CLI to inspect, manage and administer datasets"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"hudi-client"})," : Spark client library to take a bunch of inserts + updates and apply them to a Hudi table"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"hudi-common"})," : Common classes used across modules"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"hudi-hadoop-mr"})," : InputFormat implementations for ReadOptimized, Incremental, Realtime views"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"hudi-hive"})," : Manage hive tables off Hudi datasets and houses the HiveSyncTool"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"hudi-integ-test"})," : Longer running integration test processes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"hudi-spark"})," : Spark datasource for writing and reading Hudi datasets. Streaming sink."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"hudi-utilities"})," : Houses tools like Hudi streamer, snapshot exporter, etc"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"packaging"})," : Poms for building out bundles for easier drop in to Spark, Hive, Presto, Utilities"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"style"}),"  : Code formatting, checkstyle files"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"code-walkthrough",children:"Code Walkthrough"}),"\n",(0,t.jsxs)(n.p,{children:["Watch this ",(0,t.jsx)(n.a,{href:"https://www.youtube.com/watch?v=N2eDfU_rQ_U",children:"quick video"})," for a code walkthrough to get started."]}),"\n",(0,t.jsx)(n.h2,{id:"intellij-setup",children:"IntelliJ Setup"}),"\n",(0,t.jsx)(n.p,{children:"IntelliJ is the recommended IDE for developing Hudi. To contribute, you would need to do the following"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Fork the Hudi code on Github & then clone your own fork locally. Once cloned, we recommend building as per instructions on ",(0,t.jsx)(n.a,{href:"/docs/quick-start-guide",children:"spark quickstart"})," or ",(0,t.jsx)(n.a,{href:"/docs/flink-quick-start-guide",children:"flink quickstart"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In IntelliJ, select ",(0,t.jsx)(n.code,{children:"File"})," > ",(0,t.jsx)(n.code,{children:"New"})," > ",(0,t.jsx)(n.code,{children:"Project from Existing Sources..."})," and select the ",(0,t.jsx)(n.code,{children:"pom.xml"})," file under your local Hudi source folder."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In ",(0,t.jsx)(n.code,{children:"Project Structure"})," > ",(0,t.jsx)(n.code,{children:"Project"}),", select Java 11 as the Project SDK."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i,{children:[(0,t.jsx)("summary",{children:"Configure IDE Preferences and Settings"}),(0,t.jsxs)(n.p,{children:["Make the following configuration in ",(0,t.jsx)(n.code,{children:"Preferences"})," or ",(0,t.jsx)(n.code,{children:"Settings"})," in newer IntelliJ so the Hudi code can compile in the IDE:"]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Enable annotation processing in compiler."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"IDE setup annotation processing",src:s(26569).A+"",width:"1952",height:"1336"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Configure Maven ",(0,t.jsx)(n.em,{children:"NOT"})," to delegate IDE build/run actions to Maven so you can run tests in IntelliJ directly."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{alt:"IDE setup maven 1",src:s(41406).A+"",width:"1952",height:"748"}),"\n",(0,t.jsx)(n.img,{alt:"IDE setup maven 2",src:s(42778).A+"",width:"1956",height:"1440"})]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(i,{children:[(0,t.jsx)("summary",{children:"Reload Maven Projects After Profile Changes"}),(0,t.jsxs)(n.p,{children:["If you switch maven build profile, e.g., to a different Spark version, you need to first build Hudi in the command line and then ",(0,t.jsx)(n.code,{children:"Reload All Maven Projects"})," in IntelliJ like below,\nso that IntelliJ re-indexes the code."]}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"IDE setup reload",src:s(54305).A+"",width:"1538",height:"1608"})})]}),"\n",(0,t.jsxs)(i,{children:[(0,t.jsx)("summary",{children:"[Recommended] Set Up Code Style and CheckStyle"}),(0,t.jsxs)(n.p,{children:["We have embraced the code style largely based on ",(0,t.jsx)(n.a,{href:"https://google.github.io/styleguide/javaguide.html",children:"google format"}),". Please set up your IDE with style files from ",(0,t.jsx)(n.a,{href:"https://github.com/apache/hudi/tree/master/style",children:"<project root>/style/"}),". These instructions have been tested on IntelliJ."]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open ",(0,t.jsx)(n.code,{children:"Settings"})," in IntelliJ"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Install and activate CheckStyle plugin"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"IDE_setup_checkstyle_1",src:s(27445).A+"",width:"1950",height:"1434"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In ",(0,t.jsx)(n.code,{children:"Settings"})," > ",(0,t.jsx)(n.code,{children:"Tools"})," > ",(0,t.jsx)(n.code,{children:"Checkstyle"}),", use a recent version, e.g., 12.1.0"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Click on ",(0,t.jsx)(n.code,{children:"+"}),', add the style/checkstyle.xml file, and name the configuration as "Hudi Checks"']}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"IDE_setup_checkstyle_3",src:s(82855).A+"",width:"1950",height:"1432"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Activate the checkstyle configuration by checking ",(0,t.jsx)(n.code,{children:"Active"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open ",(0,t.jsx)(n.code,{children:"Settings"})," > ",(0,t.jsx)(n.code,{children:"Editor"})," > ",(0,t.jsx)(n.code,{children:"Code Style"})," > ",(0,t.jsx)(n.code,{children:"Java"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:['Select "Project" as the "Scheme".  Then, go to the settings, open ',(0,t.jsx)(n.code,{children:"Import Scheme"})," > ",(0,t.jsx)(n.code,{children:"CheckStyle Configuration"}),", select ",(0,t.jsx)(n.code,{children:"style/checkstyle.xml"})," to load"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"IDE_setup_code_style_java_before",src:s(78492).A+"",width:"1952",height:"1430"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["After loading the configuration, you should see that the ",(0,t.jsx)(n.code,{children:"Indent"})," and ",(0,t.jsx)(n.code,{children:"Continuation indent"})," become 2 and 4, from 4 and 8, respectively"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Apply/Save the changes"}),"\n"]}),"\n"]})]}),"\n",(0,t.jsxs)(i,{children:[(0,t.jsx)("summary",{children:"[Recommended] Set Up Save Actions and Copyright"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Set up the ",(0,t.jsx)(n.a,{href:"https://plugins.jetbrains.com/plugin/7642-save-actions",children:"Save Action Plugin"})," to auto format & organize imports on save. The Maven Compilation life-cycle will fail if there are checkstyle violations."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["As it is required to add ",(0,t.jsx)(n.a,{href:"https://www.apache.org/legal/src-headers#headers",children:"Apache License header"}),' to all source files, configuring "Copyright" settings as shown below will come in handy.']}),"\n"]}),"\n"]}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"IDE setup copyright 1",src:s(28603).A+"",width:"1954",height:"1434"})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"IDE setup copyright 2",src:s(73568).A+"",width:"1950",height:"1434"})})]}),"\n",(0,t.jsx)(n.h2,{id:"running-unit-tests-and-local-debugger-via-intellij-ide",children:"Running unit tests and local debugger via Intellij IDE"}),"\n",(0,t.jsx)(n.admonition,{title:"Important reminder",type:"note",children:(0,t.jsx)(n.p,{children:"When submitting a PR please make sure to NOT commit the changes mentioned in these steps, instead once testing is done make sure to revert the changes and then submit a pr."})}),"\n",(0,t.jsxs)(n.ol,{start:"0",children:["\n",(0,t.jsxs)(n.li,{children:["Build the project with the intended profiles via the ",(0,t.jsx)(n.code,{children:"mvn"})," cli, for example for spark 3.5 use ",(0,t.jsx)(n.code,{children:"mvn clean package -Dspark3.5 -Dscala-2.12 -DskipTests"}),"."]}),"\n",(0,t.jsx)(n.li,{children:'Install the "Maven Helper" plugin from the Intellij IDE.'}),"\n",(0,t.jsxs)(n.li,{children:["Make sure IDEA uses Maven to build/run tests:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["You need to select the intended Maven profiles (using Maven tool pane in IDEA): select profiles you are targeting for example ",(0,t.jsx)(n.code,{children:"spark3.5"}),", ",(0,t.jsx)(n.code,{children:"scala-2.12"})," etc."]}),"\n",(0,t.jsxs)(n.li,{children:["Add ",(0,t.jsx)(n.code,{children:".mvn/maven.config"})," file at the root of the repo w/ the profiles you selected in the pane: ",(0,t.jsx)(n.code,{children:"-Dspark3.5"})," ",(0,t.jsx)(n.code,{children:"-Dscala-2.12"})]}),"\n",(0,t.jsxs)(n.li,{children:["Add ",(0,t.jsx)(n.code,{children:".mvn/"})," to the ",(0,t.jsx)(n.code,{children:".gitignore"})," file located in the root of the project."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Make sure you change (temporarily) the ",(0,t.jsx)(n.code,{children:"scala.binary.version"})," in the root ",(0,t.jsx)(n.code,{children:"pom.xml"})," to the intended scala profile version. For example if running with spark3 ",(0,t.jsx)(n.code,{children:"scala.binary.version"})," should be ",(0,t.jsx)(n.code,{children:"2.12"})]}),"\n",(0,t.jsxs)(n.li,{children:["Finally right click on the unit test's method signature you are trying to run, there should be an option with a mvn symbol that allows you to ",(0,t.jsx)(n.code,{children:"run <test-name>"}),", as well as an option to ",(0,t.jsx)(n.code,{children:"debug <test-name>"}),".","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["For debugging make sure to first set breakpoints in the src code see (",(0,t.jsx)(n.a,{href:"https://www.jetbrains.com/help/idea/debugging-code.html",children:"https://www.jetbrains.com/help/idea/debugging-code.html"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"docker-setup",children:"Docker Setup"}),"\n",(0,t.jsxs)(n.p,{children:["We encourage you to test your code on the docker cluster please follow this for ",(0,t.jsx)(n.a,{href:"https://hudi.apache.org/docs/docker_demo",children:"docker setup"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"remote-debugging",children:"Remote Debugging"}),"\n",(0,t.jsx)(n.p,{children:"If your code fails on the docker cluster you can remotely debug your code please follow the below steps."}),"\n",(0,t.jsx)(n.p,{children:"Step 1 :- Run your Hudi Streamer Job with --conf as defined this will ensure to wait till you attach your intellij with Remote Debugging on port 4044"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-scala",children:'spark-submit \\\n  --conf spark.driver.extraJavaOptions="-Dconfig.resource=myapp.conf  -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=4044" \\\n  --class org.apache.hudi.utilities.streamer.HoodieStreamer $HUDI_UTILITIES_BUNDLE \\\n  --table-type COPY_ON_WRITE \\\n  --source-class org.apache.hudi.utilities.sources.JsonKafkaSource \\\n  --source-ordering-field ts  \\\n  --base-file-format parquet \\\n  --target-base-path /user/hive/warehouse/stock_ticks_cow \\\n  --target-table stock_ticks_cow --props /var/demo/config/kafka-source.properties \\\n  --schemaprovider-class org.apache.hudi.utilities.schema.FilebasedSchemaProvider\n'})}),"\n",(0,t.jsx)(n.p,{children:"Step 2 :- Attaching Intellij (tested on Intellij Version > 2019. these steps may change acc. to intellij version)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Come to Intellij --\x3e Edit Configurations -> Remote -> Add Remote -> Put Below Configs -> Apply & Save -> Put Debug Point -> Start."}),"\n",(0,t.jsx)(n.li,{children:"Name : Hudi Remote"}),"\n",(0,t.jsx)(n.li,{children:"Port : 4044"}),"\n",(0,t.jsxs)(n.li,{children:["Command Line Args for Remote JVM : -agentlib",":jdwp","=transport=dt_socket,server=y,suspend=n,address=4044"]}),"\n",(0,t.jsx)(n.li,{children:"Use Module ClassPath : select hudi"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"website",children:"Website"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://hudi.apache.org",children:"Apache Hudi site"})," is hosted on a special ",(0,t.jsx)(n.code,{children:"asf-site"})," branch. Please follow the ",(0,t.jsx)(n.code,{children:"README"})," file under ",(0,t.jsx)(n.code,{children:"docs"})," on that branch for\ninstructions on making changes to the website."]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},73568(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/IDE_setup_copyright_2-c7390c2882fbcbbbe4981fb2a23467e8.png"},78492(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/IDE_setup_code_style_java_before-91e8585396d5094aa1f08989beb2bea3.png"},82855(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/IDE_setup_checkstyle_3-c2cc54d7e67154632df020e5afaf023a.png"}}]);