"use strict";(globalThis.webpackChunkhudi=globalThis.webpackChunkhudi||[]).push([[29679],{8280(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>s,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"release-1.0.0-beta2","title":"Release 1.0.0-beta2","description":"Release 1.0.0-beta2","source":"@site/releases/release-1.0.0-beta2.md","sourceDirName":".","slug":"/release-1.0.0-beta2","permalink":"/releases/release-1.0.0-beta2","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Release 1.0.0-beta2","layout":"releases","toc":true}}');var r=t(74848),i=t(28453);t(11470),t(19365);const s={title:"Release 1.0.0-beta2",layout:"releases",toc:!0},o=void 0,l={},d=[{value:"Release 1.0.0-beta2",id:"release-100-beta2",level:2},{value:"Migration Guide",id:"migration-guide",level:2},{value:"Highlights",id:"highlights",level:2},{value:"Format changes",id:"format-changes",level:3},{value:"Timeline",id:"timeline",level:4},{value:"Log File Format",id:"log-file-format",level:4},{value:"Metadata indexes",id:"metadata-indexes",level:3},{value:"Secondary Index",id:"secondary-index",level:4},{value:"Partition Stats Index",id:"partition-stats-index",level:4},{value:"API Changes",id:"api-changes",level:3},{value:"Positional Merging with Filegroup Reader",id:"positional-merging-with-filegroup-reader",level:4},{value:"Hudi-Flink Enhancements",id:"hudi-flink-enhancements",level:3},{value:"Raw Release Notes",id:"raw-release-notes",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"release-100-beta2",children:(0,r.jsx)(n.a,{href:"https://github.com/apache/hudi/releases/tag/release-1.0.0-beta2",children:"Release 1.0.0-beta2"})}),"\n",(0,r.jsx)(n.p,{children:"Apache Hudi 1.0.0-beta2 is the second beta release of Apache Hudi. This release is meant for early adopters to try\nout the new features and provide feedback. The release is not meant for production use."}),"\n",(0,r.jsx)(n.h2,{id:"migration-guide",children:"Migration Guide"}),"\n",(0,r.jsxs)(n.p,{children:["This release contains major format changes as we will see in highlights below. We encourage users to try out the\n",(0,r.jsx)(n.strong,{children:"1.0.0-beta2"})," features on new tables. The 1.0 general availability (GA) release will support automatic table upgrades\nfrom 0.x versions, while also ensuring full backward compatibility when reading 0.x Hudi tables using 1.0, ensuring a\nseamless migration experience."]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["Given that timeline format and log file format has changed in this ",(0,r.jsx)(n.strong,{children:"beta release"}),", it is recommended not to attempt to do\nrolling upgrades from older versions to this release."]})}),"\n",(0,r.jsx)(n.h2,{id:"highlights",children:"Highlights"}),"\n",(0,r.jsx)(n.h3,{id:"format-changes",children:"Format changes"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://github.com/apache/hudi/issues/15964",children:"This GitHub issue"})," is the main epic covering all the format changes proposals,\nwhich are also partly covered in the ",(0,r.jsx)(n.a,{href:"/learn/tech-specs-1point0",children:"Hudi 1.0 tech specification"}),". The following are the main\nchanges in this release:"]}),"\n",(0,r.jsx)(n.h4,{id:"timeline",children:"Timeline"}),"\n",(0,r.jsxs)(n.p,{children:["No major changes in this release. Refer to ",(0,r.jsx)(n.a,{href:"/releases/release-1.0.0-beta1#timeline",children:"1.0.0-beta1#timeline"})," for more details."]}),"\n",(0,r.jsx)(n.h4,{id:"log-file-format",children:"Log File Format"}),"\n",(0,r.jsxs)(n.p,{children:["In addition to the fields in the log file header added in ",(0,r.jsx)(n.a,{href:"/releases/release-1.0.0-beta1#log-file-format",children:"1.0.0-beta1"}),", we also\nstore a flag, ",(0,r.jsx)(n.code,{children:"IS_PARTIAL"})," to indicate whether the log block contains partial updates or not."]}),"\n",(0,r.jsx)(n.h3,{id:"metadata-indexes",children:"Metadata indexes"}),"\n",(0,r.jsxs)(n.p,{children:["In 1.0.0-beta1, we added support for functional index. In 1.0.0-beta2, we have added support for secondary indexes and\npartition stats index to the ",(0,r.jsx)(n.a,{href:"/blog/2022/05/17/Introducing-Multi-Modal-Index-for-the-Lakehouse-in-Apache-Hudi",children:"multi-modal indexing"})," subsystem."]}),"\n",(0,r.jsx)(n.h4,{id:"secondary-index",children:"Secondary Index"}),"\n",(0,r.jsxs)(n.p,{children:["Secondary indexes allow users to create indexes on columns that are not part of record key columns in Hudi tables (for\nrecord key fields, Hudi supports ",(0,r.jsx)(n.a,{href:"/blog/2023/11/01/record-level-index",children:"Record-level Index"}),". Secondary indexes can be used to speed up\nqueries with predicate on columns other than record key columns."]}),"\n",(0,r.jsx)(n.h4,{id:"partition-stats-index",children:"Partition Stats Index"}),"\n",(0,r.jsx)(n.p,{children:"Partition stats index aggregates statistics at the partition level for the columns for which it is enabled. This helps\nin efficient partition pruning even for non-partition fields."}),"\n",(0,r.jsxs)(n.p,{children:["To try out these features, refer to the ",(0,r.jsx)(n.a,{href:"/docs/next/sql_ddl#create-partition-stats-index",children:"SQL guide"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"api-changes",children:"API Changes"}),"\n",(0,r.jsx)(n.h4,{id:"positional-merging-with-filegroup-reader",children:"Positional Merging with Filegroup Reader"}),"\n",(0,r.jsxs)(n.p,{children:["In 1.0.0-beta1, we added a new ",(0,r.jsx)(n.a,{href:"/releases/release-1.0.0-beta1#new-filegroup-reader",children:"filegroup reader"}),", which provides\n5.7x performance benefits for snapshot queries on Merge-on-Read tables with updates. The reader now\nprovides position-based merging, as an alternative to existing key-based merging, and skipping pages based on record\npositions. The new filegroup reader is integrated with Spark and Hive, and enabled by default. To enable positional\nmerging set below configs:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"hoodie.merge.use.record.positions=true\n"})}),"\n",(0,r.jsx)(n.h3,{id:"hudi-flink-enhancements",children:"Hudi-Flink Enhancements"}),"\n",(0,r.jsxs)(n.p,{children:["This release comes with the support for ",(0,r.jsx)(n.a,{href:"https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/sql/queries/joins/#lookup-join",children:"lookup joins"}),".\nA lookup join is typically used to enrich a table with data that is queried from an external system. The join requires\none table to have a processing time attribute and the other table to be backed by a lookup source connector. Head over\nto the ",(0,r.jsx)(n.a,{href:"/docs/next/sql_dml#lookup-joins",children:"FLink SQL guide"})," to try out this feature."]}),"\n",(0,r.jsx)(n.h2,{id:"raw-release-notes",children:"Raw Release Notes"}),"\n",(0,r.jsxs)(n.p,{children:["The raw release notes are available ",(0,r.jsx)(n.a,{href:"https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12322822&version=12354810",children:"here"}),"."]})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},11470(e,n,t){t.d(n,{A:()=>T});var a=t(96540),r=t(34164),i=t(17559),s=t(23104),o=t(56347),l=t(205),d=t(57485),u=t(31682),c=t(70679);function h(e){return a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:n,children:t}=e;return(0,a.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:t,default:a}})=>({value:e,label:n,attributes:t,default:a}))}(t);return function(e){const n=(0,u.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function f({value:e,tabValues:n}){return n.some(n=>n.value===e)}function g({queryString:e=!1,groupId:n}){const t=(0,o.W6)(),r=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,d.aZ)(r),(0,a.useCallback)(e=>{if(!r)return;const n=new URLSearchParams(t.location.search);n.set(r,e),t.replace({...t.location,search:n.toString()})},[r,t])]}function m(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,i=p(e),[s,o]=(0,a.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!f({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:i})),[d,u]=g({queryString:t,groupId:r}),[h,m]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,r]=(0,c.Dv)(n);return[t,(0,a.useCallback)(e=>{n&&r.set(e)},[n,r])]}({groupId:r}),b=(()=>{const e=d??h;return f({value:e,tabValues:i})?e:null})();(0,l.A)(()=>{b&&o(b)},[b]);return{selectedValue:s,selectValue:(0,a.useCallback)(e=>{if(!f({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),m(e)},[u,m,i]),tabValues:i}}var b=t(92303);const x="tabList__CuJ",v="tabItem_LNqP";var j=t(74848);function w({className:e,block:n,selectedValue:t,selectValue:a,tabValues:i}){const o=[],{blockElementScrollPositionUntilNextRender:l}=(0,s.a_)(),d=e=>{const n=e.currentTarget,r=o.indexOf(n),s=i[r].value;s!==t&&(l(n),a(s))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;n=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;n=o[t]??o[o.length-1];break}}n?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},e),children:i.map(({value:e,label:n,attributes:a})=>(0,j.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{o.push(e)},onKeyDown:u,onClick:d,...a,className:(0,r.A)("tabs__item",v,a?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function y({lazy:e,children:n,selectedValue:t}){const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=i.find(e=>e.props.value===t);return e?(0,a.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:i.map((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function k(e){const n=m(e);return(0,j.jsxs)("div",{className:(0,r.A)(i.G.tabs.container,"tabs-container",x),children:[(0,j.jsx)(w,{...n,...e}),(0,j.jsx)(y,{...n,...e})]})}function T(e){const n=(0,b.A)();return(0,j.jsx)(k,{...e,children:h(e.children)},String(n))}},19365(e,n,t){t.d(n,{A:()=>s});t(96540);var a=t(34164);const r="tabItem_Ymn6";var i=t(74848);function s({children:e,hidden:n,className:t}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,a.A)(r,t),hidden:n,children:e})}},28453(e,n,t){t.d(n,{R:()=>s,x:()=>o});var a=t(96540);const r={},i=a.createContext(r);function s(e){const n=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);